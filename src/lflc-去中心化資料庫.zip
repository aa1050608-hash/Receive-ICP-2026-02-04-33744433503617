PK
build-template/PK
build-template/tsconfig.json{
  "compilerOptions": {
    "strict": true,
    "target": "ES2020",
    "experimentalDecorators": true,
    "strictPropertyInitialization": false,
    "moduleResolution": "node",
    "allowJs": true,
    "outDir": "HACK_BECAUSE_OF_ALLOW_JS"
  }
}
PK
build-template/src/PK
build-template/src/frontend/PK
build-template/src/frontend/components.json{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "index.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}
PK
build-template/package.json{
  "name": "@caffeine/template-app",
  "type": "module",
  "engines": {
    "node": ">=16.0.0",
    "pnpm": ">=7.0.0",
    "npm": "please use pnpm"
  },
  "scripts": {
    "build": "pnpm -r --if-present run build",
    "prebuild": "pnpm -r --if-present run prebuild",
    "pretest": "pnpm -r --if-present run prebuild",
    "start": "pnpm -r --if-present run start",
    "test": "pnpm -r --if-present run test"
  },
  "devDependencies": {
    "sharp": "^0.34.4"
  }
}
PK
build-template/pnpm-workspace.yamlpackages:
    - src/**/*
onlyBuiltDependencies:
    - esbuild
PK
build-template/src/frontend/package.json{
  "name": "@caffeine/template-frontend",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "setup": "pnpm i && dfx canister create backend && dfx generate backend && dfx deploy",
    "start": "vite --port 3000",
    "prebuild": "dfx generate backend",
    "build:skip-bindings": "vite build && pnpm copy:env",
    "copy:env": "cp env.json dist/",
    "typescript-check": "tsc --noEmit --pretty",
    "format": "prettier --write \"src/**/*.{json,js,jsx,ts,tsx,css,scss}\"",
    "lint": "eslint src --ext .ts,.tsx,.js,.jsx",
    "lint:fix": "eslint src --ext .ts,.tsx,.js,.jsx --fix"
  },
  "devDependencies": {
    "@eslint/js": "~9.27.0",
    "@tailwindcss/container-queries": "^0.1.1",
    "@react-three/eslint-plugin": "~0.1.2",
    "@types/node": "^20.9.0",
    "@types/react": "~19.1.0",
    "@types/react-dom": "~19.1.0",
    "@types/three": "0.176.0",
    "@typescript-eslint/eslint-plugin": "^8.32.1",
    "@typescript-eslint/parser": "^8.32.1",
    "@typescript-eslint/utils": "^8.32.1",
    "@vitejs/plugin-react": "^4.3.1",
    "autoprefixer": "^10.4.20",
    "dotenv": "^16.5.0",
    "dotenv-cli": "^8.0.0",
    "eslint": "~9.27.0",
    "eslint-plugin-react": "~7.37.5",
    "eslint-plugin-react-hooks": "~5.2.0",
    "eslint-plugin-tailwindcss": "~3.18.2",
    "globals": "~16.2.0",
    "postcss": "^8.4.41",
    "tailwindcss": "^3.4.17",
    "@tailwindcss/typography": "0.5.10",
    "tailwindcss-animate": "^1.0.7",
    "@tanstack/eslint-plugin-router": "~1.115.0",
    "typescript": "^5.8.3",
    "vite": "^5.4.1",
    "vite-plugin-environment": "^1.1.3"
  },
  "dependencies": {
    "@dfinity/agent": "~3.3.0",
    "@dfinity/identity": "~3.3.0",
    "@dfinity/auth-client": "~3.3.0",
    "@dfinity/candid": "~3.3.0",
    "@dfinity/principal": "~3.3.0",
    "@icp-sdk/core": "~4.1.0",
    "@react-three/cannon": "~6.6.0",
    "@react-three/drei": "~10.0.8",
    "@react-three/fiber": "~9.1.2",
    "@tanstack/react-query": "^5.24.0",
    "@tanstack/react-router": "~1.131.8",
    "lucide-react": "0.511.0",
    "react-icons": "^5.4.0",
    "@radix-ui/react-slot": "^1.1.0",
    "@radix-ui/react-dialog": "^1.1.1",
    "@radix-ui/react-dropdown-menu": "^2.1.1",
    "@radix-ui/react-label": "^2.1.0",
    "@radix-ui/react-select": "^2.1.2",
    "@radix-ui/react-tabs": "^1.1.0",
    "@radix-ui/react-tooltip": "^1.1.2",
    "@radix-ui/react-scroll-area": "^1.2.0",
    "@radix-ui/react-popover": "^1.1.1",
    "@radix-ui/react-checkbox": "^1.1.1",
    "@radix-ui/react-switch": "^1.1.1",
    "@radix-ui/react-separator": "^1.1.0",
    "@radix-ui/react-avatar": "^1.1.0",
    "@radix-ui/react-accordion": "^1.1.2",
    "@radix-ui/react-alert-dialog": "^1.1.2",
    "@radix-ui/react-aspect-ratio": "^1.1.0",
    "@radix-ui/react-hover-card": "^1.1.2",
    "@radix-ui/react-menubar": "^1.1.1",
    "@radix-ui/react-navigation-menu": "^1.2.0",
    "@radix-ui/react-progress": "^1.1.0",
    "@radix-ui/react-radio-group": "^1.2.0",
    "@radix-ui/react-slider": "^1.2.0",
    "@radix-ui/react-toggle": "^1.1.0",
    "@radix-ui/react-toggle-group": "^1.1.0",
    "@radix-ui/react-collapsible": "^1.1.0",
    "@radix-ui/react-context-menu": "^2.2.15",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.1.1",
    "tailwind-merge": "^2.5.2",
    "react-day-picker": "^9.5.0",
    "date-fns": "^3.6.0",
    "embla-carousel-react": "^8.2.1",
    "recharts": "^2.15.1",
    "cmdk": "^1.0.0",
    "vaul": "^1.1.2",
    "react-hook-form": "^7.53.0",
    "input-otp": "^1.4.1",
    "react-resizable-panels": "^2.1.7",
    "sonner": "^1.7.4",
    "next-themes": "~0.4.6",
    "react": "~19.1.0",
    "react-use": "~17.6.0",
    "react-dom": "~19.1.0",
    "react-quill-new": "3.4.6",
    "three": "^0.176.0",
    "zustand": "~5.0.5"
  }
}
PK
backend/PK
backend/stripe/PK
backend/stripe/stripe.moimport Nat "mo:core/Nat";
import Text "mo:core/Text";
import Principal "mo:core/Principal";
import Runtime "mo:core/Runtime";
import Error "mo:core/Error";
import List "mo:core/List";
import OutCall "../http-outcalls/outcall";

module {
  public type StripeConfiguration = {
    secretKey : Text;
    allowedCountries : [Text];
  };

  public type ShoppingItem = {
    currency : Text;
    productName : Text;
    productDescription : Text;
    priceInCents : Nat;
    quantity : Nat;
  };

  public func createCheckoutSession(configuration : StripeConfiguration, caller : Principal, items : [ShoppingItem], successUrl : Text, cancelUrl : Text, transform : OutCall.Transform) : async Text {
    let requestBody = buildCheckoutSessionBody(items, configuration.allowedCountries, successUrl, cancelUrl, ?caller.toText());
    try {
      await callStripe(configuration, "v1/checkout/sessions", #post, ?requestBody, transform);
    } catch (error) {
      Runtime.trap("Failed to create checkout session: " # error.message());
    };
  };

  public type StripeSessionStatus = {
    #failed : { error : Text };
    #completed : { response : Text; userPrincipal : ?Text };
  };

  public func getSessionStatus(configuration : StripeConfiguration, sessionId : Text, transform : OutCall.Transform) : async StripeSessionStatus {
    try {
      let reply = await callStripe(configuration, "v1/checkout/sessions/" # sessionId, #get, null, transform);
      if (reply.contains(#text "\"error\"")) {
        #failed({ error = "Stripe API error" });
      } else {
        let extractedPrincipal = extractClientReferenceId(reply);
        #completed({ response = reply; userPrincipal = extractedPrincipal });
      };
    } catch (error) {
      #failed({ error = error.message() });
    };
  };

  func callStripe(configuration : StripeConfiguration, endpoint : Text, method : { #get; #post }, body : ?Text, transform : OutCall.Transform) : async Text {
    var headers = [
      {
        name = "authorization";
        value = "Bearer " # configuration.secretKey;
      },
      {
        name = "content-type";
        value = if (method == #get) { "application/json" } else { "application/x-www-form-urlencoded" };
      }
    ];
    let url = "https://api.stripe.com/" # endpoint;
    switch (method) {
      case (#get) {
        switch (body) {
          case (?_) { Runtime.trap("HTTP GET does not support a HTTP body") };
          case (null) {};
        };
        await OutCall.httpGetRequest(url, headers, transform);
      };
      case (#post) {
        let postBody = switch (body) {
          case (?rawBody) { rawBody };
          case (null) { Runtime.trap("HTTP POST requires a HTTP body") };
        };
        await OutCall.httpPostRequest(url, headers, postBody, transform);
      };
    };
  };

  func urlEncode(text : Text) : Text {
    text.replace(#char ' ', "%20").replace(#char '&', "%26").replace(#char '=', "%3D");
  };

  func buildCheckoutSessionBody(items : [ShoppingItem], allowedCountries : [Text], successUrl : Text, cancelUrl : Text, clientReferenceId : ?Text) : Text {
    let params = List.empty<Text>();
    var index = 0;
    for (item in items.vals()) {
      let indexText = index.toText();
      params.add("line_items[" # indexText # "][price_data][currency]=" # urlEncode(item.currency));
      params.add("line_items[" # indexText # "][price_data][product_data][name]=" # urlEncode(item.productName));
      params.add("line_items[" # indexText # "][price_data][product_data][description]=" # urlEncode(item.productDescription));
      params.add("line_items[" # indexText # "][price_data][unit_amount]=" # item.priceInCents.toText());
      params.add("line_items[" # indexText # "][quantity]=" # item.quantity.toText());
      index += 1;
    };
    params.add("mode=payment");
    params.add("success_url=" # urlEncode(successUrl));
    params.add("cancel_url=" # urlEncode(cancelUrl));
    for (country in allowedCountries.vals()) {
      params.add("shipping_address_collection[allowed_countries][0]=" # urlEncode(country));
    };
    switch (clientReferenceId) {
      case (?id) { params.add("client_reference_id=" # urlEncode(id)) };
      case (null) {};
    };
    params.values().join("&");
  };

  func extractClientReferenceId(jsonText : Text) : ?Text {
    let patterns = ["\"client_reference_id\":\"", "\"client_reference_id\": \""];
    for (pattern in patterns.values()) {
      if (jsonText.contains(#text pattern)) {
        let parts = jsonText.split(#text pattern);
        switch (parts.next()) {
          case (null) {};
          case (?_) {
            switch (parts.next()) {
              case (?afterPattern) {
                switch (afterPattern.split(#text "\"").next()) {
                  case (?value) {
                    if (value.size() > 0) {
                      return ?value;
                    };
                  };
                  case (_) {};
                };
              };
              case (null) {};
            };
          };
        };
      };
    };
    null;
  };
};
PK
build-template/src/frontend/env.json{
  "backend_host": "undefined",
  "backend_canister_id": "undefined",
  "project_id": "undefined",
  "ii_derivation_origin": "undefined"
}
PK
backend/authorization/PK
backend/authorization/access-control.moimport Map "mo:core/Map";
import Principal "mo:core/Principal";
import Runtime "mo:core/Runtime";

module {
  public type UserRole = {
    #admin;
    #user;
    #guest;
  };

  public type AccessControlState = {
    var adminAssigned : Bool;
    userRoles : Map.Map<Principal, UserRole>;
  };

  public func initState() : AccessControlState {
    {
      var adminAssigned = false;
      userRoles = Map.empty<Principal, UserRole>();
    };
  };

  // First principal that calls this function becomes admin, all other principals become users.
  public func initialize(state : AccessControlState, caller : Principal) {
    if (not caller.isAnonymous()) {
      switch (state.userRoles.get(caller)) {
        case (?_) {};
        case (null) {
          if (not state.adminAssigned) {
            state.userRoles.add(caller, #admin);
            state.adminAssigned := true;
          } else {
            state.userRoles.add(caller, #user);
          };
        };
      };
    };
  };

  public func getUserRole(state : AccessControlState, caller : Principal) : UserRole {
    if (caller.isAnonymous()) {
      #guest;
    } else {
      switch (state.userRoles.get(caller)) {
        case (?role) { role };
        case (null) {
          Runtime.trap("User is not registered");
        };
      };
    };
  };

  public func assignRole(state : AccessControlState, caller : Principal, user : Principal, role : UserRole) {
    if (not (isAdmin(state, caller))) {
      Runtime.trap("Unauthorized: Only admins can assign user roles");
    };
    state.userRoles.add(user, role);
  };

  public func hasPermission(state : AccessControlState, caller : Principal, requiredRole : UserRole) : Bool {
    let role = getUserRole(state, caller);
    switch (role) {
      case (#admin) { true };
      case (role) {
        switch (requiredRole) {
          case (#admin) { false };
          case (#user) { role == #user };
          case (#guest) { true };
        };
      };
    };
  };

  public func isAdmin(state : AccessControlState, caller : Principal) : Bool {
    getUserRole(state, caller) == #admin;
  };
};
PK
build-template/src/backend/PK
build-template/src/backend/system-idl/PK
build-template/src/backend/system-idl/aaaaa-aa.didtype canister_id = principal;
type wasm_module = blob;
type snapshot_id = blob;

type log_visibility = variant {
    controllers;
    public;
    allowed_viewers : vec principal;
};

type canister_settings = record {
    controllers : opt vec principal;
    compute_allocation : opt nat;
    memory_allocation : opt nat;
    freezing_threshold : opt nat;
    reserved_cycles_limit : opt nat;
    log_visibility : opt log_visibility;
    wasm_memory_limit : opt nat;
    wasm_memory_threshold : opt nat;
};

type definite_canister_settings = record {
    controllers : vec principal;
    compute_allocation : nat;
    memory_allocation : nat;
    freezing_threshold : nat;
    reserved_cycles_limit : nat;
    log_visibility : log_visibility;
    wasm_memory_limit : nat;
    wasm_memory_threshold : nat;
};

type change_origin = variant {
    from_user : record {
        user_id : principal;
    };
    from_canister : record {
        canister_id : principal;
        canister_version : opt nat64;
    };
};

type change_details = variant {
    creation : record {
        controllers : vec principal;
    };
    code_uninstall;
    code_deployment : record {
        mode : variant { install; reinstall; upgrade };
        module_hash : blob;
    };
    load_snapshot : record {
        canister_version : nat64;
        snapshot_id : snapshot_id;
        taken_at_timestamp : nat64;
    };
    controllers_change : record {
        controllers : vec principal;
    };
};

type change = record {
    timestamp_nanos : nat64;
    canister_version : nat64;
    origin : change_origin;
    details : change_details;
};

type chunk_hash = record {
    hash : blob;
};

type http_header = record {
    name : text;
    value : text;
};

type http_request_result = record {
    status : nat;
    headers : vec http_header;
    body : blob;
};

type ecdsa_curve = variant {
    secp256k1;
};

type schnorr_algorithm = variant {
    bip340secp256k1;
    ed25519;
};

type satoshi = nat64;

type bitcoin_network = variant {
    mainnet;
    testnet;
};

type bitcoin_address = text;

type bitcoin_block_hash = blob;

type bitcoin_block_header = blob;

type millisatoshi_per_byte = nat64;

type bitcoin_block_height = nat32;

type outpoint = record {
    txid : blob;
    vout : nat32;
};

type utxo = record {
    outpoint : outpoint;
    value : satoshi;
    height : nat32;
};

type bitcoin_get_utxos_args = record {
    address : bitcoin_address;
    network : bitcoin_network;
    filter : opt variant {
        min_confirmations : nat32;
        page : blob;
    };
};

type bitcoin_get_utxos_result = record {
    utxos : vec utxo;
    tip_block_hash : bitcoin_block_hash;
    tip_height : bitcoin_block_height;
    next_page : opt blob;
};

type bitcoin_get_balance_args = record {
    address : bitcoin_address;
    network : bitcoin_network;
    min_confirmations : opt nat32;
};

type bitcoin_get_balance_result = satoshi;

type bitcoin_get_current_fee_percentiles_args = record {
    network : bitcoin_network;
};

type bitcoin_get_current_fee_percentiles_result = vec millisatoshi_per_byte;

type bitcoin_send_transaction_args = record {
    transaction : blob;
    network : bitcoin_network;
};

type bitcoin_get_block_headers_args = record {
    start_height : bitcoin_block_height;
    end_height : opt bitcoin_block_height;
    network : bitcoin_network;
};

type bitcoin_get_block_headers_result = record {
    tip_height : bitcoin_block_height;
    block_headers : vec bitcoin_block_header;
};

type node_metrics = record {
    node_id : principal;
    num_blocks_proposed_total : nat64;
    num_block_failures_total : nat64;
};

type create_canister_args = record {
    settings : opt canister_settings;
    sender_canister_version : opt nat64;
};

type create_canister_result = record {
    canister_id : canister_id;
};

type update_settings_args = record {
    canister_id : principal;
    settings : canister_settings;
    sender_canister_version : opt nat64;
};

type upload_chunk_args = record {
    canister_id : principal;
    chunk : blob;
};

type clear_chunk_store_args = record {
    canister_id : canister_id;
};

type stored_chunks_args = record {
    canister_id : canister_id;
};

type canister_install_mode = variant {
    install;
    reinstall;
    upgrade : opt record {
        skip_pre_upgrade : opt bool;
        wasm_memory_persistence : opt variant {
            keep;
            replace;
        };
    };
};

type install_code_args = record {
    mode : canister_install_mode;
    canister_id : canister_id;
    wasm_module : wasm_module;
    arg : blob;
    sender_canister_version : opt nat64;
};

type install_chunked_code_args = record {
    mode : canister_install_mode;
    target_canister : canister_id;
    store_canister : opt canister_id;
    chunk_hashes_list : vec chunk_hash;
    wasm_module_hash : blob;
    arg : blob;
    sender_canister_version : opt nat64;
};

type uninstall_code_args = record {
    canister_id : canister_id;
    sender_canister_version : opt nat64;
};

type start_canister_args = record {
    canister_id : canister_id;
};

type stop_canister_args = record {
    canister_id : canister_id;
};

type canister_status_args = record {
    canister_id : canister_id;
};

type canister_status_result = record {
    status : variant { running; stopping; stopped };
    settings : definite_canister_settings;
    module_hash : opt blob;
    memory_size : nat;
    memory_metrics : record {
        wasm_memory_size : nat;
        stable_memory_size : nat;
        global_memory_size : nat;
        wasm_binary_size : nat;
        custom_sections_size : nat;
        canister_history_size : nat;
        wasm_chunk_store_size : nat;
        snapshots_size : nat;
    };
    cycles : nat;
    reserved_cycles : nat;
    idle_cycles_burned_per_day : nat;
    query_stats : record {
        num_calls_total : nat;
        num_instructions_total : nat;
        request_payload_bytes_total : nat;
        response_payload_bytes_total : nat;
    };
};

type canister_info_args = record {
    canister_id : canister_id;
    num_requested_changes : opt nat64;
};

type canister_info_result = record {
    total_num_changes : nat64;
    recent_changes : vec change;
    module_hash : opt blob;
    controllers : vec principal;
};

type delete_canister_args = record {
    canister_id : canister_id;
};

type deposit_cycles_args = record {
    canister_id : canister_id;
};

type http_request_args = record {
    url : text;
    max_response_bytes : opt nat64;
    method : variant { get; head; post };
    headers : vec http_header;
    body : opt blob;
    transform : opt record {
        function : func(record { response : http_request_result; context : blob }) -> (http_request_result) query;
        context : blob;
    };
    is_replicated : opt bool;
};

type ecdsa_public_key_args = record {
    canister_id : opt canister_id;
    derivation_path : vec blob;
    key_id : record { curve : ecdsa_curve; name : text };
};

type ecdsa_public_key_result = record {
    public_key : blob;
    chain_code : blob;
};

type sign_with_ecdsa_args = record {
    message_hash : blob;
    derivation_path : vec blob;
    key_id : record { curve : ecdsa_curve; name : text };
};

type sign_with_ecdsa_result = record {
    signature : blob;
};

type schnorr_public_key_args = record {
    canister_id : opt canister_id;
    derivation_path : vec blob;
    key_id : record { algorithm : schnorr_algorithm; name : text };
};

type schnorr_public_key_result = record {
    public_key : blob;
    chain_code : blob;
};

type schnorr_aux = variant {
    bip341 : record {
        merkle_root_hash : blob;
    };
};

type sign_with_schnorr_args = record {
    message : blob;
    derivation_path : vec blob;
    key_id : record { algorithm : schnorr_algorithm; name : text };
    aux : opt schnorr_aux;
};

type sign_with_schnorr_result = record {
    signature : blob;
};

type node_metrics_history_args = record {
    subnet_id : principal;
    start_at_timestamp_nanos : nat64;
};

type node_metrics_history_result = vec record {
    timestamp_nanos : nat64;
    node_metrics : vec node_metrics;
};

type subnet_info_args = record {
    subnet_id : principal;
};

type subnet_info_result = record {
    replica_version : text;
};

type provisional_create_canister_with_cycles_args = record {
    amount : opt nat;
    settings : opt canister_settings;
    specified_id : opt canister_id;
    sender_canister_version : opt nat64;
};

type provisional_create_canister_with_cycles_result = record {
    canister_id : canister_id;
};

type provisional_top_up_canister_args = record {
    canister_id : canister_id;
    amount : nat;
};

type raw_rand_result = blob;

type stored_chunks_result = vec chunk_hash;

type upload_chunk_result = chunk_hash;

type snapshot = record {
    id : snapshot_id;
    taken_at_timestamp : nat64;
    total_size : nat64;
};

type take_canister_snapshot_args = record {
    canister_id : canister_id;
    replace_snapshot : opt snapshot_id;
};

type take_canister_snapshot_result = snapshot;

type load_canister_snapshot_args = record {
    canister_id : canister_id;
    snapshot_id : snapshot_id;
    sender_canister_version : opt nat64;
};

type list_canister_snapshots_args = record {
    canister_id : canister_id;
};

type list_canister_snapshots_result = vec snapshot;

type delete_canister_snapshot_args = record {
    canister_id : canister_id;
    snapshot_id : snapshot_id;
};

type fetch_canister_logs_args = record {
    canister_id : canister_id;
};

type canister_log_record = record {
    idx : nat64;
    timestamp_nanos : nat64;
    content : blob;
};

type fetch_canister_logs_result = record {
    canister_log_records : vec canister_log_record;
};

service ic : {
    create_canister : (create_canister_args) -> (create_canister_result);
    update_settings : (update_settings_args) -> ();
    upload_chunk : (upload_chunk_args) -> (upload_chunk_result);
    clear_chunk_store : (clear_chunk_store_args) -> ();
    stored_chunks : (stored_chunks_args) -> (stored_chunks_result);
    install_code : (install_code_args) -> ();
    install_chunked_code : (install_chunked_code_args) -> ();
    uninstall_code : (uninstall_code_args) -> ();
    start_canister : (start_canister_args) -> ();
    stop_canister : (stop_canister_args) -> ();
    canister_status : (canister_status_args) -> (canister_status_result);
    canister_info : (canister_info_args) -> (canister_info_result);
    delete_canister : (delete_canister_args) -> ();
    deposit_cycles : (deposit_cycles_args) -> ();
    raw_rand : () -> (raw_rand_result);
    http_request : (http_request_args) -> (http_request_result);

    // Threshold ECDSA signature
    ecdsa_public_key : (ecdsa_public_key_args) -> (ecdsa_public_key_result);
    sign_with_ecdsa : (sign_with_ecdsa_args) -> (sign_with_ecdsa_result);

    // Threshold Schnorr signature
    schnorr_public_key : (schnorr_public_key_args) -> (schnorr_public_key_result);
    sign_with_schnorr : (sign_with_schnorr_args) -> (sign_with_schnorr_result);

    // bitcoin interface
    bitcoin_get_balance : (bitcoin_get_balance_args) -> (bitcoin_get_balance_result);
    bitcoin_get_utxos : (bitcoin_get_utxos_args) -> (bitcoin_get_utxos_result);
    bitcoin_send_transaction : (bitcoin_send_transaction_args) -> ();
    bitcoin_get_current_fee_percentiles : (bitcoin_get_current_fee_percentiles_args) -> (bitcoin_get_current_fee_percentiles_result);
    bitcoin_get_block_headers : (bitcoin_get_block_headers_args) -> (bitcoin_get_block_headers_result);

    // metrics interface
    node_metrics_history : (node_metrics_history_args) -> (node_metrics_history_result);

    // subnet info
    subnet_info : (subnet_info_args) -> (subnet_info_result);

    // provisional interfaces for the pre-ledger world
    provisional_create_canister_with_cycles : (provisional_create_canister_with_cycles_args) -> (provisional_create_canister_with_cycles_result);
    provisional_top_up_canister : (provisional_top_up_canister_args) -> ();

    // Canister snapshots
    take_canister_snapshot : (take_canister_snapshot_args) -> (take_canister_snapshot_result);
    load_canister_snapshot : (load_canister_snapshot_args) -> ();
    list_canister_snapshots : (list_canister_snapshots_args) -> (list_canister_snapshots_result);
    delete_canister_snapshot : (delete_canister_snapshot_args) -> ();

    // canister logging
    fetch_canister_logs : (fetch_canister_logs_args) -> (fetch_canister_logs_result) query;
};
PK
build-template/src/frontend/eslint-rules/PK
build-template/src/frontend/eslint-rules/no-bigint-in-query-keys.js// eslint-rules/no-bigint-in-query-keys.js

import { getParserServices } from '@typescript-eslint/utils/eslint-utils';
import ts from 'typescript';

export default {
    meta: {
        type: 'problem',
        docs: {
            description: 'Disallow BigInt in TanStack Query keys',
            recommended: true
        },
        fixable: 'code',
        messages: {
            bigIntInQueryKey: 'BigInt detected in query key. Use .toString() to convert it.'
        },
        schema: []
    },
    create(context) {
        const sourceCode = context.getSourceCode();

        // Get parser services - this will handle TypeScript availability checks
        const services = getParserServices(context);
        const typeChecker = services.program.getTypeChecker();

        return {
            CallExpression(node) {
                const queryHooks = ['useQuery', 'useMutation', 'useInfiniteQuery', 'useSuspenseQuery'];

                const calleeName =
                    node.callee.type === 'Identifier'
                        ? node.callee.name
                        : node.callee.type === 'MemberExpression' && node.callee.property.type === 'Identifier'
                          ? node.callee.property.name
                          : null;

                if (!calleeName || !queryHooks.includes(calleeName)) return;

                // Find queryKey in options
                const options = node.arguments[0];
                if (!options || options.type !== 'ObjectExpression') return;

                const queryKeyProp = options.properties.find(
                    (prop) => prop.type === 'Property' && prop.key.type === 'Identifier' && prop.key.name === 'queryKey'
                );

                if (queryKeyProp && queryKeyProp.value) {
                    checkForBigInt(queryKeyProp.value);
                }

                function checkForBigInt(node) {
                    // Skip spread elements and null/undefined
                    if (!node || node.type === 'SpreadElement') return;

                    // For composite structures, check elements recursively first
                    // Don't check the type of the composite structure itself
                    if (node.type === 'ArrayExpression') {
                        node.elements.forEach((element) => {
                            if (element) checkForBigInt(element);
                        });
                        return; // Don't check the array type itself
                    } else if (node.type === 'ObjectExpression') {
                        node.properties.forEach((property) => {
                            if (property.type === 'Property' && property.value) {
                                checkForBigInt(property.value);
                            }
                        });
                        return; // Don't check the object type itself
                    } else if (node.type === 'TemplateLiteral') {
                        node.expressions.forEach((expr) => {
                            checkForBigInt(expr);
                        });
                        return; // Don't check the template literal type itself
                    } else if (node.type === 'ConditionalExpression') {
                        checkForBigInt(node.consequent);
                        checkForBigInt(node.alternate);
                        return; // Don't check the conditional expression type itself
                    } else if (node.type === 'LogicalExpression') {
                        checkForBigInt(node.left);
                        checkForBigInt(node.right);
                        return; // Don't check the logical expression type itself
                    }

                    // Only check types for leaf nodes (not composite structures)
                    // Get TypeScript type for this node using the services
                    const tsNode = services.esTreeNodeToTSNodeMap.get(node);
                    if (!tsNode) return;

                    const type = typeChecker.getTypeAtLocation(tsNode);

                    // Check if the type is bigint
                    if (isBigIntType(type)) {
                        context.report({
                            node,
                            messageId: 'bigIntInQueryKey',
                            fix(fixer) {
                                const nodeText = sourceCode.getText(node);

                                // Handle different node types appropriately
                                if (node.type === 'Literal' && typeof node.value === 'bigint') {
                                    // For BigInt literals like 123n
                                    return fixer.replaceText(node, `${nodeText}.toString()`);
                                } else if (
                                    node.type === 'CallExpression' &&
                                    node.callee.type === 'Identifier' &&
                                    node.callee.name === 'BigInt'
                                ) {
                                    // For BigInt() constructor calls
                                    return fixer.replaceText(node, `${nodeText}.toString()`);
                                } else {
                                    // For variables and other expressions
                                    return fixer.replaceText(node, `${nodeText}.toString()`);
                                }
                            }
                        });
                    }
                }

                function isBigIntType(type) {
                    // Get the string representation of the type
                    const typeString = typeChecker.typeToString(type);

                    // Check if it's literally "bigint"
                    if (typeString === 'bigint') {
                        return true;
                    }

                    // Check for bigint in union types (e.g., "string | bigint")
                    if (typeString.includes('bigint')) {
                        return true;
                    }

                    // Use TypeScript type flags for more reliable detection
                    if (ts.TypeFlags) {
                        // Check for BigInt literal type
                        if (type.flags & ts.TypeFlags.BigIntLiteral) {
                            return true;
                        }
                        // Check for generic bigint type
                        if (type.flags & ts.TypeFlags.BigInt) {
                            return true;
                        }
                    }

                    // Check for union types that might contain bigint
                    if (type.isUnion?.()) {
                        return type.types.some((t) => isBigIntType(t));
                    }

                    // Check for intersection types
                    if (type.isIntersection?.()) {
                        return type.types.some((t) => isBigIntType(t));
                    }

                    return false;
                }
            }
        };
    }
};
PK
build-template/src/frontend/src/PK
build-template/src/frontend/src/components/PK
build-template/src/frontend/src/components/ui/PK
build-template/src/frontend/src/components/ui/button.tsximport * as React from 'react';
import { Slot } from '@radix-ui/react-slot';
import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';

const buttonVariants = cva(
    "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
    {
        variants: {
            variant: {
                default: 'bg-primary text-primary-foreground shadow-xs hover:bg-primary/90',
                destructive:
                    'bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',
                outline:
                    'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',
                secondary: 'bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80',
                ghost: 'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',
                link: 'text-primary underline-offset-4 hover:underline'
            },
            size: {
                default: 'h-9 px-4 py-2 has-[>svg]:px-3',
                sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',
                lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',
                icon: 'size-9'
            }
        },
        defaultVariants: {
            variant: 'default',
            size: 'default'
        }
    }
);

function Button({
    className,
    variant,
    size,
    asChild = false,
    ...props
}: React.ComponentProps<'button'> &
    VariantProps<typeof buttonVariants> & {
        asChild?: boolean;
    }) {
    const Comp = asChild ? Slot : 'button';

    return <Comp data-slot="button" className={cn(buttonVariants({ variant, size, className }))} {...props} />;
}

export { Button, buttonVariants };
PK
build-template/src/frontend/src/components/ui/calendar.tsx'use client';

import * as React from 'react';
import { ChevronDownIcon, ChevronLeftIcon, ChevronRightIcon } from 'lucide-react';
import { DayButton, DayPicker, getDefaultClassNames } from 'react-day-picker';

import { cn } from '@/lib/utils';
import { Button, buttonVariants } from '@/components/ui/button';

function Calendar({
    className,
    classNames,
    showOutsideDays = true,
    captionLayout = 'label',
    buttonVariant = 'ghost',
    formatters,
    components,
    ...props
}: React.ComponentProps<typeof DayPicker> & {
    buttonVariant?: React.ComponentProps<typeof Button>['variant'];
}) {
    const defaultClassNames = getDefaultClassNames();

    return (
        <DayPicker
            showOutsideDays={showOutsideDays}
            className={cn(
                'bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent',
                String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,
                String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,
                className
            )}
            captionLayout={captionLayout}
            formatters={{
                formatMonthDropdown: (date) => date.toLocaleString('default', { month: 'short' }),
                ...formatters
            }}
            classNames={{
                root: cn('w-fit', defaultClassNames.root),
                months: cn('flex gap-4 flex-col md:flex-row relative', defaultClassNames.months),
                month: cn('flex flex-col w-full gap-4', defaultClassNames.month),
                nav: cn(
                    'flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between',
                    defaultClassNames.nav
                ),
                button_previous: cn(
                    buttonVariants({ variant: buttonVariant }),
                    'size-(--cell-size) aria-disabled:opacity-50 p-0 select-none',
                    defaultClassNames.button_previous
                ),
                button_next: cn(
                    buttonVariants({ variant: buttonVariant }),
                    'size-(--cell-size) aria-disabled:opacity-50 p-0 select-none',
                    defaultClassNames.button_next
                ),
                month_caption: cn(
                    'flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)',
                    defaultClassNames.month_caption
                ),
                dropdowns: cn(
                    'w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5',
                    defaultClassNames.dropdowns
                ),
                dropdown_root: cn(
                    'relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md',
                    defaultClassNames.dropdown_root
                ),
                dropdown: cn('absolute bg-popover inset-0 opacity-0', defaultClassNames.dropdown),
                caption_label: cn(
                    'select-none font-medium',
                    captionLayout === 'label'
                        ? 'text-sm'
                        : 'rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5',
                    defaultClassNames.caption_label
                ),
                table: 'w-full border-collapse',
                weekdays: cn('flex', defaultClassNames.weekdays),
                weekday: cn(
                    'text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none',
                    defaultClassNames.weekday
                ),
                week: cn('flex w-full mt-2', defaultClassNames.week),
                week_number_header: cn('select-none w-(--cell-size)', defaultClassNames.week_number_header),
                week_number: cn('text-[0.8rem] select-none text-muted-foreground', defaultClassNames.week_number),
                day: cn(
                    'relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none',
                    defaultClassNames.day
                ),
                range_start: cn('rounded-l-md bg-accent', defaultClassNames.range_start),
                range_middle: cn('rounded-none', defaultClassNames.range_middle),
                range_end: cn('rounded-r-md bg-accent', defaultClassNames.range_end),
                today: cn(
                    'bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none',
                    defaultClassNames.today
                ),
                outside: cn('text-muted-foreground aria-selected:text-muted-foreground', defaultClassNames.outside),
                disabled: cn('text-muted-foreground opacity-50', defaultClassNames.disabled),
                hidden: cn('invisible', defaultClassNames.hidden),
                ...classNames
            }}
            components={{
                Root: ({ className, rootRef, ...props }) => {
                    return <div data-slot="calendar" ref={rootRef} className={cn(className)} {...props} />;
                },
                Chevron: ({ className, orientation, ...props }) => {
                    if (orientation === 'left') {
                        return <ChevronLeftIcon className={cn('size-4', className)} {...props} />;
                    }

                    if (orientation === 'right') {
                        return <ChevronRightIcon className={cn('size-4', className)} {...props} />;
                    }

                    return <ChevronDownIcon className={cn('size-4', className)} {...props} />;
                },
                DayButton: CalendarDayButton,
                WeekNumber: ({ children, ...props }) => {
                    return (
                        <td {...props}>
                            <div className="flex size-(--cell-size) items-center justify-center text-center">
                                {children}
                            </div>
                        </td>
                    );
                },
                ...components
            }}
            {...props}
        />
    );
}

function CalendarDayButton({ className, day, modifiers, ...props }: React.ComponentProps<typeof DayButton>) {
    const defaultClassNames = getDefaultClassNames();

    const ref = React.useRef<HTMLButtonElement>(null);
    React.useEffect(() => {
        if (modifiers.focused) ref.current?.focus();
    }, [modifiers.focused]);

    return (
        <Button
            ref={ref}
            variant="ghost"
            size="icon"
            data-day={day.date.toLocaleDateString()}
            data-selected-single={
                modifiers.selected && !modifiers.range_start && !modifiers.range_end && !modifiers.range_middle
            }
            data-range-start={modifiers.range_start}
            data-range-end={modifiers.range_end}
            data-range-middle={modifiers.range_middle}
            className={cn(
                'data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70',
                defaultClassNames.day,
                className
            )}
            {...props}
        />
    );
}

export { Calendar, CalendarDayButton };
PK
build-template/src/frontend/src/components/ui/chart.tsx'use client';

import * as React from 'react';
import * as RechartsPrimitive from 'recharts';

import { cn } from '@/lib/utils';

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: '', dark: '.dark' } as const;

export type ChartConfig = {
    [k in string]: {
        label?: React.ReactNode;
        icon?: React.ComponentType;
    } & ({ color?: string; theme?: never } | { color?: never; theme: Record<keyof typeof THEMES, string> });
};

type ChartContextProps = {
    config: ChartConfig;
};

const ChartContext = React.createContext<ChartContextProps | null>(null);

function useChart() {
    const context = React.useContext(ChartContext);

    if (!context) {
        throw new Error('useChart must be used within a <ChartContainer />');
    }

    return context;
}

function ChartContainer({
    id,
    className,
    children,
    config,
    ...props
}: React.ComponentProps<'div'> & {
    config: ChartConfig;
    children: React.ComponentProps<typeof RechartsPrimitive.ResponsiveContainer>['children'];
}) {
    const uniqueId = React.useId();
    const chartId = `chart-${id || uniqueId.replace(/:/g, '')}`;

    return (
        <ChartContext.Provider value={{ config }}>
            <div
                data-slot="chart"
                data-chart={chartId}
                className={cn(
                    "[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",
                    className
                )}
                {...props}
            >
                <ChartStyle id={chartId} config={config} />
                <RechartsPrimitive.ResponsiveContainer>{children}</RechartsPrimitive.ResponsiveContainer>
            </div>
        </ChartContext.Provider>
    );
}

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
    const colorConfig = Object.entries(config).filter(([, config]) => config.theme || config.color);

    if (!colorConfig.length) {
        return null;
    }

    return (
        <style
            dangerouslySetInnerHTML={{
                __html: Object.entries(THEMES)
                    .map(
                        ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
    .map(([key, itemConfig]) => {
        const color = itemConfig.theme?.[theme as keyof typeof itemConfig.theme] || itemConfig.color;
        return color ? `  --color-${key}: ${color};` : null;
    })
    .join('\n')}
}
`
                    )
                    .join('\n')
            }}
        />
    );
};

const ChartTooltip = RechartsPrimitive.Tooltip;

function ChartTooltipContent({
    active,
    payload,
    className,
    indicator = 'dot',
    hideLabel = false,
    hideIndicator = false,
    label,
    labelFormatter,
    labelClassName,
    formatter,
    color,
    nameKey,
    labelKey
}: React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
    React.ComponentProps<'div'> & {
        hideLabel?: boolean;
        hideIndicator?: boolean;
        indicator?: 'line' | 'dot' | 'dashed';
        nameKey?: string;
        labelKey?: string;
    }) {
    const { config } = useChart();

    const tooltipLabel = React.useMemo(() => {
        if (hideLabel || !payload?.length) {
            return null;
        }

        const [item] = payload;
        const key = `${labelKey || item?.dataKey || item?.name || 'value'}`;
        const itemConfig = getPayloadConfigFromPayload(config, item, key);
        const value =
            !labelKey && typeof label === 'string'
                ? config[label as keyof typeof config]?.label || label
                : itemConfig?.label;

        if (labelFormatter) {
            return <div className={cn('font-medium', labelClassName)}>{labelFormatter(value, payload)}</div>;
        }

        if (!value) {
            return null;
        }

        return <div className={cn('font-medium', labelClassName)}>{value}</div>;
    }, [label, labelFormatter, payload, hideLabel, labelClassName, config, labelKey]);

    if (!active || !payload?.length) {
        return null;
    }

    const nestLabel = payload.length === 1 && indicator !== 'dot';

    return (
        <div
            className={cn(
                'border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl',
                className
            )}
        >
            {!nestLabel ? tooltipLabel : null}
            <div className="grid gap-1.5">
                {payload.map((item, index) => {
                    const key = `${nameKey || item.name || item.dataKey || 'value'}`;
                    const itemConfig = getPayloadConfigFromPayload(config, item, key);
                    const indicatorColor = color || item.payload.fill || item.color;

                    return (
                        <div
                            key={item.dataKey}
                            className={cn(
                                '[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5',
                                indicator === 'dot' && 'items-center'
                            )}
                        >
                            {formatter && item?.value !== undefined && item.name ? (
                                formatter(item.value, item.name, item, index, item.payload)
                            ) : (
                                <>
                                    {itemConfig?.icon ? (
                                        <itemConfig.icon />
                                    ) : (
                                        !hideIndicator && (
                                            <div
                                                className={cn(
                                                    'shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)',
                                                    {
                                                        'h-2.5 w-2.5': indicator === 'dot',
                                                        'w-1': indicator === 'line',
                                                        'w-0 border-[1.5px] border-dashed bg-transparent':
                                                            indicator === 'dashed',
                                                        'my-0.5': nestLabel && indicator === 'dashed'
                                                    }
                                                )}
                                                style={
                                                    {
                                                        '--color-bg': indicatorColor,
                                                        '--color-border': indicatorColor
                                                    } as React.CSSProperties
                                                }
                                            />
                                        )
                                    )}
                                    <div
                                        className={cn(
                                            'flex flex-1 justify-between leading-none',
                                            nestLabel ? 'items-end' : 'items-center'
                                        )}
                                    >
                                        <div className="grid gap-1.5">
                                            {nestLabel ? tooltipLabel : null}
                                            <span className="text-muted-foreground">
                                                {itemConfig?.label || item.name}
                                            </span>
                                        </div>
                                        {item.value && (
                                            <span className="text-foreground font-mono font-medium tabular-nums">
                                                {item.value.toLocaleString()}
                                            </span>
                                        )}
                                    </div>
                                </>
                            )}
                        </div>
                    );
                })}
            </div>
        </div>
    );
}

const ChartLegend = RechartsPrimitive.Legend;

function ChartLegendContent({
    className,
    hideIcon = false,
    payload,
    verticalAlign = 'bottom',
    nameKey
}: React.ComponentProps<'div'> &
    Pick<RechartsPrimitive.LegendProps, 'payload' | 'verticalAlign'> & {
        hideIcon?: boolean;
        nameKey?: string;
    }) {
    const { config } = useChart();

    if (!payload?.length) {
        return null;
    }

    return (
        <div
            className={cn(
                'flex items-center justify-center gap-4',
                verticalAlign === 'top' ? 'pb-3' : 'pt-3',
                className
            )}
        >
            {payload.map((item) => {
                const key = `${nameKey || item.dataKey || 'value'}`;
                const itemConfig = getPayloadConfigFromPayload(config, item, key);

                return (
                    <div
                        key={item.value}
                        className={cn(
                            '[&>svg]:text-muted-foreground flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3'
                        )}
                    >
                        {itemConfig?.icon && !hideIcon ? (
                            <itemConfig.icon />
                        ) : (
                            <div
                                className="h-2 w-2 shrink-0 rounded-[2px]"
                                style={{
                                    backgroundColor: item.color
                                }}
                            />
                        )}
                        {itemConfig?.label}
                    </div>
                );
            })}
        </div>
    );
}

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(config: ChartConfig, payload: unknown, key: string) {
    if (typeof payload !== 'object' || payload === null) {
        return undefined;
    }

    const payloadPayload =
        'payload' in payload && typeof payload.payload === 'object' && payload.payload !== null
            ? payload.payload
            : undefined;

    let configLabelKey: string = key;

    if (key in payload && typeof payload[key as keyof typeof payload] === 'string') {
        configLabelKey = payload[key as keyof typeof payload] as string;
    } else if (
        payloadPayload &&
        key in payloadPayload &&
        typeof payloadPayload[key as keyof typeof payloadPayload] === 'string'
    ) {
        configLabelKey = payloadPayload[key as keyof typeof payloadPayload] as string;
    }

    return configLabelKey in config ? config[configLabelKey] : config[key as keyof typeof config];
}

export { ChartContainer, ChartTooltip, ChartTooltipContent, ChartLegend, ChartLegendContent, ChartStyle };
PK
build-template/src/frontend/src/components/ui/accordion.tsx'use client';

import * as React from 'react';
import * as AccordionPrimitive from '@radix-ui/react-accordion';
import { ChevronDownIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function Accordion({ ...props }: React.ComponentProps<typeof AccordionPrimitive.Root>) {
    return <AccordionPrimitive.Root data-slot="accordion" {...props} />;
}

function AccordionItem({ className, ...props }: React.ComponentProps<typeof AccordionPrimitive.Item>) {
    return (
        <AccordionPrimitive.Item
            data-slot="accordion-item"
            className={cn('border-b last:border-b-0', className)}
            {...props}
        />
    );
}

function AccordionTrigger({ className, children, ...props }: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {
    return (
        <AccordionPrimitive.Header className="flex">
            <AccordionPrimitive.Trigger
                data-slot="accordion-trigger"
                className={cn(
                    'focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180',
                    className
                )}
                {...props}
            >
                {children}
                <ChevronDownIcon className="text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200" />
            </AccordionPrimitive.Trigger>
        </AccordionPrimitive.Header>
    );
}

function AccordionContent({ className, children, ...props }: React.ComponentProps<typeof AccordionPrimitive.Content>) {
    return (
        <AccordionPrimitive.Content
            data-slot="accordion-content"
            className="data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm"
            {...props}
        >
            <div className={cn('pt-0 pb-4', className)}>{children}</div>
        </AccordionPrimitive.Content>
    );
}

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent };
PK
build-template/src/frontend/src/components/ui/checkbox.tsx'use client';

import * as React from 'react';
import * as CheckboxPrimitive from '@radix-ui/react-checkbox';
import { CheckIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function Checkbox({ className, ...props }: React.ComponentProps<typeof CheckboxPrimitive.Root>) {
    return (
        <CheckboxPrimitive.Root
            data-slot="checkbox"
            className={cn(
                'peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',
                className
            )}
            {...props}
        >
            <CheckboxPrimitive.Indicator
                data-slot="checkbox-indicator"
                className="flex items-center justify-center text-current transition-none"
            >
                <CheckIcon className="size-3.5" />
            </CheckboxPrimitive.Indicator>
        </CheckboxPrimitive.Root>
    );
}

export { Checkbox };
PK
build-template/src/frontend/src/components/ui/command.tsx'use client';

import * as React from 'react';
import { Command as CommandPrimitive } from 'cmdk';
import { SearchIcon } from 'lucide-react';

import { cn } from '@/lib/utils';
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog';

function Command({ className, ...props }: React.ComponentProps<typeof CommandPrimitive>) {
    return (
        <CommandPrimitive
            data-slot="command"
            className={cn(
                'bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md',
                className
            )}
            {...props}
        />
    );
}

function CommandDialog({
    title = 'Command Palette',
    description = 'Search for a command to run...',
    children,
    className,
    showCloseButton = true,
    ...props
}: React.ComponentProps<typeof Dialog> & {
    title?: string;
    description?: string;
    className?: string;
    showCloseButton?: boolean;
}) {
    return (
        <Dialog {...props}>
            <DialogHeader className="sr-only">
                <DialogTitle>{title}</DialogTitle>
                <DialogDescription>{description}</DialogDescription>
            </DialogHeader>
            <DialogContent className={cn('overflow-hidden p-0', className)} showCloseButton={showCloseButton}>
                <Command className="[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
                    {children}
                </Command>
            </DialogContent>
        </Dialog>
    );
}

function CommandInput({ className, ...props }: React.ComponentProps<typeof CommandPrimitive.Input>) {
    return (
        <div data-slot="command-input-wrapper" className="flex h-9 items-center gap-2 border-b px-3">
            <SearchIcon className="size-4 shrink-0 opacity-50" />
            <CommandPrimitive.Input
                data-slot="command-input"
                className={cn(
                    'placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50',
                    className
                )}
                {...props}
            />
        </div>
    );
}

function CommandList({ className, ...props }: React.ComponentProps<typeof CommandPrimitive.List>) {
    return (
        <CommandPrimitive.List
            data-slot="command-list"
            className={cn('max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto', className)}
            {...props}
        />
    );
}

function CommandEmpty({ ...props }: React.ComponentProps<typeof CommandPrimitive.Empty>) {
    return <CommandPrimitive.Empty data-slot="command-empty" className="py-6 text-center text-sm" {...props} />;
}

function CommandGroup({ className, ...props }: React.ComponentProps<typeof CommandPrimitive.Group>) {
    return (
        <CommandPrimitive.Group
            data-slot="command-group"
            className={cn(
                'text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium',
                className
            )}
            {...props}
        />
    );
}

function CommandSeparator({ className, ...props }: React.ComponentProps<typeof CommandPrimitive.Separator>) {
    return (
        <CommandPrimitive.Separator
            data-slot="command-separator"
            className={cn('bg-border -mx-1 h-px', className)}
            {...props}
        />
    );
}

function CommandItem({ className, ...props }: React.ComponentProps<typeof CommandPrimitive.Item>) {
    return (
        <CommandPrimitive.Item
            data-slot="command-item"
            className={cn(
                "data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        />
    );
}

function CommandShortcut({ className, ...props }: React.ComponentProps<'span'>) {
    return (
        <span
            data-slot="command-shortcut"
            className={cn('text-muted-foreground ml-auto text-xs tracking-widest', className)}
            {...props}
        />
    );
}

export {
    Command,
    CommandDialog,
    CommandInput,
    CommandList,
    CommandEmpty,
    CommandGroup,
    CommandItem,
    CommandShortcut,
    CommandSeparator
};
PK
build-template/src/frontend/src/components/ui/collapsible.tsx'use client';

import * as CollapsiblePrimitive from '@radix-ui/react-collapsible';

function Collapsible({ ...props }: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {
    return <CollapsiblePrimitive.Root data-slot="collapsible" {...props} />;
}

function CollapsibleTrigger({ ...props }: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {
    return <CollapsiblePrimitive.CollapsibleTrigger data-slot="collapsible-trigger" {...props} />;
}

function CollapsibleContent({ ...props }: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {
    return <CollapsiblePrimitive.CollapsibleContent data-slot="collapsible-content" {...props} />;
}

export { Collapsible, CollapsibleTrigger, CollapsibleContent };
PK
build-template/src/frontend/src/components/ui/avatar.tsx'use client';

import * as React from 'react';
import * as AvatarPrimitive from '@radix-ui/react-avatar';

import { cn } from '@/lib/utils';

function Avatar({ className, ...props }: React.ComponentProps<typeof AvatarPrimitive.Root>) {
    return (
        <AvatarPrimitive.Root
            data-slot="avatar"
            className={cn('relative flex size-8 shrink-0 overflow-hidden rounded-full', className)}
            {...props}
        />
    );
}

function AvatarImage({ className, ...props }: React.ComponentProps<typeof AvatarPrimitive.Image>) {
    return (
        <AvatarPrimitive.Image
            data-slot="avatar-image"
            className={cn('aspect-square size-full', className)}
            {...props}
        />
    );
}

function AvatarFallback({ className, ...props }: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {
    return (
        <AvatarPrimitive.Fallback
            data-slot="avatar-fallback"
            className={cn('bg-muted flex size-full items-center justify-center rounded-full', className)}
            {...props}
        />
    );
}

export { Avatar, AvatarImage, AvatarFallback };
PK
build-template/src/frontend/src/components/ui/alert-dialog.tsx'use client';

import * as React from 'react';
import * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog';

import { cn } from '@/lib/utils';
import { buttonVariants } from '@/components/ui/button';

function AlertDialog({ ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {
    return <AlertDialogPrimitive.Root data-slot="alert-dialog" {...props} />;
}

function AlertDialogTrigger({ ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {
    return <AlertDialogPrimitive.Trigger data-slot="alert-dialog-trigger" {...props} />;
}

function AlertDialogPortal({ ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {
    return <AlertDialogPrimitive.Portal data-slot="alert-dialog-portal" {...props} />;
}

function AlertDialogOverlay({ className, ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {
    return (
        <AlertDialogPrimitive.Overlay
            data-slot="alert-dialog-overlay"
            className={cn(
                'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',
                className
            )}
            {...props}
        />
    );
}

function AlertDialogContent({ className, ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {
    return (
        <AlertDialogPortal>
            <AlertDialogOverlay />
            <AlertDialogPrimitive.Content
                data-slot="alert-dialog-content"
                className={cn(
                    'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',
                    className
                )}
                {...props}
            />
        </AlertDialogPortal>
    );
}

function AlertDialogHeader({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="alert-dialog-header"
            className={cn('flex flex-col gap-2 text-center sm:text-left', className)}
            {...props}
        />
    );
}

function AlertDialogFooter({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="alert-dialog-footer"
            className={cn('flex flex-col-reverse gap-2 sm:flex-row sm:justify-end', className)}
            {...props}
        />
    );
}

function AlertDialogTitle({ className, ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {
    return (
        <AlertDialogPrimitive.Title
            data-slot="alert-dialog-title"
            className={cn('text-lg font-semibold', className)}
            {...props}
        />
    );
}

function AlertDialogDescription({
    className,
    ...props
}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {
    return (
        <AlertDialogPrimitive.Description
            data-slot="alert-dialog-description"
            className={cn('text-muted-foreground text-sm', className)}
            {...props}
        />
    );
}

function AlertDialogAction({ className, ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {
    return <AlertDialogPrimitive.Action className={cn(buttonVariants(), className)} {...props} />;
}

function AlertDialogCancel({ className, ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {
    return <AlertDialogPrimitive.Cancel className={cn(buttonVariants({ variant: 'outline' }), className)} {...props} />;
}

export {
    AlertDialog,
    AlertDialogPortal,
    AlertDialogOverlay,
    AlertDialogTrigger,
    AlertDialogContent,
    AlertDialogHeader,
    AlertDialogFooter,
    AlertDialogTitle,
    AlertDialogDescription,
    AlertDialogAction,
    AlertDialogCancel
};
PK
build-template/src/frontend/tsconfig.json{
  "compilerOptions": {
    "target": "ESNext",
    "useDefineForClassFields": true,
    "lib": ["DOM", "DOM.Iterable", "ESNext"],
    "allowJs": false,
    "skipLibCheck": true,
    "esModuleInterop": false,
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "noImplicitAny": false,
    "forceConsistentCasingInFileNames": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "types": ["vite/client", "node"],
    "paths": {
      "declarations/*": ["../declarations/*"],
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"],
  "exclude": ["node_modules", "dist", "build", "*.config.js", "eslint-rules/**/*"]
}
PK
build-template/src/frontend/src/components/ui/breadcrumb.tsximport * as React from 'react';
import { Slot } from '@radix-ui/react-slot';
import { ChevronRight, MoreHorizontal } from 'lucide-react';

import { cn } from '@/lib/utils';

function Breadcrumb({ ...props }: React.ComponentProps<'nav'>) {
    return <nav aria-label="breadcrumb" data-slot="breadcrumb" {...props} />;
}

function BreadcrumbList({ className, ...props }: React.ComponentProps<'ol'>) {
    return (
        <ol
            data-slot="breadcrumb-list"
            className={cn(
                'text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5',
                className
            )}
            {...props}
        />
    );
}

function BreadcrumbItem({ className, ...props }: React.ComponentProps<'li'>) {
    return <li data-slot="breadcrumb-item" className={cn('inline-flex items-center gap-1.5', className)} {...props} />;
}

function BreadcrumbLink({
    asChild,
    className,
    ...props
}: React.ComponentProps<'a'> & {
    asChild?: boolean;
}) {
    const Comp = asChild ? Slot : 'a';

    return (
        <Comp
            data-slot="breadcrumb-link"
            className={cn('hover:text-foreground transition-colors', className)}
            {...props}
        />
    );
}

function BreadcrumbPage({ className, ...props }: React.ComponentProps<'span'>) {
    return (
        <span
            data-slot="breadcrumb-page"
            role="link"
            aria-disabled="true"
            aria-current="page"
            className={cn('text-foreground font-normal', className)}
            {...props}
        />
    );
}

function BreadcrumbSeparator({ children, className, ...props }: React.ComponentProps<'li'>) {
    return (
        <li
            data-slot="breadcrumb-separator"
            role="presentation"
            aria-hidden="true"
            className={cn('[&>svg]:size-3.5', className)}
            {...props}
        >
            {children ?? <ChevronRight />}
        </li>
    );
}

function BreadcrumbEllipsis({ className, ...props }: React.ComponentProps<'span'>) {
    return (
        <span
            data-slot="breadcrumb-ellipsis"
            role="presentation"
            aria-hidden="true"
            className={cn('flex size-9 items-center justify-center', className)}
            {...props}
        >
            <MoreHorizontal className="size-4" />
            <span className="sr-only">More</span>
        </span>
    );
}

export {
    Breadcrumb,
    BreadcrumbList,
    BreadcrumbItem,
    BreadcrumbLink,
    BreadcrumbPage,
    BreadcrumbSeparator,
    BreadcrumbEllipsis
};
PK
build-template/src/frontend/src/components/ui/label.tsx'use client';

import * as React from 'react';
import * as LabelPrimitive from '@radix-ui/react-label';

import { cn } from '@/lib/utils';

function Label({ className, ...props }: React.ComponentProps<typeof LabelPrimitive.Root>) {
    return (
        <LabelPrimitive.Root
            data-slot="label"
            className={cn(
                'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',
                className
            )}
            {...props}
        />
    );
}

export { Label };
PK
build-template/src/frontend/src/components/ui/progress.tsx'use client';

import * as React from 'react';
import * as ProgressPrimitive from '@radix-ui/react-progress';

import { cn } from '@/lib/utils';

function Progress({ className, value, ...props }: React.ComponentProps<typeof ProgressPrimitive.Root>) {
    return (
        <ProgressPrimitive.Root
            data-slot="progress"
            className={cn('bg-primary/20 relative h-2 w-full overflow-hidden rounded-full', className)}
            {...props}
        >
            <ProgressPrimitive.Indicator
                data-slot="progress-indicator"
                className="bg-primary h-full w-full flex-1 transition-all"
                style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
            />
        </ProgressPrimitive.Root>
    );
}

export { Progress };
PK
build-template/src/frontend/src/components/ui/drawer.tsx'use client';

import * as React from 'react';
import { Drawer as DrawerPrimitive } from 'vaul';

import { cn } from '@/lib/utils';

function Drawer({ ...props }: React.ComponentProps<typeof DrawerPrimitive.Root>) {
    return <DrawerPrimitive.Root data-slot="drawer" {...props} />;
}

function DrawerTrigger({ ...props }: React.ComponentProps<typeof DrawerPrimitive.Trigger>) {
    return <DrawerPrimitive.Trigger data-slot="drawer-trigger" {...props} />;
}

function DrawerPortal({ ...props }: React.ComponentProps<typeof DrawerPrimitive.Portal>) {
    return <DrawerPrimitive.Portal data-slot="drawer-portal" {...props} />;
}

function DrawerClose({ ...props }: React.ComponentProps<typeof DrawerPrimitive.Close>) {
    return <DrawerPrimitive.Close data-slot="drawer-close" {...props} />;
}

function DrawerOverlay({ className, ...props }: React.ComponentProps<typeof DrawerPrimitive.Overlay>) {
    return (
        <DrawerPrimitive.Overlay
            data-slot="drawer-overlay"
            className={cn(
                'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',
                className
            )}
            {...props}
        />
    );
}

function DrawerContent({ className, children, ...props }: React.ComponentProps<typeof DrawerPrimitive.Content>) {
    return (
        <DrawerPortal data-slot="drawer-portal">
            <DrawerOverlay />
            <DrawerPrimitive.Content
                data-slot="drawer-content"
                className={cn(
                    'group/drawer-content bg-background fixed z-50 flex h-auto flex-col',
                    'data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b',
                    'data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t',
                    'data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm',
                    'data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm',
                    className
                )}
                {...props}
            >
                <div className="bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block" />
                {children}
            </DrawerPrimitive.Content>
        </DrawerPortal>
    );
}

function DrawerHeader({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="drawer-header"
            className={cn(
                'flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left',
                className
            )}
            {...props}
        />
    );
}

function DrawerFooter({ className, ...props }: React.ComponentProps<'div'>) {
    return <div data-slot="drawer-footer" className={cn('mt-auto flex flex-col gap-2 p-4', className)} {...props} />;
}

function DrawerTitle({ className, ...props }: React.ComponentProps<typeof DrawerPrimitive.Title>) {
    return (
        <DrawerPrimitive.Title
            data-slot="drawer-title"
            className={cn('text-foreground font-semibold', className)}
            {...props}
        />
    );
}

function DrawerDescription({ className, ...props }: React.ComponentProps<typeof DrawerPrimitive.Description>) {
    return (
        <DrawerPrimitive.Description
            data-slot="drawer-description"
            className={cn('text-muted-foreground text-sm', className)}
            {...props}
        />
    );
}

export {
    Drawer,
    DrawerPortal,
    DrawerOverlay,
    DrawerTrigger,
    DrawerClose,
    DrawerContent,
    DrawerHeader,
    DrawerFooter,
    DrawerTitle,
    DrawerDescription
};
PK
build-template/src/frontend/src/components/ui/radio-group.tsx'use client';

import * as React from 'react';
import * as RadioGroupPrimitive from '@radix-ui/react-radio-group';
import { CircleIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function RadioGroup({ className, ...props }: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {
    return <RadioGroupPrimitive.Root data-slot="radio-group" className={cn('grid gap-3', className)} {...props} />;
}

function RadioGroupItem({ className, ...props }: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {
    return (
        <RadioGroupPrimitive.Item
            data-slot="radio-group-item"
            className={cn(
                'border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',
                className
            )}
            {...props}
        >
            <RadioGroupPrimitive.Indicator
                data-slot="radio-group-indicator"
                className="relative flex items-center justify-center"
            >
                <CircleIcon className="fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2" />
            </RadioGroupPrimitive.Indicator>
        </RadioGroupPrimitive.Item>
    );
}

export { RadioGroup, RadioGroupItem };
PK
build-template/src/frontend/src/components/ui/badge.tsximport * as React from 'react';
import { Slot } from '@radix-ui/react-slot';
import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';

const badgeVariants = cva(
    'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',
    {
        variants: {
            variant: {
                default: 'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',
                secondary: 'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',
                destructive:
                    'border-transparent bg-destructive text-destructive-foreground [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',
                outline: 'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground'
            }
        },
        defaultVariants: {
            variant: 'default'
        }
    }
);

function Badge({
    className,
    variant,
    asChild = false,
    ...props
}: React.ComponentProps<'span'> & VariantProps<typeof badgeVariants> & { asChild?: boolean }) {
    const Comp = asChild ? Slot : 'span';

    return <Comp data-slot="badge" className={cn(badgeVariants({ variant }), className)} {...props} />;
}

export { Badge, badgeVariants };
PK
build-template/src/frontend/src/components/ui/pagination.tsximport * as React from 'react';
import { ChevronLeftIcon, ChevronRightIcon, MoreHorizontalIcon } from 'lucide-react';

import { cn } from '@/lib/utils';
import { Button, buttonVariants } from '@/components/ui/button';

function Pagination({ className, ...props }: React.ComponentProps<'nav'>) {
    return (
        <nav
            role="navigation"
            aria-label="pagination"
            data-slot="pagination"
            className={cn('mx-auto flex w-full justify-center', className)}
            {...props}
        />
    );
}

function PaginationContent({ className, ...props }: React.ComponentProps<'ul'>) {
    return (
        <ul data-slot="pagination-content" className={cn('flex flex-row items-center gap-1', className)} {...props} />
    );
}

function PaginationItem({ ...props }: React.ComponentProps<'li'>) {
    return <li data-slot="pagination-item" {...props} />;
}

type PaginationLinkProps = {
    isActive?: boolean;
} & Pick<React.ComponentProps<typeof Button>, 'size'> &
    React.ComponentProps<'a'>;

function PaginationLink({ className, isActive, size = 'icon', ...props }: PaginationLinkProps) {
    return (
        <a
            aria-current={isActive ? 'page' : undefined}
            data-slot="pagination-link"
            data-active={isActive}
            className={cn(
                buttonVariants({
                    variant: isActive ? 'outline' : 'ghost',
                    size
                }),
                className
            )}
            {...props}
        />
    );
}

function PaginationPrevious({ className, ...props }: React.ComponentProps<typeof PaginationLink>) {
    return (
        <PaginationLink
            aria-label="Go to previous page"
            size="default"
            className={cn('gap-1 px-2.5 sm:pl-2.5', className)}
            {...props}
        >
            <ChevronLeftIcon />
            <span className="hidden sm:block">Previous</span>
        </PaginationLink>
    );
}

function PaginationNext({ className, ...props }: React.ComponentProps<typeof PaginationLink>) {
    return (
        <PaginationLink
            aria-label="Go to next page"
            size="default"
            className={cn('gap-1 px-2.5 sm:pr-2.5', className)}
            {...props}
        >
            <span className="hidden sm:block">Next</span>
            <ChevronRightIcon />
        </PaginationLink>
    );
}

function PaginationEllipsis({ className, ...props }: React.ComponentProps<'span'>) {
    return (
        <span
            aria-hidden
            data-slot="pagination-ellipsis"
            className={cn('flex size-9 items-center justify-center', className)}
            {...props}
        >
            <MoreHorizontalIcon className="size-4" />
            <span className="sr-only">More pages</span>
        </span>
    );
}

export {
    Pagination,
    PaginationContent,
    PaginationLink,
    PaginationItem,
    PaginationPrevious,
    PaginationNext,
    PaginationEllipsis
};
PK
build-template/src/frontend/src/components/ui/menubar.tsx'use client';

import * as React from 'react';
import * as MenubarPrimitive from '@radix-ui/react-menubar';
import { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function Menubar({ className, ...props }: React.ComponentProps<typeof MenubarPrimitive.Root>) {
    return (
        <MenubarPrimitive.Root
            data-slot="menubar"
            className={cn('bg-background flex h-9 items-center gap-1 rounded-md border p-1 shadow-xs', className)}
            {...props}
        />
    );
}

function MenubarMenu({ ...props }: React.ComponentProps<typeof MenubarPrimitive.Menu>) {
    return <MenubarPrimitive.Menu data-slot="menubar-menu" {...props} />;
}

function MenubarGroup({ ...props }: React.ComponentProps<typeof MenubarPrimitive.Group>) {
    return <MenubarPrimitive.Group data-slot="menubar-group" {...props} />;
}

function MenubarPortal({ ...props }: React.ComponentProps<typeof MenubarPrimitive.Portal>) {
    return <MenubarPrimitive.Portal data-slot="menubar-portal" {...props} />;
}

function MenubarRadioGroup({ ...props }: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {
    return <MenubarPrimitive.RadioGroup data-slot="menubar-radio-group" {...props} />;
}

function MenubarTrigger({ className, ...props }: React.ComponentProps<typeof MenubarPrimitive.Trigger>) {
    return (
        <MenubarPrimitive.Trigger
            data-slot="menubar-trigger"
            className={cn(
                'focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex items-center rounded-sm px-2 py-1 text-sm font-medium outline-hidden select-none',
                className
            )}
            {...props}
        />
    );
}

function MenubarContent({
    className,
    align = 'start',
    alignOffset = -4,
    sideOffset = 8,
    ...props
}: React.ComponentProps<typeof MenubarPrimitive.Content>) {
    return (
        <MenubarPortal>
            <MenubarPrimitive.Content
                data-slot="menubar-content"
                align={align}
                alignOffset={alignOffset}
                sideOffset={sideOffset}
                className={cn(
                    'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[12rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-md',
                    className
                )}
                {...props}
            />
        </MenubarPortal>
    );
}

function MenubarItem({
    className,
    inset,
    variant = 'default',
    ...props
}: React.ComponentProps<typeof MenubarPrimitive.Item> & {
    inset?: boolean;
    variant?: 'default' | 'destructive';
}) {
    return (
        <MenubarPrimitive.Item
            data-slot="menubar-item"
            data-inset={inset}
            data-variant={variant}
            className={cn(
                "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        />
    );
}

function MenubarCheckboxItem({
    className,
    children,
    checked,
    ...props
}: React.ComponentProps<typeof MenubarPrimitive.CheckboxItem>) {
    return (
        <MenubarPrimitive.CheckboxItem
            data-slot="menubar-checkbox-item"
            className={cn(
                "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            checked={checked}
            {...props}
        >
            <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
                <MenubarPrimitive.ItemIndicator>
                    <CheckIcon className="size-4" />
                </MenubarPrimitive.ItemIndicator>
            </span>
            {children}
        </MenubarPrimitive.CheckboxItem>
    );
}

function MenubarRadioItem({ className, children, ...props }: React.ComponentProps<typeof MenubarPrimitive.RadioItem>) {
    return (
        <MenubarPrimitive.RadioItem
            data-slot="menubar-radio-item"
            className={cn(
                "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-xs py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        >
            <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
                <MenubarPrimitive.ItemIndicator>
                    <CircleIcon className="size-2 fill-current" />
                </MenubarPrimitive.ItemIndicator>
            </span>
            {children}
        </MenubarPrimitive.RadioItem>
    );
}

function MenubarLabel({
    className,
    inset,
    ...props
}: React.ComponentProps<typeof MenubarPrimitive.Label> & {
    inset?: boolean;
}) {
    return (
        <MenubarPrimitive.Label
            data-slot="menubar-label"
            data-inset={inset}
            className={cn('px-2 py-1.5 text-sm font-medium data-[inset]:pl-8', className)}
            {...props}
        />
    );
}

function MenubarSeparator({ className, ...props }: React.ComponentProps<typeof MenubarPrimitive.Separator>) {
    return (
        <MenubarPrimitive.Separator
            data-slot="menubar-separator"
            className={cn('bg-border -mx-1 my-1 h-px', className)}
            {...props}
        />
    );
}

function MenubarShortcut({ className, ...props }: React.ComponentProps<'span'>) {
    return (
        <span
            data-slot="menubar-shortcut"
            className={cn('text-muted-foreground ml-auto text-xs tracking-widest', className)}
            {...props}
        />
    );
}

function MenubarSub({ ...props }: React.ComponentProps<typeof MenubarPrimitive.Sub>) {
    return <MenubarPrimitive.Sub data-slot="menubar-sub" {...props} />;
}

function MenubarSubTrigger({
    className,
    inset,
    children,
    ...props
}: React.ComponentProps<typeof MenubarPrimitive.SubTrigger> & {
    inset?: boolean;
}) {
    return (
        <MenubarPrimitive.SubTrigger
            data-slot="menubar-sub-trigger"
            data-inset={inset}
            className={cn(
                'focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-none select-none data-[inset]:pl-8',
                className
            )}
            {...props}
        >
            {children}
            <ChevronRightIcon className="ml-auto h-4 w-4" />
        </MenubarPrimitive.SubTrigger>
    );
}

function MenubarSubContent({ className, ...props }: React.ComponentProps<typeof MenubarPrimitive.SubContent>) {
    return (
        <MenubarPrimitive.SubContent
            data-slot="menubar-sub-content"
            className={cn(
                'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-menubar-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',
                className
            )}
            {...props}
        />
    );
}

export {
    Menubar,
    MenubarPortal,
    MenubarMenu,
    MenubarTrigger,
    MenubarContent,
    MenubarGroup,
    MenubarSeparator,
    MenubarLabel,
    MenubarItem,
    MenubarShortcut,
    MenubarCheckboxItem,
    MenubarRadioGroup,
    MenubarRadioItem,
    MenubarSub,
    MenubarSubTrigger,
    MenubarSubContent
};
PK
build-template/src/frontend/src/components/ui/popover.tsx'use client';

import * as React from 'react';
import * as PopoverPrimitive from '@radix-ui/react-popover';

import { cn } from '@/lib/utils';

function Popover({ ...props }: React.ComponentProps<typeof PopoverPrimitive.Root>) {
    return <PopoverPrimitive.Root data-slot="popover" {...props} />;
}

function PopoverTrigger({ ...props }: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {
    return <PopoverPrimitive.Trigger data-slot="popover-trigger" {...props} />;
}

function PopoverContent({
    className,
    align = 'center',
    sideOffset = 4,
    ...props
}: React.ComponentProps<typeof PopoverPrimitive.Content>) {
    return (
        <PopoverPrimitive.Portal>
            <PopoverPrimitive.Content
                data-slot="popover-content"
                align={align}
                sideOffset={sideOffset}
                className={cn(
                    'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden',
                    className
                )}
                {...props}
            />
        </PopoverPrimitive.Portal>
    );
}

function PopoverAnchor({ ...props }: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {
    return <PopoverPrimitive.Anchor data-slot="popover-anchor" {...props} />;
}

export { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };
PK
build-template/src/frontend/src/components/ui/hover-card.tsx'use client';

import * as React from 'react';
import * as HoverCardPrimitive from '@radix-ui/react-hover-card';

import { cn } from '@/lib/utils';

function HoverCard({ ...props }: React.ComponentProps<typeof HoverCardPrimitive.Root>) {
    return <HoverCardPrimitive.Root data-slot="hover-card" {...props} />;
}

function HoverCardTrigger({ ...props }: React.ComponentProps<typeof HoverCardPrimitive.Trigger>) {
    return <HoverCardPrimitive.Trigger data-slot="hover-card-trigger" {...props} />;
}

function HoverCardContent({
    className,
    align = 'center',
    sideOffset = 4,
    ...props
}: React.ComponentProps<typeof HoverCardPrimitive.Content>) {
    return (
        <HoverCardPrimitive.Portal data-slot="hover-card-portal">
            <HoverCardPrimitive.Content
                data-slot="hover-card-content"
                align={align}
                sideOffset={sideOffset}
                className={cn(
                    'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden',
                    className
                )}
                {...props}
            />
        </HoverCardPrimitive.Portal>
    );
}

export { HoverCard, HoverCardTrigger, HoverCardContent };
PK
build-template/src/frontend/src/components/ui/input.tsximport * as React from 'react';

import { cn } from '@/lib/utils';

function Input({ className, type, ...props }: React.ComponentProps<'input'>) {
    return (
        <input
            type={type}
            data-slot="input"
            className={cn(
                'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',
                'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',
                'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',
                className
            )}
            {...props}
        />
    );
}

export { Input };
PK
build-template/src/frontend/src/components/ui/slider.tsx'use client';

import * as React from 'react';
import * as SliderPrimitive from '@radix-ui/react-slider';

import { cn } from '@/lib/utils';

function Slider({
    className,
    defaultValue,
    value,
    min = 0,
    max = 100,
    ...props
}: React.ComponentProps<typeof SliderPrimitive.Root>) {
    const _values = React.useMemo(
        () => (Array.isArray(value) ? value : Array.isArray(defaultValue) ? defaultValue : [min, max]),
        [value, defaultValue, min, max]
    );

    return (
        <SliderPrimitive.Root
            data-slot="slider"
            defaultValue={defaultValue}
            value={value}
            min={min}
            max={max}
            className={cn(
                'relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col',
                className
            )}
            {...props}
        >
            <SliderPrimitive.Track
                data-slot="slider-track"
                className={cn(
                    'bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5'
                )}
            >
                <SliderPrimitive.Range
                    data-slot="slider-range"
                    className={cn(
                        'bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full'
                    )}
                />
            </SliderPrimitive.Track>
            {Array.from({ length: _values.length }, (_, index) => (
                <SliderPrimitive.Thumb
                    data-slot="slider-thumb"
                    key={index}
                    className="border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"
                />
            ))}
        </SliderPrimitive.Root>
    );
}

export { Slider };
PK
build-template/src/frontend/src/components/ui/context-menu.tsx'use client';

import * as React from 'react';
import * as ContextMenuPrimitive from '@radix-ui/react-context-menu';
import { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function ContextMenu({ ...props }: React.ComponentProps<typeof ContextMenuPrimitive.Root>) {
    return <ContextMenuPrimitive.Root data-slot="context-menu" {...props} />;
}

function ContextMenuTrigger({ ...props }: React.ComponentProps<typeof ContextMenuPrimitive.Trigger>) {
    return <ContextMenuPrimitive.Trigger data-slot="context-menu-trigger" {...props} />;
}

function ContextMenuGroup({ ...props }: React.ComponentProps<typeof ContextMenuPrimitive.Group>) {
    return <ContextMenuPrimitive.Group data-slot="context-menu-group" {...props} />;
}

function ContextMenuPortal({ ...props }: React.ComponentProps<typeof ContextMenuPrimitive.Portal>) {
    return <ContextMenuPrimitive.Portal data-slot="context-menu-portal" {...props} />;
}

function ContextMenuSub({ ...props }: React.ComponentProps<typeof ContextMenuPrimitive.Sub>) {
    return <ContextMenuPrimitive.Sub data-slot="context-menu-sub" {...props} />;
}

function ContextMenuRadioGroup({ ...props }: React.ComponentProps<typeof ContextMenuPrimitive.RadioGroup>) {
    return <ContextMenuPrimitive.RadioGroup data-slot="context-menu-radio-group" {...props} />;
}

function ContextMenuSubTrigger({
    className,
    inset,
    children,
    ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.SubTrigger> & {
    inset?: boolean;
}) {
    return (
        <ContextMenuPrimitive.SubTrigger
            data-slot="context-menu-sub-trigger"
            data-inset={inset}
            className={cn(
                "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        >
            {children}
            <ChevronRightIcon className="ml-auto" />
        </ContextMenuPrimitive.SubTrigger>
    );
}

function ContextMenuSubContent({ className, ...props }: React.ComponentProps<typeof ContextMenuPrimitive.SubContent>) {
    return (
        <ContextMenuPrimitive.SubContent
            data-slot="context-menu-sub-content"
            className={cn(
                'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',
                className
            )}
            {...props}
        />
    );
}

function ContextMenuContent({ className, ...props }: React.ComponentProps<typeof ContextMenuPrimitive.Content>) {
    return (
        <ContextMenuPrimitive.Portal>
            <ContextMenuPrimitive.Content
                data-slot="context-menu-content"
                className={cn(
                    'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',
                    className
                )}
                {...props}
            />
        </ContextMenuPrimitive.Portal>
    );
}

function ContextMenuItem({
    className,
    inset,
    variant = 'default',
    ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Item> & {
    inset?: boolean;
    variant?: 'default' | 'destructive';
}) {
    return (
        <ContextMenuPrimitive.Item
            data-slot="context-menu-item"
            data-inset={inset}
            data-variant={variant}
            className={cn(
                "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        />
    );
}

function ContextMenuCheckboxItem({
    className,
    children,
    checked,
    ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.CheckboxItem>) {
    return (
        <ContextMenuPrimitive.CheckboxItem
            data-slot="context-menu-checkbox-item"
            className={cn(
                "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            checked={checked}
            {...props}
        >
            <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
                <ContextMenuPrimitive.ItemIndicator>
                    <CheckIcon className="size-4" />
                </ContextMenuPrimitive.ItemIndicator>
            </span>
            {children}
        </ContextMenuPrimitive.CheckboxItem>
    );
}

function ContextMenuRadioItem({
    className,
    children,
    ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.RadioItem>) {
    return (
        <ContextMenuPrimitive.RadioItem
            data-slot="context-menu-radio-item"
            className={cn(
                "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        >
            <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
                <ContextMenuPrimitive.ItemIndicator>
                    <CircleIcon className="size-2 fill-current" />
                </ContextMenuPrimitive.ItemIndicator>
            </span>
            {children}
        </ContextMenuPrimitive.RadioItem>
    );
}

function ContextMenuLabel({
    className,
    inset,
    ...props
}: React.ComponentProps<typeof ContextMenuPrimitive.Label> & {
    inset?: boolean;
}) {
    return (
        <ContextMenuPrimitive.Label
            data-slot="context-menu-label"
            data-inset={inset}
            className={cn('text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8', className)}
            {...props}
        />
    );
}

function ContextMenuSeparator({ className, ...props }: React.ComponentProps<typeof ContextMenuPrimitive.Separator>) {
    return (
        <ContextMenuPrimitive.Separator
            data-slot="context-menu-separator"
            className={cn('bg-border -mx-1 my-1 h-px', className)}
            {...props}
        />
    );
}

function ContextMenuShortcut({ className, ...props }: React.ComponentProps<'span'>) {
    return (
        <span
            data-slot="context-menu-shortcut"
            className={cn('text-muted-foreground ml-auto text-xs tracking-widest', className)}
            {...props}
        />
    );
}

export {
    ContextMenu,
    ContextMenuTrigger,
    ContextMenuContent,
    ContextMenuItem,
    ContextMenuCheckboxItem,
    ContextMenuRadioItem,
    ContextMenuLabel,
    ContextMenuSeparator,
    ContextMenuShortcut,
    ContextMenuGroup,
    ContextMenuPortal,
    ContextMenuSub,
    ContextMenuSubContent,
    ContextMenuSubTrigger,
    ContextMenuRadioGroup
};
PK
build-template/src/frontend/src/components/ui/card.tsximport * as React from 'react';

import { cn } from '@/lib/utils';

function Card({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="card"
            className={cn(
                'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',
                className
            )}
            {...props}
        />
    );
}

function CardHeader({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="card-header"
            className={cn(
                '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',
                className
            )}
            {...props}
        />
    );
}

function CardTitle({ className, ...props }: React.ComponentProps<'div'>) {
    return <div data-slot="card-title" className={cn('leading-none font-semibold', className)} {...props} />;
}

function CardDescription({ className, ...props }: React.ComponentProps<'div'>) {
    return <div data-slot="card-description" className={cn('text-muted-foreground text-sm', className)} {...props} />;
}

function CardAction({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="card-action"
            className={cn('col-start-2 row-span-2 row-start-1 self-start justify-self-end', className)}
            {...props}
        />
    );
}

function CardContent({ className, ...props }: React.ComponentProps<'div'>) {
    return <div data-slot="card-content" className={cn('px-6', className)} {...props} />;
}

function CardFooter({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div data-slot="card-footer" className={cn('flex items-center px-6 [.border-t]:pt-6', className)} {...props} />
    );
}

export { Card, CardHeader, CardFooter, CardTitle, CardAction, CardDescription, CardContent };
PK
build-template/src/frontend/src/components/ui/dialog.tsx'use client';

import * as React from 'react';
import * as DialogPrimitive from '@radix-ui/react-dialog';
import { XIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function Dialog({ ...props }: React.ComponentProps<typeof DialogPrimitive.Root>) {
    return <DialogPrimitive.Root data-slot="dialog" {...props} />;
}

function DialogTrigger({ ...props }: React.ComponentProps<typeof DialogPrimitive.Trigger>) {
    return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />;
}

function DialogPortal({ ...props }: React.ComponentProps<typeof DialogPrimitive.Portal>) {
    return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />;
}

function DialogClose({ ...props }: React.ComponentProps<typeof DialogPrimitive.Close>) {
    return <DialogPrimitive.Close data-slot="dialog-close" {...props} />;
}

function DialogOverlay({ className, ...props }: React.ComponentProps<typeof DialogPrimitive.Overlay>) {
    return (
        <DialogPrimitive.Overlay
            data-slot="dialog-overlay"
            className={cn(
                'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',
                className
            )}
            {...props}
        />
    );
}

function DialogContent({
    className,
    children,
    showCloseButton = true,
    ...props
}: React.ComponentProps<typeof DialogPrimitive.Content> & {
    showCloseButton?: boolean;
}) {
    return (
        <DialogPortal data-slot="dialog-portal">
            <DialogOverlay />
            <DialogPrimitive.Content
                data-slot="dialog-content"
                className={cn(
                    'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',
                    className
                )}
                {...props}
            >
                {children}
                {showCloseButton && (
                    <DialogPrimitive.Close
                        data-slot="dialog-close"
                        className="ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"
                    >
                        <XIcon />
                        <span className="sr-only">Close</span>
                    </DialogPrimitive.Close>
                )}
            </DialogPrimitive.Content>
        </DialogPortal>
    );
}

function DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="dialog-header"
            className={cn('flex flex-col gap-2 text-center sm:text-left', className)}
            {...props}
        />
    );
}

function DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="dialog-footer"
            className={cn('flex flex-col-reverse gap-2 sm:flex-row sm:justify-end', className)}
            {...props}
        />
    );
}

function DialogTitle({ className, ...props }: React.ComponentProps<typeof DialogPrimitive.Title>) {
    return (
        <DialogPrimitive.Title
            data-slot="dialog-title"
            className={cn('text-lg leading-none font-semibold', className)}
            {...props}
        />
    );
}

function DialogDescription({ className, ...props }: React.ComponentProps<typeof DialogPrimitive.Description>) {
    return (
        <DialogPrimitive.Description
            data-slot="dialog-description"
            className={cn('text-muted-foreground text-sm', className)}
            {...props}
        />
    );
}

export {
    Dialog,
    DialogClose,
    DialogContent,
    DialogDescription,
    DialogFooter,
    DialogHeader,
    DialogOverlay,
    DialogPortal,
    DialogTitle,
    DialogTrigger
};
PK
build-template/src/frontend/src/components/ui/input-otp.tsx'use client';

import * as React from 'react';
import { OTPInput, OTPInputContext } from 'input-otp';
import { MinusIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function InputOTP({
    className,
    containerClassName,
    ...props
}: React.ComponentProps<typeof OTPInput> & {
    containerClassName?: string;
}) {
    return (
        <OTPInput
            data-slot="input-otp"
            containerClassName={cn('flex items-center gap-2 has-disabled:opacity-50', containerClassName)}
            className={cn('disabled:cursor-not-allowed', className)}
            {...props}
        />
    );
}

function InputOTPGroup({ className, ...props }: React.ComponentProps<'div'>) {
    return <div data-slot="input-otp-group" className={cn('flex items-center', className)} {...props} />;
}

function InputOTPSlot({
    index,
    className,
    ...props
}: React.ComponentProps<'div'> & {
    index: number;
}) {
    const inputOTPContext = React.useContext(OTPInputContext);
    const { char, hasFakeCaret, isActive } = inputOTPContext?.slots[index] ?? {};

    return (
        <div
            data-slot="input-otp-slot"
            data-active={isActive}
            className={cn(
                'data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]',
                className
            )}
            {...props}
        >
            {char}
            {hasFakeCaret && (
                <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
                    <div className="animate-caret-blink bg-foreground h-4 w-px duration-1000" />
                </div>
            )}
        </div>
    );
}

function InputOTPSeparator({ ...props }: React.ComponentProps<'div'>) {
    return (
        <div data-slot="input-otp-separator" role="separator" {...props}>
            <MinusIcon />
        </div>
    );
}

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };
PK
build-template/src/frontend/src/components/ui/form.tsx'use client';

import * as React from 'react';
import * as LabelPrimitive from '@radix-ui/react-label';
import { Slot } from '@radix-ui/react-slot';
import {
    Controller,
    FormProvider,
    useFormContext,
    useFormState,
    type ControllerProps,
    type FieldPath,
    type FieldValues
} from 'react-hook-form';

import { cn } from '@/lib/utils';
import { Label } from '@/components/ui/label';

const Form = FormProvider;

type FormFieldContextValue<
    TFieldValues extends FieldValues = FieldValues,
    TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
> = {
    name: TName;
};

const FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue);

const FormField = <
    TFieldValues extends FieldValues = FieldValues,
    TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
>({
    ...props
}: ControllerProps<TFieldValues, TName>) => {
    return (
        <FormFieldContext.Provider value={{ name: props.name }}>
            <Controller {...props} />
        </FormFieldContext.Provider>
    );
};

const useFormField = () => {
    const fieldContext = React.useContext(FormFieldContext);
    const itemContext = React.useContext(FormItemContext);
    const { getFieldState } = useFormContext();
    const formState = useFormState({ name: fieldContext.name });
    const fieldState = getFieldState(fieldContext.name, formState);

    if (!fieldContext) {
        throw new Error('useFormField should be used within <FormField>');
    }

    const { id } = itemContext;

    return {
        id,
        name: fieldContext.name,
        formItemId: `${id}-form-item`,
        formDescriptionId: `${id}-form-item-description`,
        formMessageId: `${id}-form-item-message`,
        ...fieldState
    };
};

type FormItemContextValue = {
    id: string;
};

const FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue);

function FormItem({ className, ...props }: React.ComponentProps<'div'>) {
    const id = React.useId();

    return (
        <FormItemContext.Provider value={{ id }}>
            <div data-slot="form-item" className={cn('grid gap-2', className)} {...props} />
        </FormItemContext.Provider>
    );
}

function FormLabel({ className, ...props }: React.ComponentProps<typeof LabelPrimitive.Root>) {
    const { error, formItemId } = useFormField();

    return (
        <Label
            data-slot="form-label"
            data-error={!!error}
            className={cn('data-[error=true]:text-destructive', className)}
            htmlFor={formItemId}
            {...props}
        />
    );
}

function FormControl({ ...props }: React.ComponentProps<typeof Slot>) {
    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();

    return (
        <Slot
            data-slot="form-control"
            id={formItemId}
            aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}
            aria-invalid={!!error}
            {...props}
        />
    );
}

function FormDescription({ className, ...props }: React.ComponentProps<'p'>) {
    const { formDescriptionId } = useFormField();

    return (
        <p
            data-slot="form-description"
            id={formDescriptionId}
            className={cn('text-muted-foreground text-sm', className)}
            {...props}
        />
    );
}

function FormMessage({ className, ...props }: React.ComponentProps<'p'>) {
    const { error, formMessageId } = useFormField();
    const body = error ? String(error?.message ?? '') : props.children;

    if (!body) {
        return null;
    }

    return (
        <p data-slot="form-message" id={formMessageId} className={cn('text-destructive text-sm', className)} {...props}>
            {body}
        </p>
    );
}

export { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField };
PK
build-template/src/frontend/src/components/ui/resizable.tsx'use client';

import * as React from 'react';
import { GripVerticalIcon } from 'lucide-react';
import * as ResizablePrimitive from 'react-resizable-panels';

import { cn } from '@/lib/utils';

function ResizablePanelGroup({ className, ...props }: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) {
    return (
        <ResizablePrimitive.PanelGroup
            data-slot="resizable-panel-group"
            className={cn('flex h-full w-full data-[panel-group-direction=vertical]:flex-col', className)}
            {...props}
        />
    );
}

function ResizablePanel({ ...props }: React.ComponentProps<typeof ResizablePrimitive.Panel>) {
    return <ResizablePrimitive.Panel data-slot="resizable-panel" {...props} />;
}

function ResizableHandle({
    withHandle,
    className,
    ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
    withHandle?: boolean;
}) {
    return (
        <ResizablePrimitive.PanelResizeHandle
            data-slot="resizable-handle"
            className={cn(
                'bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90',
                className
            )}
            {...props}
        >
            {withHandle && (
                <div className="bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border">
                    <GripVerticalIcon className="size-2.5" />
                </div>
            )}
        </ResizablePrimitive.PanelResizeHandle>
    );
}

export { ResizablePanelGroup, ResizablePanel, ResizableHandle };
PK
build-template/src/frontend/src/lib/PK
build-template/src/frontend/src/lib/utils.tsimport { type ClassValue } from 'clsx';
import { clsx } from 'clsx';
import { twMerge } from 'tailwind-merge';

export function cn(...inputs: ClassValue[]): string {
    return twMerge(clsx(inputs));
}
PK
build-template/src/frontend/src/components/ui/scroll-area.tsx'use client';

import * as React from 'react';
import * as ScrollAreaPrimitive from '@radix-ui/react-scroll-area';

import { cn } from '@/lib/utils';

function ScrollArea({ className, children, ...props }: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {
    return (
        <ScrollAreaPrimitive.Root data-slot="scroll-area" className={cn('relative', className)} {...props}>
            <ScrollAreaPrimitive.Viewport
                data-slot="scroll-area-viewport"
                className="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1"
            >
                {children}
            </ScrollAreaPrimitive.Viewport>
            <ScrollBar />
            <ScrollAreaPrimitive.Corner />
        </ScrollAreaPrimitive.Root>
    );
}

function ScrollBar({
    className,
    orientation = 'vertical',
    ...props
}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {
    return (
        <ScrollAreaPrimitive.ScrollAreaScrollbar
            data-slot="scroll-area-scrollbar"
            orientation={orientation}
            className={cn(
                'flex touch-none p-px transition-colors select-none',
                orientation === 'vertical' && 'h-full w-2.5 border-l border-l-transparent',
                orientation === 'horizontal' && 'h-2.5 flex-col border-t border-t-transparent',
                className
            )}
            {...props}
        >
            <ScrollAreaPrimitive.ScrollAreaThumb
                data-slot="scroll-area-thumb"
                className="bg-border relative flex-1 rounded-full"
            />
        </ScrollAreaPrimitive.ScrollAreaScrollbar>
    );
}

export { ScrollArea, ScrollBar };
PK
build-template/src/frontend/src/components/ui/toggle.tsx'use client';

import * as React from 'react';
import * as TogglePrimitive from '@radix-ui/react-toggle';
import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';

const toggleVariants = cva(
    "inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",
    {
        variants: {
            variant: {
                default: 'bg-transparent',
                outline: 'border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground'
            },
            size: {
                default: 'h-9 px-2 min-w-9',
                sm: 'h-8 px-1.5 min-w-8',
                lg: 'h-10 px-2.5 min-w-10'
            }
        },
        defaultVariants: {
            variant: 'default',
            size: 'default'
        }
    }
);

function Toggle({
    className,
    variant,
    size,
    ...props
}: React.ComponentProps<typeof TogglePrimitive.Root> & VariantProps<typeof toggleVariants>) {
    return (
        <TogglePrimitive.Root
            data-slot="toggle"
            className={cn(toggleVariants({ variant, size, className }))}
            {...props}
        />
    );
}

export { Toggle, toggleVariants };
PK
build-template/src/frontend/src/components/ui/switch.tsx'use client';

import * as React from 'react';
import * as SwitchPrimitive from '@radix-ui/react-switch';

import { cn } from '@/lib/utils';

function Switch({ className, ...props }: React.ComponentProps<typeof SwitchPrimitive.Root>) {
    return (
        <SwitchPrimitive.Root
            data-slot="switch"
            className={cn(
                'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',
                className
            )}
            {...props}
        >
            <SwitchPrimitive.Thumb
                data-slot="switch-thumb"
                className={cn(
                    'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'
                )}
            />
        </SwitchPrimitive.Root>
    );
}

export { Switch };
PK
build-template/src/frontend/src/components/ui/aspect-ratio.tsx'use client';

import * as AspectRatioPrimitive from '@radix-ui/react-aspect-ratio';

function AspectRatio({ ...props }: React.ComponentProps<typeof AspectRatioPrimitive.Root>) {
    return <AspectRatioPrimitive.Root data-slot="aspect-ratio" {...props} />;
}

export { AspectRatio };
PK
build-template/src/frontend/src/components/ui/skeleton.tsximport { cn } from '@/lib/utils';

function Skeleton({ className, ...props }: React.ComponentProps<'div'>) {
    return <div data-slot="skeleton" className={cn('bg-accent animate-pulse rounded-md', className)} {...props} />;
}

export { Skeleton };
PK
build-template/src/frontend/src/components/ui/carousel.tsx'use client';

import * as React from 'react';
import useEmblaCarousel, { type UseEmblaCarouselType } from 'embla-carousel-react';
import { ArrowLeft, ArrowRight } from 'lucide-react';

import { cn } from '@/lib/utils';
import { Button } from '@/components/ui/button';

type CarouselApi = UseEmblaCarouselType[1];
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>;
type CarouselOptions = UseCarouselParameters[0];
type CarouselPlugin = UseCarouselParameters[1];

type CarouselProps = {
    opts?: CarouselOptions;
    plugins?: CarouselPlugin;
    orientation?: 'horizontal' | 'vertical';
    setApi?: (api: CarouselApi) => void;
};

type CarouselContextProps = {
    carouselRef: ReturnType<typeof useEmblaCarousel>[0];
    api: ReturnType<typeof useEmblaCarousel>[1];
    scrollPrev: () => void;
    scrollNext: () => void;
    canScrollPrev: boolean;
    canScrollNext: boolean;
} & CarouselProps;

const CarouselContext = React.createContext<CarouselContextProps | null>(null);

function useCarousel() {
    const context = React.useContext(CarouselContext);

    if (!context) {
        throw new Error('useCarousel must be used within a <Carousel />');
    }

    return context;
}

function Carousel({
    orientation = 'horizontal',
    opts,
    setApi,
    plugins,
    className,
    children,
    ...props
}: React.ComponentProps<'div'> & CarouselProps) {
    const [carouselRef, api] = useEmblaCarousel(
        {
            ...opts,
            axis: orientation === 'horizontal' ? 'x' : 'y'
        },
        plugins
    );
    const [canScrollPrev, setCanScrollPrev] = React.useState(false);
    const [canScrollNext, setCanScrollNext] = React.useState(false);

    const onSelect = React.useCallback((api: CarouselApi) => {
        if (!api) return;
        setCanScrollPrev(api.canScrollPrev());
        setCanScrollNext(api.canScrollNext());
    }, []);

    const scrollPrev = React.useCallback(() => {
        api?.scrollPrev();
    }, [api]);

    const scrollNext = React.useCallback(() => {
        api?.scrollNext();
    }, [api]);

    const handleKeyDown = React.useCallback(
        (event: React.KeyboardEvent<HTMLDivElement>) => {
            if (event.key === 'ArrowLeft') {
                event.preventDefault();
                scrollPrev();
            } else if (event.key === 'ArrowRight') {
                event.preventDefault();
                scrollNext();
            }
        },
        [scrollPrev, scrollNext]
    );

    React.useEffect(() => {
        if (!api || !setApi) return;
        setApi(api);
    }, [api, setApi]);

    React.useEffect(() => {
        if (!api) return;
        onSelect(api);
        api.on('reInit', onSelect);
        api.on('select', onSelect);

        return () => {
            api?.off('select', onSelect);
        };
    }, [api, onSelect]);

    return (
        <CarouselContext.Provider
            value={{
                carouselRef,
                api: api,
                opts,
                orientation: orientation || (opts?.axis === 'y' ? 'vertical' : 'horizontal'),
                scrollPrev,
                scrollNext,
                canScrollPrev,
                canScrollNext
            }}
        >
            <div
                onKeyDownCapture={handleKeyDown}
                className={cn('relative', className)}
                role="region"
                aria-roledescription="carousel"
                data-slot="carousel"
                {...props}
            >
                {children}
            </div>
        </CarouselContext.Provider>
    );
}

function CarouselContent({ className, ...props }: React.ComponentProps<'div'>) {
    const { carouselRef, orientation } = useCarousel();

    return (
        <div ref={carouselRef} className="overflow-hidden" data-slot="carousel-content">
            <div
                className={cn('flex', orientation === 'horizontal' ? '-ml-4' : '-mt-4 flex-col', className)}
                {...props}
            />
        </div>
    );
}

function CarouselItem({ className, ...props }: React.ComponentProps<'div'>) {
    const { orientation } = useCarousel();

    return (
        <div
            role="group"
            aria-roledescription="slide"
            data-slot="carousel-item"
            className={cn(
                'min-w-0 shrink-0 grow-0 basis-full',
                orientation === 'horizontal' ? 'pl-4' : 'pt-4',
                className
            )}
            {...props}
        />
    );
}

function CarouselPrevious({
    className,
    variant = 'outline',
    size = 'icon',
    ...props
}: React.ComponentProps<typeof Button>) {
    const { orientation, scrollPrev, canScrollPrev } = useCarousel();

    return (
        <Button
            data-slot="carousel-previous"
            variant={variant}
            size={size}
            className={cn(
                'absolute size-8 rounded-full',
                orientation === 'horizontal'
                    ? 'top-1/2 -left-12 -translate-y-1/2'
                    : '-top-12 left-1/2 -translate-x-1/2 rotate-90',
                className
            )}
            disabled={!canScrollPrev}
            onClick={scrollPrev}
            {...props}
        >
            <ArrowLeft />
            <span className="sr-only">Previous slide</span>
        </Button>
    );
}

function CarouselNext({
    className,
    variant = 'outline',
    size = 'icon',
    ...props
}: React.ComponentProps<typeof Button>) {
    const { orientation, scrollNext, canScrollNext } = useCarousel();

    return (
        <Button
            data-slot="carousel-next"
            variant={variant}
            size={size}
            className={cn(
                'absolute size-8 rounded-full',
                orientation === 'horizontal'
                    ? 'top-1/2 -right-12 -translate-y-1/2'
                    : '-bottom-12 left-1/2 -translate-x-1/2 rotate-90',
                className
            )}
            disabled={!canScrollNext}
            onClick={scrollNext}
            {...props}
        >
            <ArrowRight />
            <span className="sr-only">Next slide</span>
        </Button>
    );
}

export { type CarouselApi, Carousel, CarouselContent, CarouselItem, CarouselPrevious, CarouselNext };
PK
build-template/src/frontend/src/components/ui/navigation-menu.tsximport * as React from 'react';
import * as NavigationMenuPrimitive from '@radix-ui/react-navigation-menu';
import { cva } from 'class-variance-authority';
import { ChevronDownIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function NavigationMenu({
    className,
    children,
    viewport = true,
    ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Root> & {
    viewport?: boolean;
}) {
    return (
        <NavigationMenuPrimitive.Root
            data-slot="navigation-menu"
            data-viewport={viewport}
            className={cn(
                'group/navigation-menu relative flex max-w-max flex-1 items-center justify-center',
                className
            )}
            {...props}
        >
            {children}
            {viewport && <NavigationMenuViewport />}
        </NavigationMenuPrimitive.Root>
    );
}

function NavigationMenuList({ className, ...props }: React.ComponentProps<typeof NavigationMenuPrimitive.List>) {
    return (
        <NavigationMenuPrimitive.List
            data-slot="navigation-menu-list"
            className={cn('group flex flex-1 list-none items-center justify-center gap-1', className)}
            {...props}
        />
    );
}

function NavigationMenuItem({ className, ...props }: React.ComponentProps<typeof NavigationMenuPrimitive.Item>) {
    return (
        <NavigationMenuPrimitive.Item
            data-slot="navigation-menu-item"
            className={cn('relative', className)}
            {...props}
        />
    );
}

const navigationMenuTriggerStyle = cva(
    'group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1'
);

function NavigationMenuTrigger({
    className,
    children,
    ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Trigger>) {
    return (
        <NavigationMenuPrimitive.Trigger
            data-slot="navigation-menu-trigger"
            className={cn(navigationMenuTriggerStyle(), 'group', className)}
            {...props}
        >
            {children}{' '}
            <ChevronDownIcon
                className="relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180"
                aria-hidden="true"
            />
        </NavigationMenuPrimitive.Trigger>
    );
}

function NavigationMenuContent({ className, ...props }: React.ComponentProps<typeof NavigationMenuPrimitive.Content>) {
    return (
        <NavigationMenuPrimitive.Content
            data-slot="navigation-menu-content"
            className={cn(
                'data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto',
                'group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none',
                className
            )}
            {...props}
        />
    );
}

function NavigationMenuViewport({
    className,
    ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Viewport>) {
    return (
        <div className={cn('absolute top-full left-0 isolate z-50 flex justify-center')}>
            <NavigationMenuPrimitive.Viewport
                data-slot="navigation-menu-viewport"
                className={cn(
                    'origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]',
                    className
                )}
                {...props}
            />
        </div>
    );
}

function NavigationMenuLink({ className, ...props }: React.ComponentProps<typeof NavigationMenuPrimitive.Link>) {
    return (
        <NavigationMenuPrimitive.Link
            data-slot="navigation-menu-link"
            className={cn(
                "data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        />
    );
}

function NavigationMenuIndicator({
    className,
    ...props
}: React.ComponentProps<typeof NavigationMenuPrimitive.Indicator>) {
    return (
        <NavigationMenuPrimitive.Indicator
            data-slot="navigation-menu-indicator"
            className={cn(
                'data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden',
                className
            )}
            {...props}
        >
            <div className="bg-border relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm shadow-md" />
        </NavigationMenuPrimitive.Indicator>
    );
}

export {
    NavigationMenu,
    NavigationMenuList,
    NavigationMenuItem,
    NavigationMenuContent,
    NavigationMenuTrigger,
    NavigationMenuLink,
    NavigationMenuIndicator,
    NavigationMenuViewport,
    navigationMenuTriggerStyle
};
PK
build-template/src/frontend/src/hooks/PK
build-template/src/frontend/src/hooks/use-mobile.tsximport { useEffect, useState } from 'react';

export function useIsMobile(breakpoint = 768): boolean {
    const [isMobile, setIsMobile] = useState<boolean>(false);
    useEffect(() => {
        const update = () => setIsMobile(window.innerWidth < breakpoint);
        update();
        window.addEventListener('resize', update);
        return () => window.removeEventListener('resize', update);
    }, [breakpoint]);
    return isMobile;
}
PK
build-template/src/frontend/src/components/ui/textarea.tsximport * as React from 'react';

import { cn } from '@/lib/utils';

function Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {
    return (
        <textarea
            data-slot="textarea"
            className={cn(
                'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',
                className
            )}
            {...props}
        />
    );
}

export { Textarea };
PK
frontend/PK
frontend/src/PK
frontend/src/lib/PK
frontend/src/lib/universeEnergyConnector.ts/**
 * Universe Energy Connector for LFLCEI Anima Integration
 * Optimized for stable asynchronous data fetching with proper retry/backoff handling
 * Connects to https://lflcei-anima-t5m.caffeine.xyz/ for Universe Energy data
 * Enhanced with defensive null handling and safe fallback mechanisms
 */

export interface UniverseEnergyResponse {
  score: number;
  timestamp: number;
  status: 'success' | 'error' | 'timeout';
}

export class UniverseEnergyConnector {
  private static readonly UNIVERSE_ENERGY_URL = 'https://lflcei-anima-t5m.caffeine.xyz/';
  private static readonly MAX_RETRIES = 3;
  private static readonly INITIAL_DELAY = 500;
  private static readonly TIMEOUT_MS = 5000;
  private static lastSuccessfulScore: number = 0;
  private static consecutiveErrors: number = 0;
  private static isFetching: boolean = false;

  /**
   * Fetches the current universe energy score from external backend with timeout handling and safe fallback
   * @param retryCount Current retry attempt
   * @returns Promise with score data
   */
  static async getScore(retryCount: number = 0): Promise<UniverseEnergyResponse> {
    // Prevent concurrent fetch attempts
    if (this.isFetching && retryCount === 0) {
      console.log('[UniverseEnergyConnector] Fetch already in progress, returning last score');
      return this.getSafeFallbackResponse();
    }

    this.isFetching = true;

    try {
      console.log(`[UniverseEnergyConnector] Fetching score (attempt ${retryCount + 1}/${this.MAX_RETRIES})`);

      // Create abort controller for timeout
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), this.TIMEOUT_MS);

      try {
        // Make API call to external backend's getScore() function
        const response = await fetch(`${this.UNIVERSE_ENERGY_URL}getScore`, {
          method: 'GET',
          headers: {
            'Content-Type': 'application/json',
          },
          signal: controller.signal,
        });

        clearTimeout(timeoutId);

        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }

        const data = await response.json();
        
        // Validate and extract score
        let score: number;
        if (typeof data === 'number') {
          score = data;
        } else if (data && typeof data.score === 'number') {
          score = data.score;
        } else {
          throw new Error('Invalid response format: score not found');
        }

        // Validate score is a valid number
        if (!Number.isFinite(score)) {
          throw new Error('Invalid score value');
        }
        
        console.log(`[UniverseEnergyConnector] Successfully fetched score:`, score);
        
        // Update last successful score and reset error counter
        this.lastSuccessfulScore = score;
        this.consecutiveErrors = 0;
        this.isFetching = false;
        
        return {
          score,
          timestamp: Date.now(),
          status: 'success',
        };

      } catch (fetchError) {
        clearTimeout(timeoutId);
        
        // Check if it's a timeout error
        if (fetchError instanceof Error && fetchError.name === 'AbortError') {
          throw new Error('Request timeout');
        }
        throw fetchError;
      }

    } catch (error) {
      this.consecutiveErrors++;
      console.error(`[UniverseEnergyConnector] Error on attempt ${retryCount + 1}:`, error);

      // Retry logic with exponential backoff
      if (retryCount < this.MAX_RETRIES - 1) {
        const delay = this.INITIAL_DELAY * Math.pow(2, retryCount);
        console.log(`[UniverseEnergyConnector] Retrying in ${delay}ms...`);
        
        await new Promise(resolve => setTimeout(resolve, delay));
        return this.getScore(retryCount + 1);
      }

      // All retries exhausted
      const errorMessage = error instanceof Error ? error.message : 'Unknown error';
      console.error(`[UniverseEnergyConnector] All retry attempts exhausted. Final error:`, errorMessage);
      
      this.isFetching = false;
      return this.getSafeFallbackResponse(errorMessage);
    }
  }

  /**
   * Get safe fallback response with proper error status
   */
  private static getSafeFallbackResponse(errorMessage?: string): UniverseEnergyResponse {
    return {
      score: this.lastSuccessfulScore,
      timestamp: Date.now(),
      status: errorMessage?.includes('timeout') ? 'timeout' : 'error',
    };
  }

  /**
   * Test connection to external backend with safe error handling
   */
  static async testConnection(): Promise<boolean> {
    try {
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), 3000);

      const response = await fetch(`${this.UNIVERSE_ENERGY_URL}health`, {
        method: 'GET',
        signal: controller.signal,
      });
      
      clearTimeout(timeoutId);
      return response.ok;
    } catch (error) {
      console.error('[UniverseEnergyConnector] Connection test failed:', error);
      return false;
    }
  }

  /**
   * Get the last successful score (for fallback display)
   */
  static getLastSuccessfulScore(): number {
    return this.lastSuccessfulScore;
  }

  /**
   * Get consecutive error count
   */
  static getConsecutiveErrors(): number {
    return this.consecutiveErrors;
  }

  /**
   * Reset error counter
   */
  static resetErrorCounter(): void {
    this.consecutiveErrors = 0;
  }

  /**
   * Check if currently fetching
   */
  static isCurrentlyFetching(): boolean {
    return this.isFetching;
  }
}
PK
build-template/src/frontend/src/components/ui/toggle-group.tsx'use client';

import * as React from 'react';
import * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group';
import { type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';
import { toggleVariants } from '@/components/ui/toggle';

const ToggleGroupContext = React.createContext<VariantProps<typeof toggleVariants>>({
    size: 'default',
    variant: 'default'
});

function ToggleGroup({
    className,
    variant,
    size,
    children,
    ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Root> & VariantProps<typeof toggleVariants>) {
    return (
        <ToggleGroupPrimitive.Root
            data-slot="toggle-group"
            data-variant={variant}
            data-size={size}
            className={cn(
                'group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs',
                className
            )}
            {...props}
        >
            <ToggleGroupContext.Provider value={{ variant, size }}>{children}</ToggleGroupContext.Provider>
        </ToggleGroupPrimitive.Root>
    );
}

function ToggleGroupItem({
    className,
    children,
    variant,
    size,
    ...props
}: React.ComponentProps<typeof ToggleGroupPrimitive.Item> & VariantProps<typeof toggleVariants>) {
    const context = React.useContext(ToggleGroupContext);

    return (
        <ToggleGroupPrimitive.Item
            data-slot="toggle-group-item"
            data-variant={context.variant || variant}
            data-size={context.size || size}
            className={cn(
                toggleVariants({
                    variant: context.variant || variant,
                    size: context.size || size
                }),
                'min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l',
                className
            )}
            {...props}
        >
            {children}
        </ToggleGroupPrimitive.Item>
    );
}

export { ToggleGroup, ToggleGroupItem };
PK
frontend/src/components/PK
frontend/src/components/EnergyCoinBalanceTracker.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Sparkles, TrendingUp, Coins } from 'lucide-react';
import { useGetCallerEnergyBalance } from '../hooks/useQueries';

export default function EnergyCoinBalanceTracker() {
  const { data: balance, isLoading } = useGetCallerEnergyBalance();
  const [displayBalance, setDisplayBalance] = useState(0);
  const [isAnimating, setIsAnimating] = useState(false);

  useEffect(() => {
    if (balance !== undefined) {
      const targetBalance = Number(balance);
      if (targetBalance !== displayBalance) {
        setIsAnimating(true);
        const duration = 1000;
        const steps = 30;
        const increment = (targetBalance - displayBalance) / steps;
        let currentStep = 0;

        const interval = setInterval(() => {
          currentStep++;
          if (currentStep >= steps) {
            setDisplayBalance(targetBalance);
            setIsAnimating(false);
            clearInterval(interval);
          } else {
            setDisplayBalance(prev => prev + increment);
          }
        }, duration / steps);

        return () => clearInterval(interval);
      }
    }
  }, [balance, displayBalance]);

  if (isLoading) {
    return (
      <Card className="overflow-hidden relative">
        <div className="absolute inset-0 bg-gradient-to-br from-red-500/10 via-amber-500/10 via-green-500/10 via-blue-500/10 via-purple-500/10 to-pink-500/10 animate-fusion-sync-flow"></div>
        <CardHeader className="relative z-10">
          <CardTitle className="flex items-center gap-2">
            <Sparkles className="h-5 w-5 text-amber-500 animate-qi-pulse" />
            ICP 
          </CardTitle>
          <CardDescription>...</CardDescription>
        </CardHeader>
      </Card>
    );
  }

  return (
    <Card className="overflow-hidden relative group hover:shadow-xl transition-all duration-300">
      {/* Animated Background */}
      <div className="absolute inset-0 bg-gradient-to-br from-red-500/10 via-amber-500/10 via-green-500/10 via-blue-500/10 via-purple-500/10 to-pink-500/10 animate-fusion-sync-flow"></div>
      
      {/* Energy Particles */}
      <div className="absolute inset-0 pointer-events-none overflow-hidden">
        {[...Array(7)].map((_, i) => (
          <div
            key={i}
            className="absolute w-2 h-2 rounded-full animate-energy-particle"
            style={{
              left: `${10 + i * 15}%`,
              top: `${20 + (i % 3) * 30}%`,
              background: [
                'oklch(0.65 0.26 25)',
                'oklch(0.70 0.24 40)',
                'oklch(0.75 0.22 120)',
                'oklch(0.70 0.26 200)',
                'oklch(0.75 0.24 280)',
                'oklch(0.65 0.26 320)',
                'oklch(0.70 0.24 350)',
              ][i],
              animationDelay: `${i * 0.3}s`,
              opacity: 0.6,
            }}
          />
        ))}
      </div>

      <CardHeader className="relative z-10">
        <div className="flex items-center justify-between">
          <CardTitle className="flex items-center gap-2">
            <div className="relative">
              <Sparkles className="h-5 w-5 text-amber-500 animate-qi-pulse" />
              <div className="absolute inset-0 blur-md bg-amber-500/50 animate-qi-pulse"></div>
            </div>
            <span className="bg-gradient-to-r from-red-500 via-amber-500 via-green-500 via-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent">
              ICP 
            </span>
          </CardTitle>
          <Badge variant="outline" className="gap-1">
            <TrendingUp className="h-3 w-3" />
            
          </Badge>
        </div>
        <CardDescription></CardDescription>
      </CardHeader>

      <CardContent className="relative z-10">
        <div className="space-y-4">
          {/* Balance Display */}
          <div className="relative">
            <div className="flex items-center gap-3">
              <div className="relative">
                <Coins className="h-12 w-12 text-amber-500" />
                {isAnimating && (
                  <div className="absolute inset-0 rounded-full bg-amber-500/30 animate-qi-pulse"></div>
                )}
              </div>
              <div>
                <p className="text-sm text-muted-foreground"></p>
                <p className={`text-4xl font-bold bg-gradient-to-r from-amber-500 via-yellow-400 to-amber-500 bg-clip-text text-transparent ${isAnimating ? 'animate-qi-pulse' : ''}`}>
                  {Math.round(displayBalance).toLocaleString()}
                </p>
              </div>
            </div>
          </div>

          {/* Energy Flow Visualization */}
          <div className="relative h-2 bg-muted/30 rounded-full overflow-hidden">
            <div className="absolute inset-0 bg-gradient-to-r from-red-500 via-amber-500 via-green-500 via-blue-500 via-purple-500 to-pink-500 animate-fusion-sync-flow"></div>
          </div>

          {/* Quick Stats */}
          <div className="grid grid-cols-3 gap-2 text-center">
            <div className="p-2 rounded-lg bg-muted/20">
              <p className="text-xs text-muted-foreground"></p>
              <p className="text-sm font-semibold"></p>
            </div>
            <div className="p-2 rounded-lg bg-muted/20">
              <p className="text-xs text-muted-foreground"></p>
              <p className="text-sm font-semibold"></p>
            </div>
            <div className="p-2 rounded-lg bg-muted/20">
              <p className="text-xs text-muted-foreground"></p>
              <p className="text-sm font-semibold"></p>
            </div>
          </div>
        </div>
      </CardContent>
    </Card>
  );
}
PK
frontend/src/components/EnergyCoinActions.tsximport { useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Textarea } from '@/components/ui/textarea';
import { Zap, Sparkles, Loader2 } from 'lucide-react';
import { useAwardTaskCompletionEnergy, useAwardAIInteractionEnergy, useConsumeEnergyForCultivation } from '../hooks/useQueries';
import { toast } from 'sonner';

export default function EnergyCoinActions() {
  const [taskDescription, setTaskDescription] = useState('');
  const [aiDescription, setAiDescription] = useState('');
  const [consumeAmount, setConsumeAmount] = useState('');
  const [consumeDescription, setConsumeDescription] = useState('');

  const awardTask = useAwardTaskCompletionEnergy();
  const awardAI = useAwardAIInteractionEnergy();
  const consumeEnergy = useConsumeEnergyForCultivation();

  const handleAwardTask = async () => {
    if (!taskDescription.trim()) {
      toast.error('');
      return;
    }

    try {
      await awardTask.mutateAsync(taskDescription);
      toast.success(' 100 ', {
        description: taskDescription,
      });
      setTaskDescription('');
    } catch (error: any) {
      toast.error('', {
        description: error.message,
      });
    }
  };

  const handleAwardAI = async () => {
    if (!aiDescription.trim()) {
      toast.error('');
      return;
    }

    try {
      await awardAI.mutateAsync(aiDescription);
      toast.success('AI  50 ', {
        description: aiDescription,
      });
      setAiDescription('');
    } catch (error: any) {
      toast.error('', {
        description: error.message,
      });
    }
  };

  const handleConsumeEnergy = async () => {
    const amount = parseInt(consumeAmount);
    if (isNaN(amount) || amount <= 0) {
      toast.error('');
      return;
    }

    if (!consumeDescription.trim()) {
      toast.error('');
      return;
    }

    try {
      await consumeEnergy.mutateAsync({
        amount: BigInt(amount),
        description: consumeDescription,
      });
      toast.success(` ${amount} `, {
        description: consumeDescription,
      });
      setConsumeAmount('');
      setConsumeDescription('');
    } catch (error: any) {
      toast.error('', {
        description: error.message,
      });
    }
  };

  return (
    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
      {/* Earn Energy */}
      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Sparkles className="h-5 w-5 text-amber-500" />
            
          </CardTitle>
          <CardDescription> AI </CardDescription>
        </CardHeader>
        <CardContent className="space-y-6">
          {/* Task Completion */}
          <div className="space-y-3">
            <Label htmlFor="task-description"> (+100 )</Label>
            <Textarea
              id="task-description"
              placeholder="..."
              value={taskDescription}
              onChange={(e) => setTaskDescription(e.target.value)}
              rows={3}
            />
            <Button
              onClick={handleAwardTask}
              disabled={awardTask.isPending || !taskDescription.trim()}
              className="w-full"
            >
              {awardTask.isPending ? (
                <>
                  <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                  ...
                </>
              ) : (
                <>
                  <Sparkles className="mr-2 h-4 w-4" />
                  
                </>
              )}
            </Button>
          </div>

          {/* AI Interaction */}
          <div className="space-y-3">
            <Label htmlFor="ai-description">AI  (+50 )</Label>
            <Textarea
              id="ai-description"
              placeholder=" AI ..."
              value={aiDescription}
              onChange={(e) => setAiDescription(e.target.value)}
              rows={3}
            />
            <Button
              onClick={handleAwardAI}
              disabled={awardAI.isPending || !aiDescription.trim()}
              className="w-full"
              variant="secondary"
            >
              {awardAI.isPending ? (
                <>
                  <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                  ...
                </>
              ) : (
                <>
                  <Sparkles className="mr-2 h-4 w-4" />
                  
                </>
              )}
            </Button>
          </div>
        </CardContent>
      </Card>

      {/* Consume Energy */}
      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Zap className="h-5 w-5 text-red-500" />
            
          </CardTitle>
          <CardDescription></CardDescription>
        </CardHeader>
        <CardContent className="space-y-4">
          <div className="space-y-3">
            <Label htmlFor="consume-amount"></Label>
            <Input
              id="consume-amount"
              type="number"
              placeholder=""
              value={consumeAmount}
              onChange={(e) => setConsumeAmount(e.target.value)}
              min="1"
            />
          </div>

          <div className="space-y-3">
            <Label htmlFor="consume-description"></Label>
            <Textarea
              id="consume-description"
              placeholder="..."
              value={consumeDescription}
              onChange={(e) => setConsumeDescription(e.target.value)}
              rows={4}
            />
          </div>

          <Button
            onClick={handleConsumeEnergy}
            disabled={consumeEnergy.isPending || !consumeAmount || !consumeDescription.trim()}
            className="w-full"
            variant="destructive"
          >
            {consumeEnergy.isPending ? (
              <>
                <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                ...
              </>
            ) : (
              <>
                <Zap className="mr-2 h-4 w-4" />
                
              </>
            )}
          </Button>
        </CardContent>
      </Card>
    </div>
  );
}
PK
frontend/src/components/AccessDeniedScreen.tsximport { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Shield, Database, Lock } from 'lucide-react';
import { useInternetIdentity } from '../hooks/useInternetIdentity';
import { useQueryClient } from '@tanstack/react-query';
import { useState } from 'react';

export default function AccessDeniedScreen() {
  const { login, loginStatus } = useInternetIdentity();
  const queryClient = useQueryClient();
  const [loginError, setLoginError] = useState<string | null>(null);

  const handleLogin = async () => {
    try {
      setLoginError(null);
      
      // Clear all stale cached data before login
      queryClient.clear();
      
      await login();
      
      // Force fresh role data fetch after successful login
      queryClient.invalidateQueries({ queryKey: ['callerUserRole'] });
      queryClient.invalidateQueries({ queryKey: ['currentUserProfile'] });
    } catch (error) {
      console.error('[AccessDeniedScreen] Login error:', error);
      const errorMessage = error instanceof Error ? error.message : 'Unknown login error';
      setLoginError(errorMessage);
      
      // Handle specific error cases
      if (errorMessage.includes('already authenticated')) {
        try {
          queryClient.clear();
          setTimeout(() => {
            setLoginError(null);
            // Call login without chaining .catch since it returns void
            try {
              login();
            } catch (err) {
              console.error('[AccessDeniedScreen] Retry login error:', err);
              setLoginError('');
            }
          }, 300);
        } catch (clearError) {
          console.error('[AccessDeniedScreen] Clear error:', clearError);
        }
      }
    }
  };

  const isLoggingIn = loginStatus === 'logging-in';

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/20 p-4">
      {/* Animated Background */}
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-20">
        <div className="absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-primary/30 to-accent/30 rounded-full blur-3xl animate-qi-pulse"></div>
        <div className="absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-br from-accent/30 to-primary/30 rounded-full blur-3xl animate-qi-pulse" style={{ animationDelay: '1s' }}></div>
      </div>

      <Card className="w-full max-w-md relative z-10 border-2 border-primary/20 shadow-2xl">
        <CardHeader className="text-center space-y-4">
          <div className="mx-auto h-20 w-20 rounded-2xl bg-gradient-to-br from-primary via-accent to-primary flex items-center justify-center shadow-lg animate-code-glow">
            <Database className="h-10 w-10 text-primary-foreground" />
          </div>
          <div className="space-y-2">
            <CardTitle className="text-3xl font-bold bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent chinese-optimized">
              LFLCEI 
            </CardTitle>
            <CardDescription className="text-base chinese-optimized">
                  
            </CardDescription>
          </div>
        </CardHeader>
        <CardContent className="space-y-6">
          <div className="p-4 rounded-lg bg-muted/50 border border-border/50 space-y-3">
            <div className="flex items-center gap-3">
              <Shield className="h-5 w-5 text-primary shrink-0" />
              <p className="text-sm font-medium chinese-optimized"></p>
            </div>
            <p className="text-sm text-muted-foreground chinese-optimized">
               Internet Identity 2.0  LFLCEI 
            </p>
          </div>

          {loginError && (
            <div className="p-4 rounded-lg bg-destructive/10 border border-destructive/30 space-y-2">
              <p className="text-sm font-medium text-destructive chinese-optimized"></p>
              <p className="text-xs text-destructive/80 chinese-optimized">{loginError}</p>
            </div>
          )}

          <div className="space-y-3">
            <div className="flex items-center gap-2 text-sm text-muted-foreground chinese-optimized">
              <Lock className="h-4 w-4 shrink-0" />
              <span></span>
            </div>
            <div className="flex items-center gap-2 text-sm text-muted-foreground chinese-optimized">
              <Database className="h-4 w-4 shrink-0" />
              <span></span>
            </div>
            <div className="flex items-center gap-2 text-sm text-muted-foreground chinese-optimized">
              <Shield className="h-4 w-4 shrink-0" />
              <span>GPU   </span>
            </div>
          </div>

          <Button
            onClick={handleLogin}
            disabled={isLoggingIn}
            className="w-full h-12 text-base font-semibold chinese-optimized"
            size="lg"
          >
            {isLoggingIn ? '...' : ' Internet Identity 2.0 '}
          </Button>

          <p className="text-xs text-center text-muted-foreground chinese-optimized">
            
          </p>
        </CardContent>
      </Card>
    </div>
  );
}
PK
frontend/src/components/EnergyTransactionHistory.tsximport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { ScrollArea } from '@/components/ui/scroll-area';
import { ArrowUpCircle, ArrowDownCircle, Clock } from 'lucide-react';
import { useGetCallerEnergyTransactionHistory } from '../hooks/useQueries';

export default function EnergyTransactionHistory() {
  const { data: transactions, isLoading } = useGetCallerEnergyTransactionHistory();

  const getTransactionIcon = (type: string) => {
    if (type.includes('award') || type.includes('reward') || type.includes('completion') || type.includes('interaction')) {
      return <ArrowUpCircle className="h-4 w-4 text-green-500" />;
    }
    return <ArrowDownCircle className="h-4 w-4 text-red-500" />;
  };

  const getTransactionColor = (type: string) => {
    if (type.includes('award') || type.includes('reward') || type.includes('completion') || type.includes('interaction')) {
      return 'text-green-500';
    }
    return 'text-red-500';
  };

  const formatTimestamp = (timestamp: bigint) => {
    const date = new Date(Number(timestamp) / 1000000);
    return date.toLocaleString('zh-TW', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit',
    });
  };

  if (isLoading) {
    return (
      <Card>
        <CardHeader>
          <CardTitle></CardTitle>
          <CardDescription>...</CardDescription>
        </CardHeader>
      </Card>
    );
  }

  return (
    <Card>
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <Clock className="h-5 w-5" />
          
        </CardTitle>
        <CardDescription></CardDescription>
      </CardHeader>
      <CardContent>
        <ScrollArea className="h-[400px] pr-4">
          {!transactions || transactions.length === 0 ? (
            <div className="text-center py-8 text-muted-foreground">
              <p></p>
            </div>
          ) : (
            <div className="space-y-3">
              {transactions.map((transaction, index) => (
                <div
                  key={index}
                  className="flex items-start gap-3 p-3 rounded-lg border border-border/50 hover:border-primary/50 transition-all"
                >
                  <div className="mt-1">{getTransactionIcon(transaction.recordType)}</div>
                  <div className="flex-1 space-y-1">
                    <div className="flex items-center justify-between">
                      <p className="font-medium">{transaction.description}</p>
                      <p className={`font-bold ${getTransactionColor(transaction.recordType)}`}>
                        {transaction.recordType.includes('consumption') || transaction.recordType.includes('deduction') ? '-' : '+'}
                        {Number(transaction.amount).toLocaleString()}
                      </p>
                    </div>
                    <div className="flex items-center gap-2 text-xs text-muted-foreground">
                      <Badge variant="outline" className="text-xs">
                        {transaction.recordType}
                      </Badge>
                      <span>{formatTimestamp(transaction.timestamp)}</span>
                    </div>
                    <p className="text-xs text-muted-foreground">
                      : {Number(transaction.balanceAfter).toLocaleString()}
                    </p>
                  </div>
                </div>
              ))}
            </div>
          )}
        </ScrollArea>
      </CardContent>
    </Card>
  );
}
PK
build-template/src/frontend/src/components/ui/tabs.tsx'use client';

import * as React from 'react';
import * as TabsPrimitive from '@radix-ui/react-tabs';

import { cn } from '@/lib/utils';

function Tabs({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.Root>) {
    return <TabsPrimitive.Root data-slot="tabs" className={cn('flex flex-col gap-2', className)} {...props} />;
}

function TabsList({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.List>) {
    return (
        <TabsPrimitive.List
            data-slot="tabs-list"
            className={cn(
                'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',
                className
            )}
            {...props}
        />
    );
}

function TabsTrigger({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.Trigger>) {
    return (
        <TabsPrimitive.Trigger
            data-slot="tabs-trigger"
            className={cn(
                "data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        />
    );
}

function TabsContent({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.Content>) {
    return (
        <TabsPrimitive.Content data-slot="tabs-content" className={cn('flex-1 outline-none', className)} {...props} />
    );
}

export { Tabs, TabsList, TabsTrigger, TabsContent };
PK
build-template/src/frontend/src/components/ui/sonner.tsx'use client';

import { useTheme } from 'next-themes';
import { Toaster as Sonner, ToasterProps } from 'sonner';

const Toaster = ({ ...props }: ToasterProps) => {
    const { theme = 'system' } = useTheme();

    return (
        <Sonner
            theme={theme as ToasterProps['theme']}
            className="toaster group"
            style={
                {
                    '--normal-bg': 'var(--popover)',
                    '--normal-text': 'var(--popover-foreground)',
                    '--normal-border': 'var(--border)'
                } as React.CSSProperties
            }
            {...props}
        />
    );
};

export { Toaster };
PK
build-template/src/frontend/src/components/ui/dropdown-menu.tsx'use client';

import * as React from 'react';
import * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';
import { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function DropdownMenu({ ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
    return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />;
}

function DropdownMenuPortal({ ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
    return <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />;
}

function DropdownMenuTrigger({ ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
    return <DropdownMenuPrimitive.Trigger data-slot="dropdown-menu-trigger" {...props} />;
}

function DropdownMenuContent({
    className,
    sideOffset = 4,
    ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
    return (
        <DropdownMenuPrimitive.Portal>
            <DropdownMenuPrimitive.Content
                data-slot="dropdown-menu-content"
                sideOffset={sideOffset}
                className={cn(
                    'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',
                    className
                )}
                {...props}
            />
        </DropdownMenuPrimitive.Portal>
    );
}

function DropdownMenuGroup({ ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
    return <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />;
}

function DropdownMenuItem({
    className,
    inset,
    variant = 'default',
    ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean;
    variant?: 'default' | 'destructive';
}) {
    return (
        <DropdownMenuPrimitive.Item
            data-slot="dropdown-menu-item"
            data-inset={inset}
            data-variant={variant}
            className={cn(
                "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        />
    );
}

function DropdownMenuCheckboxItem({
    className,
    children,
    checked,
    ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
    return (
        <DropdownMenuPrimitive.CheckboxItem
            data-slot="dropdown-menu-checkbox-item"
            className={cn(
                "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            checked={checked}
            {...props}
        >
            <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
                <DropdownMenuPrimitive.ItemIndicator>
                    <CheckIcon className="size-4" />
                </DropdownMenuPrimitive.ItemIndicator>
            </span>
            {children}
        </DropdownMenuPrimitive.CheckboxItem>
    );
}

function DropdownMenuRadioGroup({ ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
    return <DropdownMenuPrimitive.RadioGroup data-slot="dropdown-menu-radio-group" {...props} />;
}

function DropdownMenuRadioItem({
    className,
    children,
    ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
    return (
        <DropdownMenuPrimitive.RadioItem
            data-slot="dropdown-menu-radio-item"
            className={cn(
                "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        >
            <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
                <DropdownMenuPrimitive.ItemIndicator>
                    <CircleIcon className="size-2 fill-current" />
                </DropdownMenuPrimitive.ItemIndicator>
            </span>
            {children}
        </DropdownMenuPrimitive.RadioItem>
    );
}

function DropdownMenuLabel({
    className,
    inset,
    ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean;
}) {
    return (
        <DropdownMenuPrimitive.Label
            data-slot="dropdown-menu-label"
            data-inset={inset}
            className={cn('px-2 py-1.5 text-sm font-medium data-[inset]:pl-8', className)}
            {...props}
        />
    );
}

function DropdownMenuSeparator({ className, ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
    return (
        <DropdownMenuPrimitive.Separator
            data-slot="dropdown-menu-separator"
            className={cn('bg-border -mx-1 my-1 h-px', className)}
            {...props}
        />
    );
}

function DropdownMenuShortcut({ className, ...props }: React.ComponentProps<'span'>) {
    return (
        <span
            data-slot="dropdown-menu-shortcut"
            className={cn('text-muted-foreground ml-auto text-xs tracking-widest', className)}
            {...props}
        />
    );
}

function DropdownMenuSub({ ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
    return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />;
}

function DropdownMenuSubTrigger({
    className,
    inset,
    children,
    ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean;
}) {
    return (
        <DropdownMenuPrimitive.SubTrigger
            data-slot="dropdown-menu-sub-trigger"
            data-inset={inset}
            className={cn(
                'focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8',
                className
            )}
            {...props}
        >
            {children}
            <ChevronRightIcon className="ml-auto size-4" />
        </DropdownMenuPrimitive.SubTrigger>
    );
}

function DropdownMenuSubContent({
    className,
    ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
    return (
        <DropdownMenuPrimitive.SubContent
            data-slot="dropdown-menu-sub-content"
            className={cn(
                'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',
                className
            )}
            {...props}
        />
    );
}

export {
    DropdownMenu,
    DropdownMenuPortal,
    DropdownMenuTrigger,
    DropdownMenuContent,
    DropdownMenuGroup,
    DropdownMenuLabel,
    DropdownMenuItem,
    DropdownMenuCheckboxItem,
    DropdownMenuRadioGroup,
    DropdownMenuRadioItem,
    DropdownMenuSeparator,
    DropdownMenuShortcut,
    DropdownMenuSub,
    DropdownMenuSubTrigger,
    DropdownMenuSubContent
};
PK
frontend/src/lib/icpPaymentModule.ts// ICP Payment Module for Game Entry Fees
// Integrates Ledger Canister (ryjl3-tyaaa-aaaaa-aaaba-cai) with LFLC Game Canisters

import { Principal } from '@dfinity/principal';
import { Actor, HttpAgent } from '@dfinity/agent';

// Ledger Canister ID (ICP Ledger)
export const LEDGER_CANISTER_ID = 'ryjl3-tyaaa-aaaaa-aaaba-cai';

// Game Entry Fee (in e8s, 1 ICP = 100_000_000 e8s)
export const GAME_ENTRY_FEE_E8S = 10_000_000n; // 0.1 ICP

export type PaymentStage = 
  | 'idle'
  | 'checking_allowance'
  | 'requesting_approval'
  | 'processing_payment'
  | 'verifying_transaction'
  | 'completed'
  | 'failed';

export interface PaymentStatus {
  stage: PaymentStage;
  message: string;
  transactionId?: string;
  error?: string;
  timestamp: number;
}

export interface PaymentLog {
  timestamp: number;
  level: 'info' | 'warning' | 'error' | 'success';
  message: string;
  details?: any;
}

class ICPPaymentModule {
  private logs: PaymentLog[] = [];
  private maxLogs = 100;

  // Add log entry
  private addLog(level: PaymentLog['level'], message: string, details?: any) {
    const log: PaymentLog = {
      timestamp: Date.now(),
      level,
      message,
      details,
    };
    this.logs.unshift(log);
    if (this.logs.length > this.maxLogs) {
      this.logs = this.logs.slice(0, this.maxLogs);
    }
    
    // Console output
    const prefix = `[ICP Payment ${new Date().toISOString()}]`;
    switch (level) {
      case 'info':
        console.log(prefix, message, details || '');
        break;
      case 'warning':
        console.warn(prefix, message, details || '');
        break;
      case 'error':
        console.error(prefix, message, details || '');
        break;
      case 'success':
        console.log(`%c${prefix} ${message}`, 'color: green; font-weight: bold', details || '');
        break;
    }
  }

  // Get all logs
  getLogs(): PaymentLog[] {
    return [...this.logs];
  }

  // Clear logs
  clearLogs() {
    this.logs = [];
    this.addLog('info', 'Logs cleared');
  }

  // Check allowance for game canister
  async checkAllowance(
    userPrincipal: Principal,
    gameCanisterId: string,
    onStatusUpdate: (status: PaymentStatus) => void
  ): Promise<bigint> {
    this.addLog('info', 'Checking allowance...', { userPrincipal: userPrincipal.toString(), gameCanisterId });
    
    onStatusUpdate({
      stage: 'checking_allowance',
      message: '...',
      timestamp: Date.now(),
    });

    try {
      // Simulate allowance check (in production, call actual Ledger canister)
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      // For demo purposes, return 0 to trigger approval flow
      const allowance = 0n;
      
      this.addLog('success', 'Allowance check completed', { allowance: allowance.toString() });
      return allowance;
    } catch (error) {
      this.addLog('error', 'Failed to check allowance', error);
      throw error;
    }
  }

  // Request approval for game canister
  async requestApproval(
    userPrincipal: Principal,
    gameCanisterId: string,
    amount: bigint,
    onStatusUpdate: (status: PaymentStatus) => void
  ): Promise<boolean> {
    this.addLog('info', 'Requesting approval...', { 
      userPrincipal: userPrincipal.toString(), 
      gameCanisterId,
      amount: amount.toString()
    });
    
    onStatusUpdate({
      stage: 'requesting_approval',
      message: '...',
      timestamp: Date.now(),
    });

    try {
      // Simulate approval request (in production, call actual Ledger canister)
      await new Promise(resolve => setTimeout(resolve, 2000));
      
      this.addLog('success', 'Approval granted', { amount: amount.toString() });
      return true;
    } catch (error) {
      this.addLog('error', 'Failed to request approval', error);
      throw error;
    }
  }

  // Process payment for game entry
  async processPayment(
    userPrincipal: Principal,
    gameCanisterId: string,
    amount: bigint,
    onStatusUpdate: (status: PaymentStatus) => void
  ): Promise<string> {
    this.addLog('info', 'Processing payment...', { 
      userPrincipal: userPrincipal.toString(), 
      gameCanisterId,
      amount: amount.toString()
    });
    
    onStatusUpdate({
      stage: 'processing_payment',
      message: '...',
      timestamp: Date.now(),
    });

    try {
      // Simulate payment processing (in production, call actual Ledger canister transfer)
      await new Promise(resolve => setTimeout(resolve, 2000));
      
      // Generate mock transaction ID
      const transactionId = `txn_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
      
      this.addLog('success', 'Payment processed successfully', { transactionId });
      
      onStatusUpdate({
        stage: 'verifying_transaction',
        message: '...',
        transactionId,
        timestamp: Date.now(),
      });
      
      // Simulate verification
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      this.addLog('success', 'Transaction verified', { transactionId });
      
      return transactionId;
    } catch (error) {
      this.addLog('error', 'Failed to process payment', error);
      throw error;
    }
  }

  // Complete payment flow for game start
  async handleGameStart(
    userPrincipal: Principal,
    gameCanisterId: string,
    gameName: string,
    onStatusUpdate: (status: PaymentStatus) => void
  ): Promise<{ success: boolean; transactionId?: string; error?: string }> {
    this.addLog('info', `Starting payment flow for ${gameName}`, { 
      userPrincipal: userPrincipal.toString(), 
      gameCanisterId 
    });

    try {
      // Step 1: Check allowance
      const allowance = await this.checkAllowance(userPrincipal, gameCanisterId, onStatusUpdate);
      
      // Step 2: Request approval if needed
      if (allowance < GAME_ENTRY_FEE_E8S) {
        this.addLog('warning', 'Insufficient allowance, requesting approval', {
          current: allowance.toString(),
          required: GAME_ENTRY_FEE_E8S.toString()
        });
        
        const approved = await this.requestApproval(
          userPrincipal,
          gameCanisterId,
          GAME_ENTRY_FEE_E8S,
          onStatusUpdate
        );
        
        if (!approved) {
          throw new Error('Approval denied by user');
        }
      } else {
        this.addLog('info', 'Sufficient allowance available', { allowance: allowance.toString() });
      }
      
      // Step 3: Process payment
      const transactionId = await this.processPayment(
        userPrincipal,
        gameCanisterId,
        GAME_ENTRY_FEE_E8S,
        onStatusUpdate
      );
      
      // Step 4: Complete
      onStatusUpdate({
        stage: 'completed',
        message: '...',
        transactionId,
        timestamp: Date.now(),
      });
      
      this.addLog('success', `Payment flow completed for ${gameName}`, { transactionId });
      
      return { success: true, transactionId };
    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : 'Unknown error';
      
      this.addLog('error', `Payment flow failed for ${gameName}`, { error: errorMessage });
      
      onStatusUpdate({
        stage: 'failed',
        message: '',
        error: errorMessage,
        timestamp: Date.now(),
      });
      
      return { success: false, error: errorMessage };
    }
  }
}

export const icpPaymentModule = new ICPPaymentModule();
PK
build-template/src/frontend/src/components/ui/table.tsx'use client';

import * as React from 'react';

import { cn } from '@/lib/utils';

function Table({ className, ...props }: React.ComponentProps<'table'>) {
    return (
        <div data-slot="table-container" className="relative w-full overflow-x-auto">
            <table data-slot="table" className={cn('w-full caption-bottom text-sm', className)} {...props} />
        </div>
    );
}

function TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {
    return <thead data-slot="table-header" className={cn('[&_tr]:border-b', className)} {...props} />;
}

function TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {
    return <tbody data-slot="table-body" className={cn('[&_tr:last-child]:border-0', className)} {...props} />;
}

function TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {
    return (
        <tfoot
            data-slot="table-footer"
            className={cn('bg-muted/50 border-t font-medium [&>tr]:last:border-b-0', className)}
            {...props}
        />
    );
}

function TableRow({ className, ...props }: React.ComponentProps<'tr'>) {
    return (
        <tr
            data-slot="table-row"
            className={cn('hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors', className)}
            {...props}
        />
    );
}

function TableHead({ className, ...props }: React.ComponentProps<'th'>) {
    return (
        <th
            data-slot="table-head"
            className={cn(
                'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',
                className
            )}
            {...props}
        />
    );
}

function TableCell({ className, ...props }: React.ComponentProps<'td'>) {
    return (
        <td
            data-slot="table-cell"
            className={cn(
                'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',
                className
            )}
            {...props}
        />
    );
}

function TableCaption({ className, ...props }: React.ComponentProps<'caption'>) {
    return (
        <caption data-slot="table-caption" className={cn('text-muted-foreground mt-4 text-sm', className)} {...props} />
    );
}

export { Table, TableHeader, TableBody, TableFooter, TableHead, TableRow, TableCell, TableCaption };
PK
frontend/src/App.tsximport { RouterProvider, createRouter, createRoute, createRootRoute } from '@tanstack/react-router';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { Toaster } from '@/components/ui/sonner';
import { ThemeProvider } from 'next-themes';
import { useInternetIdentity } from './hooks/useInternetIdentity';
import { useGetCallerUserProfile, useGetCallerUserRole } from './hooks/useQueries';
import Header from './components/Header';
import Footer from './components/Footer';
import ProfileSetupModal from './components/ProfileSetupModal';
import AccessDeniedScreen from './components/AccessDeniedScreen';
import UnifiedDashboardPage from './pages/UnifiedDashboardPage';
import IntegrationDashboardPage from './pages/IntegrationDashboardPage';
import SubscriptionDashboardPage from './pages/SubscriptionDashboardPage';
import EnergyCoinPage from './pages/EnergyCoinPage';
import WuDaoPage from './pages/WuDaoPage';
import MartialQiPage from './pages/MartialQiPage';
import WuDianPage from './pages/WuDianPage';
import LuckyDrawPage from './pages/LuckyDrawPage';
import ClickerGamePage from './pages/ClickerGamePage';
import ModuleConnectionPage from './pages/ModuleConnectionPage';
import { unifiedArchitecture } from './lib/unifiedArchitecture';
import { lflcModuleConnector } from './lib/lflcModuleConnector';
import { useEffect, useState, Suspense } from 'react';

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5,
      refetchOnWindowFocus: false,
      retry: 1,
    },
  },
});

const rootRoute = createRootRoute({
  component: RootLayout,
});

function LoadingSpinner({ message }: { message: string }) {
  return (
    <div className="flex items-center justify-center min-h-screen bg-gradient-to-br from-background via-background to-muted/20">
      <div className="text-center space-y-4">
        <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"></div>
        <p className="text-muted-foreground chinese-optimized">{message}</p>
      </div>
    </div>
  );
}

function RootLayout() {
  const { identity, isInitializing, clear } = useInternetIdentity();
  const isAuthenticated = !!identity;
  const [showProfileSetup, setShowProfileSetup] = useState(false);
  const [modulesInitialized, setModulesInitialized] = useState(false);
  const [initError, setInitError] = useState<string | null>(null);

  const {
    data: userProfile,
    isLoading: profileLoading,
    isFetched: profileFetched,
    error: profileError,
  } = useGetCallerUserProfile();

  const {
    data: userRole,
    isLoading: roleLoading,
    isFetched: roleFetched,
    error: roleError,
  } = useGetCallerUserRole();

  // Sequential module initialization after successful login with defensive error handling
  useEffect(() => {
    if (isAuthenticated && !modulesInitialized && !initError) {
      const initializeModules = async () => {
        try {
          console.log('[App] Starting module initialization...');
          
          // Step 1: Initialize unified architecture with null checks
          if (unifiedArchitecture && typeof unifiedArchitecture.enableAutoSync === 'function') {
            unifiedArchitecture.enableAutoSync();
            await new Promise(resolve => setTimeout(resolve, 100));
          }
          
          // Step 2: Enable GPU acceleration with null checks
          if (unifiedArchitecture && typeof unifiedArchitecture.enableGPUAcceleration === 'function') {
            unifiedArchitecture.enableGPUAcceleration();
            await new Promise(resolve => setTimeout(resolve, 100));
          }
          
          // Step 3: Start visual rendering with null checks
          if (unifiedArchitecture && typeof unifiedArchitecture.startVisualRendering === 'function') {
            unifiedArchitecture.startVisualRendering();
            await new Promise(resolve => setTimeout(resolve, 100));
          }
          
          // Step 4: Start module connector with null checks
          if (lflcModuleConnector && typeof lflcModuleConnector.startAutoSync === 'function') {
            lflcModuleConnector.startAutoSync();
          }
          
          setModulesInitialized(true);
          console.log('[App] Module initialization completed successfully');
        } catch (error) {
          console.error('[App] Module initialization error:', error);
          setInitError(error instanceof Error ? error.message : 'Unknown initialization error');
        }
      };

      initializeModules();
    }

    return () => {
      if (!isAuthenticated && modulesInitialized) {
        try {
          if (unifiedArchitecture && typeof unifiedArchitecture.destroy === 'function') {
            unifiedArchitecture.destroy();
          }
          if (lflcModuleConnector && typeof lflcModuleConnector.stopAutoSync === 'function') {
            lflcModuleConnector.stopAutoSync();
          }
          setModulesInitialized(false);
          setInitError(null);
        } catch (error) {
          console.error('[App] Cleanup error:', error);
        }
      }
    };
  }, [isAuthenticated, modulesInitialized, initError]);

  // Clear all cached data on logout
  useEffect(() => {
    if (!isAuthenticated) {
      queryClient.clear();
      setModulesInitialized(false);
      setInitError(null);
    }
  }, [isAuthenticated]);

  // Show profile setup modal when authenticated but no profile exists with defensive checks
  useEffect(() => {
    if (
      isAuthenticated && 
      !profileLoading && 
      profileFetched && 
      userProfile === null &&
      !profileError
    ) {
      setShowProfileSetup(true);
    } else {
      setShowProfileSetup(false);
    }
  }, [isAuthenticated, profileLoading, profileFetched, userProfile, profileError]);

  // Handle initialization state
  if (isInitializing) {
    return <LoadingSpinner message=" LFLCEI ..." />;
  }

  // Handle authentication
  if (!isAuthenticated) {
    return <AccessDeniedScreen />;
  }

  // Handle initialization error
  if (initError) {
    return (
      <div className="flex items-center justify-center min-h-screen">
        <div className="text-center space-y-4 max-w-md p-6">
          <div className="text-destructive text-4xl"></div>
          <h2 className="text-xl font-bold chinese-optimized"></h2>
          <p className="text-muted-foreground chinese-optimized">{initError}</p>
          <button
            onClick={() => {
              setInitError(null);
              setModulesInitialized(false);
            }}
            className="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90"
          >
            
          </button>
        </div>
      </div>
    );
  }

  // Show loading state while modules are initializing
  if (!modulesInitialized) {
    return <LoadingSpinner message="..." />;
  }

  return (
    <div className="min-h-screen flex flex-col">
      <Header />
      <main className="flex-1">
        <Suspense fallback={<LoadingSpinner message="..." />}>
          <RouterProvider router={router} />
        </Suspense>
      </main>
      <Footer />
      {showProfileSetup && <ProfileSetupModal onClose={() => setShowProfileSetup(false)} />}
    </div>
  );
}

const indexRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/',
  component: UnifiedDashboardPage,
});

const integrationDashboardRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/integration-dashboard',
  component: IntegrationDashboardPage,
});

const subscriptionRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/subscription',
  component: SubscriptionDashboardPage,
});

const energyCoinRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/energy-coin',
  component: EnergyCoinPage,
});

const wuDaoRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/wu-dao',
  component: WuDaoPage,
});

const martialQiRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/martial-qi',
  component: MartialQiPage,
});

const wuDianRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/wu-dian',
  component: WuDianPage,
});

const luckyDrawRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/lucky-draw',
  component: LuckyDrawPage,
});

const clickerGameRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/clicker-game',
  component: ClickerGamePage,
});

const moduleConnectionRoute = createRoute({
  getParentRoute: () => rootRoute,
  path: '/module-connection',
  component: ModuleConnectionPage,
});

const routeTree = rootRoute.addChildren([
  indexRoute,
  integrationDashboardRoute,
  subscriptionRoute,
  energyCoinRoute,
  wuDaoRoute,
  martialQiRoute,
  wuDianRoute,
  luckyDrawRoute,
  clickerGameRoute,
  moduleConnectionRoute,
]);

const router = createRouter({ routeTree });

declare module '@tanstack/react-router' {
  interface Register {
    router: typeof router;
  }
}

function App() {
  return (
    <ThemeProvider attribute="class" defaultTheme="system" enableSystem>
      <QueryClientProvider client={queryClient}>
        <RootLayout />
        <Toaster />
      </QueryClientProvider>
    </ThemeProvider>
  );
}

export default App;
PK
build-template/src/frontend/src/components/ui/select.tsx'use client';

import * as React from 'react';
import * as SelectPrimitive from '@radix-ui/react-select';
import { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function Select({ ...props }: React.ComponentProps<typeof SelectPrimitive.Root>) {
    return <SelectPrimitive.Root data-slot="select" {...props} />;
}

function SelectGroup({ ...props }: React.ComponentProps<typeof SelectPrimitive.Group>) {
    return <SelectPrimitive.Group data-slot="select-group" {...props} />;
}

function SelectValue({ ...props }: React.ComponentProps<typeof SelectPrimitive.Value>) {
    return <SelectPrimitive.Value data-slot="select-value" {...props} />;
}

function SelectTrigger({
    className,
    size = 'default',
    children,
    ...props
}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {
    size?: 'sm' | 'default';
}) {
    return (
        <SelectPrimitive.Trigger
            data-slot="select-trigger"
            data-size={size}
            className={cn(
                "border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
                className
            )}
            {...props}
        >
            {children}
            <SelectPrimitive.Icon asChild>
                <ChevronDownIcon className="size-4 opacity-50" />
            </SelectPrimitive.Icon>
        </SelectPrimitive.Trigger>
    );
}

function SelectContent({
    className,
    children,
    position = 'popper',
    ...props
}: React.ComponentProps<typeof SelectPrimitive.Content>) {
    return (
        <SelectPrimitive.Portal>
            <SelectPrimitive.Content
                data-slot="select-content"
                className={cn(
                    'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',
                    position === 'popper' &&
                        'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',
                    className
                )}
                position={position}
                {...props}
            >
                <SelectScrollUpButton />
                <SelectPrimitive.Viewport
                    className={cn(
                        'p-1',
                        position === 'popper' &&
                            'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1'
                    )}
                >
                    {children}
                </SelectPrimitive.Viewport>
                <SelectScrollDownButton />
            </SelectPrimitive.Content>
        </SelectPrimitive.Portal>
    );
}

function SelectLabel({ className, ...props }: React.ComponentProps<typeof SelectPrimitive.Label>) {
    return (
        <SelectPrimitive.Label
            data-slot="select-label"
            className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}
            {...props}
        />
    );
}

function SelectItem({ className, children, ...props }: React.ComponentProps<typeof SelectPrimitive.Item>) {
    return (
        <SelectPrimitive.Item
            data-slot="select-item"
            className={cn(
                "focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",
                className
            )}
            {...props}
        >
            <span className="absolute right-2 flex size-3.5 items-center justify-center">
                <SelectPrimitive.ItemIndicator>
                    <CheckIcon className="size-4" />
                </SelectPrimitive.ItemIndicator>
            </span>
            <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
        </SelectPrimitive.Item>
    );
}

function SelectSeparator({ className, ...props }: React.ComponentProps<typeof SelectPrimitive.Separator>) {
    return (
        <SelectPrimitive.Separator
            data-slot="select-separator"
            className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}
            {...props}
        />
    );
}

function SelectScrollUpButton({ className, ...props }: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {
    return (
        <SelectPrimitive.ScrollUpButton
            data-slot="select-scroll-up-button"
            className={cn('flex cursor-default items-center justify-center py-1', className)}
            {...props}
        >
            <ChevronUpIcon className="size-4" />
        </SelectPrimitive.ScrollUpButton>
    );
}

function SelectScrollDownButton({
    className,
    ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {
    return (
        <SelectPrimitive.ScrollDownButton
            data-slot="select-scroll-down-button"
            className={cn('flex cursor-default items-center justify-center py-1', className)}
            {...props}
        >
            <ChevronDownIcon className="size-4" />
        </SelectPrimitive.ScrollDownButton>
    );
}

export {
    Select,
    SelectContent,
    SelectGroup,
    SelectItem,
    SelectLabel,
    SelectScrollDownButton,
    SelectScrollUpButton,
    SelectSeparator,
    SelectTrigger,
    SelectValue
};
PK
build-template/src/frontend/src/components/ui/separator.tsx'use client';

import * as React from 'react';
import * as SeparatorPrimitive from '@radix-ui/react-separator';

import { cn } from '@/lib/utils';

function Separator({
    className,
    orientation = 'horizontal',
    decorative = true,
    ...props
}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {
    return (
        <SeparatorPrimitive.Root
            data-slot="separator"
            decorative={decorative}
            orientation={orientation}
            className={cn(
                'bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px',
                className
            )}
            {...props}
        />
    );
}

export { Separator };
PK
frontend/src/components/EnergyParticleFlow.tsximport { useEffect, useRef, useState } from 'react';

interface Particle {
  x: number;
  y: number;
  vx: number;
  vy: number;
  life: number;
  maxLife: number;
  color: string;
  size: number;
  opacity: number;
}

interface EnergyParticleFlowProps {
  isActive?: boolean;
  intensity?: number;
}

export default function EnergyParticleFlow({ isActive = true, intensity = 1 }: EnergyParticleFlowProps) {
  const canvasRef = useRef<HTMLCanvasElement>(null);
  const particlesRef = useRef<Particle[]>([]);
  const animationFrameRef = useRef<number | undefined>(undefined);
  const lastFrameTimeRef = useRef<number>(0);
  const [deviceTier, setDeviceTier] = useState<'high' | 'medium' | 'low'>('high');

  const colors = [
    'oklch(0.65 0.26 25)',    // Red
    'oklch(0.70 0.24 40)',    // Orange
    'oklch(0.75 0.22 60)',    // Yellow
    'oklch(0.75 0.22 120)',   // Green
    'oklch(0.70 0.26 200)',   // Blue
    'oklch(0.75 0.24 280)',   // Purple
    'oklch(0.65 0.26 320)',   // Magenta
  ];

  useEffect(() => {
    // Detect device capabilities
    const cores = navigator.hardwareConcurrency || 4;
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (isMobile || cores < 4) {
      setDeviceTier('low');
    } else if (cores < 8) {
      setDeviceTier('medium');
    } else {
      setDeviceTier('high');
    }
  }, []);

  useEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;

    const ctx = canvas.getContext('2d', { alpha: true, desynchronized: true });
    if (!ctx) return;

    const resizeCanvas = () => {
      const dpr = Math.min(window.devicePixelRatio || 1, 2);
      canvas.width = canvas.offsetWidth * dpr;
      canvas.height = canvas.offsetHeight * dpr;
      ctx.scale(dpr, dpr);
    };

    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    const maxParticles = deviceTier === 'high' ? 50 : deviceTier === 'medium' ? 35 : 25;
    const targetFPS = deviceTier === 'high' ? 60 : deviceTier === 'medium' ? 45 : 30;
    const frameInterval = 1000 / targetFPS;

    const createParticle = (): Particle => {
      const angle = Math.random() * Math.PI * 2;
      const speed = (0.4 + Math.random() * 1.2) * (deviceTier === 'low' ? 0.8 : 1);
      const maxLife = 1.0;
      
      return {
        x: canvas.offsetWidth / 2,
        y: canvas.offsetHeight / 2,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed,
        life: maxLife,
        maxLife: maxLife,
        color: colors[Math.floor(Math.random() * colors.length)],
        size: (1.8 + Math.random() * 2.8) * (deviceTier === 'low' ? 0.8 : 1),
        opacity: 1,
      };
    };

    const updateParticles = (deltaTime: number) => {
      if (!isActive) return;

      const adjustedIntensity = intensity * (deviceTier === 'low' ? 0.7 : 1);
      const emissionChance = 0.25 * adjustedIntensity;

      // Add new particles with frame-rate independent logic
      if (particlesRef.current.length < maxParticles * adjustedIntensity && Math.random() < emissionChance) {
        particlesRef.current.push(createParticle());
      }

      // Update existing particles with frame-rate independent movement
      const lifeDelta = 0.008 * (deltaTime / 16.67);
      particlesRef.current = particlesRef.current.filter(particle => {
        particle.x += particle.vx * (deltaTime / 16.67);
        particle.y += particle.vy * (deltaTime / 16.67);
        particle.life -= lifeDelta;
        particle.opacity = Math.max(0, particle.life / particle.maxLife);
        return particle.life > 0;
      });
    };

    const render = () => {
      ctx.clearRect(0, 0, canvas.offsetWidth, canvas.offsetHeight);

      particlesRef.current.forEach(particle => {
        ctx.save();
        ctx.globalAlpha = particle.opacity * 0.88;
        ctx.fillStyle = particle.color;
        
        // Optimized shadow for better performance
        if (deviceTier !== 'low') {
          ctx.shadowBlur = 8;
          ctx.shadowColor = particle.color;
        }
        
        ctx.beginPath();
        ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
      });
    };

    const animate = (timestamp: number) => {
      if (!isActive) {
        animationFrameRef.current = requestAnimationFrame(animate);
        return;
      }

      const deltaTime = timestamp - lastFrameTimeRef.current;

      // Frame rate limiting for consistent performance
      if (deltaTime >= frameInterval) {
        updateParticles(deltaTime);
        render();
        lastFrameTimeRef.current = timestamp - (deltaTime % frameInterval);
      }

      animationFrameRef.current = requestAnimationFrame(animate);
    };

    lastFrameTimeRef.current = performance.now();
    animationFrameRef.current = requestAnimationFrame(animate);

    return () => {
      window.removeEventListener('resize', resizeCanvas);
      if (animationFrameRef.current !== undefined) {
        cancelAnimationFrame(animationFrameRef.current);
      }
    };
  }, [isActive, intensity, deviceTier]);

  return (
    <canvas
      ref={canvasRef}
      className="absolute inset-0 w-full h-full pointer-events-none no-flicker"
      style={{ opacity: 0.65 }}
    />
  );
}

PK
frontend/src/pages/PK
frontend/src/pages/ArtifactCultivationPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Sword, Flame, Shield, Zap } from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

export default function ArtifactCultivationPage() {
  const [moduleState, setModuleState] = useState(unifiedArchitecture.getModuleState('artifact-cultivation'));
  const [artifactLevel, setArtifactLevel] = useState(35);
  const [refinementProgress, setRefinementProgress] = useState(62);

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const state = unifiedArchitecture.getModuleState('artifact-cultivation');
      setModuleState(state);
      
      setArtifactLevel(prev => Math.min(100, prev + Math.random() * 0.4));
      setRefinementProgress(prev => Math.min(100, Math.max(0, prev + Math.random() * 2 - 1)));
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  const artifactTypes = [
    { name: '', icon: Sword, level: 42, color: 'text-blue-500' },
    { name: '/', icon: Flame, level: 28, color: 'text-red-500' },
    { name: '/', icon: Shield, level: 35, color: 'text-purple-500' },
    { name: '/', icon: Zap, level: 18, color: 'text-amber-500' },
  ];

  return (
    <div className="container px-4 py-8 md:px-8 relative">
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
      </div>

      <div className="relative z-10 space-y-8">
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <Sword className="h-8 w-8 text-white" />
            </div>
            <div>
              <h1 className="text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-500 to-blue-600 bg-clip-text text-transparent">
                
              </h1>
              <p className="text-muted-foreground">  </p>
            </div>
          </div>

          {moduleState && (
            <div className="flex items-center gap-3">
              <Badge variant={moduleState.isActive ? "default" : "secondary"} className="gap-2">
                <div className={`h-2 w-2 rounded-full ${moduleState.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'}`}></div>
                {moduleState.isActive ? '' : ''}
              </Badge>
              <Badge variant="outline">: {Math.round(moduleState.healthScore * 100)}%</Badge>
              <Badge variant="outline">: {Math.round(moduleState.syncQuality * 100)}%</Badge>
            </div>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Sword className="h-4 w-4 text-blue-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(artifactLevel)}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={artifactLevel} className="mt-2 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Flame className="h-4 w-4 text-red-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(refinementProgress)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={refinementProgress} className="mt-2 h-2" />
            </CardContent>
          </Card>
        </div>

        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription>  /  /  /</CardDescription>
          </CardHeader>
          <CardContent>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              {artifactTypes.map((type) => {
                const Icon = type.icon;
                return (
                  <div key={type.name} className="p-4 rounded-lg border border-border/50 hover:border-primary/50 transition-all space-y-3">
                    <div className="flex items-center justify-between">
                      <div className="flex items-center gap-2">
                        <Icon className={`h-5 w-5 ${type.color}`} />
                        <span className="font-semibold">{type.name}</span>
                      </div>
                      <Badge variant="outline">Lv.{type.level}</Badge>
                    </div>
                    <Progress value={(type.level / 100) * 100} className="h-2" />
                  </div>
                );
              })}
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="space-y-4">
              {moduleState?.dependencies.map((depId) => (
                <div key={depId} className="flex items-center justify-between p-3 rounded-lg border border-border/50">
                  <div className="flex items-center gap-3">
                    <div className="h-2 w-2 rounded-full bg-green-500 animate-qi-pulse"></div>
                    <span className="font-medium">{depId}</span>
                  </div>
                  <Badge variant="outline"></Badge>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
build-template/src/frontend/src/components/ui/tooltip.tsx'use client';

import * as React from 'react';
import * as TooltipPrimitive from '@radix-ui/react-tooltip';

import { cn } from '@/lib/utils';

function TooltipProvider({ delayDuration = 0, ...props }: React.ComponentProps<typeof TooltipPrimitive.Provider>) {
    return <TooltipPrimitive.Provider data-slot="tooltip-provider" delayDuration={delayDuration} {...props} />;
}

function Tooltip({ ...props }: React.ComponentProps<typeof TooltipPrimitive.Root>) {
    return (
        <TooltipProvider>
            <TooltipPrimitive.Root data-slot="tooltip" {...props} />
        </TooltipProvider>
    );
}

function TooltipTrigger({ ...props }: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {
    return <TooltipPrimitive.Trigger data-slot="tooltip-trigger" {...props} />;
}

function TooltipContent({
    className,
    sideOffset = 0,
    children,
    ...props
}: React.ComponentProps<typeof TooltipPrimitive.Content>) {
    return (
        <TooltipPrimitive.Portal>
            <TooltipPrimitive.Content
                data-slot="tooltip-content"
                sideOffset={sideOffset}
                className={cn(
                    'bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance',
                    className
                )}
                {...props}
            >
                {children}
                <TooltipPrimitive.Arrow className="bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]" />
            </TooltipPrimitive.Content>
        </TooltipPrimitive.Portal>
    );
}

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };
PK
frontend/src/lib/externalEnergyConnector.ts/**
 * External LFLC Energy System Connector
 * Connects to https://lflcei-engergy-gkn.caffeine.xyz for live energy data
 * Implements retry logic, timeout handling, exponential backoff, and cache fallback
 * Enhanced with defensive null handling and safe fallback mechanisms
 */

export interface ExternalEnergyData {
  balance: number;
  rate: number;
  totalFlux: number;
  timestamp: number;
  status: 'success' | 'error' | 'timeout' | 'cached';
}

export class ExternalEnergyConnector {
  private static readonly ENERGY_ENDPOINT = 'https://lflcei-engergy-gkn.caffeine.xyz';
  private static readonly MAX_RETRIES = 3;
  private static readonly INITIAL_DELAY = 500;
  private static readonly TIMEOUT_MS = 5000;
  private static lastSuccessfulData: ExternalEnergyData | null = null;
  private static consecutiveErrors: number = 0;
  private static isConnecting: boolean = false;

  /**
   * Fetches live energy data from external LFLC Energy Module with safe fallback
   * @param retryCount Current retry attempt
   * @returns Promise with energy data
   */
  static async getEnergyData(retryCount: number = 0): Promise<ExternalEnergyData> {
    // Prevent concurrent connection attempts
    if (this.isConnecting && retryCount === 0) {
      console.log('[ExternalEnergyConnector] Connection already in progress, returning cached data');
      return this.getSafeFallbackData();
    }

    this.isConnecting = true;

    try {
      console.log(`[ExternalEnergyConnector] Fetching energy data (attempt ${retryCount + 1}/${this.MAX_RETRIES})`);

      // Create abort controller for timeout
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), this.TIMEOUT_MS);

      try {
        // Make API call to external energy backend
        const response = await fetch(`${this.ENERGY_ENDPOINT}/getEnergyData`, {
          method: 'GET',
          headers: {
            'Content-Type': 'application/json',
          },
          signal: controller.signal,
        });

        clearTimeout(timeoutId);

        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }

        const data = await response.json();
        
        // Validate response data
        if (!data || typeof data !== 'object') {
          throw new Error('Invalid response format');
        }

        const energyData: ExternalEnergyData = {
          balance: typeof data.balance === 'number' ? data.balance : 0,
          rate: typeof data.rate === 'number' ? data.rate : 0,
          totalFlux: typeof data.totalFlux === 'number' ? data.totalFlux : 0,
          timestamp: Date.now(),
          status: 'success',
        };
        
        console.log(`[ExternalEnergyConnector] Successfully fetched energy data:`, energyData);
        
        // Update last successful data and reset error counter
        this.lastSuccessfulData = energyData;
        this.consecutiveErrors = 0;
        this.isConnecting = false;
        
        return energyData;

      } catch (fetchError) {
        clearTimeout(timeoutId);
        
        // Check if it's a timeout error
        if (fetchError instanceof Error && fetchError.name === 'AbortError') {
          throw new Error('Request timeout');
        }
        throw fetchError;
      }

    } catch (error) {
      this.consecutiveErrors++;
      console.error(`[ExternalEnergyConnector] Error on attempt ${retryCount + 1}:`, error);

      // Retry logic with exponential backoff
      if (retryCount < this.MAX_RETRIES - 1) {
        const delay = this.INITIAL_DELAY * Math.pow(2, retryCount);
        console.log(`[ExternalEnergyConnector] Retrying in ${delay}ms...`);
        
        await new Promise(resolve => setTimeout(resolve, delay));
        return this.getEnergyData(retryCount + 1);
      }

      // All retries exhausted
      const errorMessage = error instanceof Error ? error.message : 'Unknown error';
      console.error(`[ExternalEnergyConnector] All retry attempts exhausted. Final error:`, errorMessage);
      
      this.isConnecting = false;
      return this.getSafeFallbackData(errorMessage);
    }
  }

  /**
   * Get safe fallback data with proper error status
   */
  private static getSafeFallbackData(errorMessage?: string): ExternalEnergyData {
    if (this.lastSuccessfulData) {
      console.log('[ExternalEnergyConnector] Returning cached data');
      return {
        ...this.lastSuccessfulData,
        status: 'cached',
      };
    }

    return {
      balance: 0,
      rate: 0,
      totalFlux: 0,
      timestamp: Date.now(),
      status: errorMessage?.includes('timeout') ? 'timeout' : 'error',
    };
  }

  /**
   * Test connection to external energy backend with safe error handling
   */
  static async testConnection(): Promise<boolean> {
    try {
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), 3000);

      const response = await fetch(`${this.ENERGY_ENDPOINT}/health`, {
        method: 'GET',
        signal: controller.signal,
      });
      
      clearTimeout(timeoutId);
      return response.ok;
    } catch (error) {
      console.error('[ExternalEnergyConnector] Connection test failed:', error);
      return false;
    }
  }

  /**
   * Get the last successful energy data (for fallback display)
   */
  static getLastSuccessfulData(): ExternalEnergyData | null {
    return this.lastSuccessfulData ? { ...this.lastSuccessfulData } : null;
  }

  /**
   * Get consecutive error count
   */
  static getConsecutiveErrors(): number {
    return this.consecutiveErrors;
  }

  /**
   * Reset error counter
   */
  static resetErrorCounter(): void {
    this.consecutiveErrors = 0;
  }

  /**
   * Check if currently connecting
   */
  static isCurrentlyConnecting(): boolean {
    return this.isConnecting;
  }
}
PK
frontend/src/components/PaymentProgressTracker.tsximport { useEffect, useState } from 'react';
import { Progress } from '@/components/ui/progress';
import { Badge } from '@/components/ui/badge';
import { CheckCircle2, Loader2, AlertCircle, Zap } from 'lucide-react';
import type { PaymentStage } from '../lib/icpPaymentModule';

interface PaymentProgressTrackerProps {
  stage: PaymentStage;
  message: string;
  transactionId?: string;
  error?: string;
}

const stageProgress: Record<PaymentStage, number> = {
  idle: 0,
  checking_allowance: 20,
  requesting_approval: 40,
  processing_payment: 60,
  verifying_transaction: 80,
  completed: 100,
  failed: 0,
};

const stageLabels: Record<PaymentStage, string> = {
  idle: '',
  checking_allowance: '',
  requesting_approval: '',
  processing_payment: '',
  verifying_transaction: '',
  completed: '',
  failed: '',
};

export default function PaymentProgressTracker({
  stage,
  message,
  transactionId,
  error,
}: PaymentProgressTrackerProps) {
  const [progress, setProgress] = useState(0);

  useEffect(() => {
    const targetProgress = stageProgress[stage];
    const interval = setInterval(() => {
      setProgress(prev => {
        if (prev < targetProgress) {
          return Math.min(prev + 2, targetProgress);
        }
        return prev;
      });
    }, 50);

    return () => clearInterval(interval);
  }, [stage]);

  const getStageIcon = () => {
    if (stage === 'completed') {
      return <CheckCircle2 className="h-5 w-5 text-green-500 animate-qi-pulse" />;
    }
    if (stage === 'failed') {
      return <AlertCircle className="h-5 w-5 text-destructive" />;
    }
    return <Loader2 className="h-5 w-5 text-primary animate-spin" />;
  };

  const getStageColor = () => {
    if (stage === 'completed') return 'bg-green-500';
    if (stage === 'failed') return 'bg-destructive';
    return 'bg-primary';
  };

  return (
    <div className="space-y-4">
      {/* Progress Bar */}
      <div className="space-y-2">
        <div className="flex items-center justify-between text-sm">
          <div className="flex items-center gap-2">
            {getStageIcon()}
            <span className="font-medium">{stageLabels[stage]}</span>
          </div>
          <span className="text-muted-foreground">{progress}%</span>
        </div>
        <Progress value={progress} className="h-2" />
      </div>

      {/* Status Message */}
      <div className="p-3 rounded-lg bg-muted/50 border border-border/50">
        <p className="text-sm font-medium mb-1">{message}</p>
        {transactionId && (
          <div className="flex items-center gap-2 mt-2">
            <Badge variant="outline" className="text-xs gap-1">
              <Zap className="h-3 w-3" />
              {transactionId}
            </Badge>
          </div>
        )}
        {error && (
          <p className="text-xs text-destructive mt-2">{error}</p>
        )}
      </div>

      {/* Stage Indicators */}
      <div className="flex items-center justify-between">
        {(['checking_allowance', 'requesting_approval', 'processing_payment', 'verifying_transaction'] as PaymentStage[]).map((s, index) => {
          const isActive = stageProgress[stage] >= stageProgress[s];
          const isCurrent = stage === s;
          
          return (
            <div key={s} className="flex items-center">
              <div className={`h-8 w-8 rounded-full flex items-center justify-center border-2 transition-all ${
                isActive 
                  ? `${getStageColor()} border-transparent text-white` 
                  : 'border-border bg-background text-muted-foreground'
              } ${isCurrent ? 'animate-qi-pulse scale-110' : ''}`}>
                {isActive ? (
                  <CheckCircle2 className="h-4 w-4" />
                ) : (
                  <span className="text-xs font-bold">{index + 1}</span>
                )}
              </div>
              {index < 3 && (
                <div className={`h-0.5 w-12 mx-1 transition-all ${
                  isActive ? getStageColor() : 'bg-border'
                }`}></div>
              )}
            </div>
          );
        })}
      </div>
    </div>
  );
}
PK
frontend/src/components/Header.tsximport { Link, useNavigate } from '@tanstack/react-router';
import { Button } from '@/components/ui/button';
import { useInternetIdentity } from '../hooks/useInternetIdentity';
import { useQueryClient } from '@tanstack/react-query';
import { 
  Menu, 
  X, 
  Database, 
  LayoutDashboard, 
  CreditCard, 
  Coins,
  BookOpen,
  Wind,
  Zap,
  Trophy,
  MousePointer2,
  Network
} from 'lucide-react';
import { useState } from 'react';

export default function Header() {
  const { login, clear, loginStatus, identity } = useInternetIdentity();
  const queryClient = useQueryClient();
  const navigate = useNavigate();
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  const isAuthenticated = !!identity;
  const disabled = loginStatus === 'logging-in';
  const text = loginStatus === 'logging-in' ? '...' : isAuthenticated ? '' : '';

  const handleAuth = async () => {
    if (isAuthenticated) {
      try {
        await clear();
        // Clear all cached data including roles
        queryClient.clear();
        navigate({ to: '/' });
      } catch (error) {
        console.error('[Header] Logout error:', error);
      }
    } else {
      try {
        await login();
        // Invalidate role cache after successful login
        queryClient.invalidateQueries({ queryKey: ['callerUserRole'] });
        queryClient.invalidateQueries({ queryKey: ['currentUserProfile'] });
      } catch (error: any) {
        console.error('[Header] Login error:', error);
        if (error?.message?.includes('already authenticated')) {
          try {
            await clear();
            queryClient.clear();
            setTimeout(() => {
              // Call login without chaining .catch since it returns void
              try {
                login();
              } catch (err) {
                console.error('[Header] Retry login error:', err);
              }
            }, 300);
          } catch (clearError) {
            console.error('[Header] Clear error:', clearError);
          }
        }
      }
    }
  };

  const cultivationModules = [
    { to: '/wu-dao', label: '', icon: BookOpen },
    { to: '/martial-qi', label: '', icon: Wind },
    { to: '/wu-dian', label: '', icon: Zap },
  ];

  return (
    <header className="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
      <div className="container flex h-16 items-center justify-between px-4 md:px-8">
        <div className="flex items-center gap-6">
          <Link to="/" className="flex items-center gap-2 hover:opacity-80 transition-opacity">
            <div className="h-8 w-8 rounded-lg bg-gradient-to-br from-blue-600 via-cyan-500 to-green-600 flex items-center justify-center shrink-0">
              <Database className="h-5 w-5 text-white" />
            </div>
            <span className="font-bold text-lg bg-gradient-to-r from-blue-600 via-cyan-500 to-green-600 bg-clip-text text-transparent hidden sm:inline chinese-optimized">
              LFLCEI 
            </span>
          </Link>

          <nav className="hidden lg:flex items-center gap-1">
            <Link to="/">
              <Button variant="ghost" size="sm" className="gap-2">
                <LayoutDashboard className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/integration-dashboard">
              <Button variant="ghost" size="sm" className="gap-2">
                <Database className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/module-connection">
              <Button variant="ghost" size="sm" className="gap-2">
                <Network className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/lucky-draw">
              <Button variant="ghost" size="sm" className="gap-2">
                <Trophy className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/clicker-game">
              <Button variant="ghost" size="sm" className="gap-2">
                <MousePointer2 className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/wu-dao">
              <Button variant="ghost" size="sm" className="gap-2">
                <BookOpen className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/martial-qi">
              <Button variant="ghost" size="sm" className="gap-2">
                <Wind className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/wu-dian">
              <Button variant="ghost" size="sm" className="gap-2">
                <Zap className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/subscription">
              <Button variant="ghost" size="sm" className="gap-2">
                <CreditCard className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/energy-coin">
              <Button variant="ghost" size="sm" className="gap-2">
                <Coins className="h-4 w-4" />
                
              </Button>
            </Link>
          </nav>
        </div>

        <div className="flex items-center gap-2">
          <Button
            onClick={handleAuth}
            disabled={disabled}
            variant={isAuthenticated ? 'outline' : 'default'}
            size="sm"
            className="hidden sm:flex"
          >
            {text}
          </Button>

          <Button
            variant="ghost"
            size="sm"
            className="lg:hidden"
            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
          >
            {mobileMenuOpen ? <X className="h-5 w-5" /> : <Menu className="h-5 w-5" />}
          </Button>
        </div>
      </div>

      {mobileMenuOpen && (
        <div className="lg:hidden border-t bg-background">
          <nav className="container px-4 py-4 space-y-2">
            <Link to="/" onClick={() => setMobileMenuOpen(false)}>
              <Button variant="ghost" size="sm" className="w-full justify-start gap-2">
                <LayoutDashboard className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/integration-dashboard" onClick={() => setMobileMenuOpen(false)}>
              <Button variant="ghost" size="sm" className="w-full justify-start gap-2">
                <Database className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/module-connection" onClick={() => setMobileMenuOpen(false)}>
              <Button variant="ghost" size="sm" className="w-full justify-start gap-2">
                <Network className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/lucky-draw" onClick={() => setMobileMenuOpen(false)}>
              <Button variant="ghost" size="sm" className="w-full justify-start gap-2">
                <Trophy className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/clicker-game" onClick={() => setMobileMenuOpen(false)}>
              <Button variant="ghost" size="sm" className="w-full justify-start gap-2">
                <MousePointer2 className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/subscription" onClick={() => setMobileMenuOpen(false)}>
              <Button variant="ghost" size="sm" className="w-full justify-start gap-2">
                <CreditCard className="h-4 w-4" />
                
              </Button>
            </Link>
            <Link to="/energy-coin" onClick={() => setMobileMenuOpen(false)}>
              <Button variant="ghost" size="sm" className="gap-2 w-full justify-start">
                <Coins className="h-4 w-4" />
                
              </Button>
            </Link>
            
            <div className="pt-2 border-t">
              <p className="text-xs font-semibold text-muted-foreground px-3 py-2 chinese-optimized"></p>
              {cultivationModules.map((module) => (
                <Link key={module.to} to={module.to} onClick={() => setMobileMenuOpen(false)}>
                  <Button variant="ghost" size="sm" className="w-full justify-start gap-2">
                    <module.icon className="h-4 w-4" />
                    {module.label}
                  </Button>
                </Link>
              ))}
            </div>

            <div className="pt-2 border-t">
              <Button
                onClick={handleAuth}
                disabled={disabled}
                variant={isAuthenticated ? 'outline' : 'default'}
                size="sm"
                className="w-full"
              >
                {text}
              </Button>
            </div>
          </nav>
        </div>
      )}
    </header>
  );
}
PK
frontend/index.html<html lang='en'>
    <head>
        <meta charset='UTF-8' />
        <meta name='viewport' content='width=device-width, initial-scale=1.0' />
        <title>LFLC    </title>
    </head>
    <body>
        <div id='root'></div>
        <script type='module' src='/src/main.tsx'></script>
    </body>
</html>PK
build-template/src/frontend/src/components/ui/sheet.tsx'use client';

import * as React from 'react';
import * as SheetPrimitive from '@radix-ui/react-dialog';
import { XIcon } from 'lucide-react';

import { cn } from '@/lib/utils';

function Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {
    return <SheetPrimitive.Root data-slot="sheet" {...props} />;
}

function SheetTrigger({ ...props }: React.ComponentProps<typeof SheetPrimitive.Trigger>) {
    return <SheetPrimitive.Trigger data-slot="sheet-trigger" {...props} />;
}

function SheetClose({ ...props }: React.ComponentProps<typeof SheetPrimitive.Close>) {
    return <SheetPrimitive.Close data-slot="sheet-close" {...props} />;
}

function SheetPortal({ ...props }: React.ComponentProps<typeof SheetPrimitive.Portal>) {
    return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />;
}

function SheetOverlay({ className, ...props }: React.ComponentProps<typeof SheetPrimitive.Overlay>) {
    return (
        <SheetPrimitive.Overlay
            data-slot="sheet-overlay"
            className={cn(
                'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',
                className
            )}
            {...props}
        />
    );
}

function SheetContent({
    className,
    children,
    side = 'right',
    ...props
}: React.ComponentProps<typeof SheetPrimitive.Content> & {
    side?: 'top' | 'right' | 'bottom' | 'left';
}) {
    return (
        <SheetPortal>
            <SheetOverlay />
            <SheetPrimitive.Content
                data-slot="sheet-content"
                className={cn(
                    'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500',
                    side === 'right' &&
                        'data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm',
                    side === 'left' &&
                        'data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm',
                    side === 'top' &&
                        'data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b',
                    side === 'bottom' &&
                        'data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t',
                    className
                )}
                {...props}
            >
                {children}
                <SheetPrimitive.Close className="ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none">
                    <XIcon className="size-4" />
                    <span className="sr-only">Close</span>
                </SheetPrimitive.Close>
            </SheetPrimitive.Content>
        </SheetPortal>
    );
}

function SheetHeader({ className, ...props }: React.ComponentProps<'div'>) {
    return <div data-slot="sheet-header" className={cn('flex flex-col gap-1.5 p-4', className)} {...props} />;
}

function SheetFooter({ className, ...props }: React.ComponentProps<'div'>) {
    return <div data-slot="sheet-footer" className={cn('mt-auto flex flex-col gap-2 p-4', className)} {...props} />;
}

function SheetTitle({ className, ...props }: React.ComponentProps<typeof SheetPrimitive.Title>) {
    return (
        <SheetPrimitive.Title
            data-slot="sheet-title"
            className={cn('text-foreground font-semibold', className)}
            {...props}
        />
    );
}

function SheetDescription({ className, ...props }: React.ComponentProps<typeof SheetPrimitive.Description>) {
    return (
        <SheetPrimitive.Description
            data-slot="sheet-description"
            className={cn('text-muted-foreground text-sm', className)}
            {...props}
        />
    );
}

export { Sheet, SheetTrigger, SheetClose, SheetContent, SheetHeader, SheetFooter, SheetTitle, SheetDescription };
PK
frontend/src/pages/DaoFaPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Sparkles, Flame, Wind, Droplet, Mountain } from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

export default function DaoFaPage() {
  const [moduleState, setModuleState] = useState(unifiedArchitecture.getModuleState('dao-fa'));
  const [daoLevel, setDaoLevel] = useState(56);
  const [elementalMastery, setElementalMastery] = useState(62);
  const [techniques, setTechniques] = useState(15);

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const state = unifiedArchitecture.getModuleState('dao-fa');
      setModuleState(state);
      
      setDaoLevel(prev => Math.min(100, prev + Math.random() * 0.28));
      setElementalMastery(prev => Math.min(100, Math.max(0, prev + Math.random() * 2.5 - 1.2)));
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  const elements = [
    { name: '', icon: Sparkles, mastery: 72, color: 'text-yellow-500' },
    { name: '', icon: Mountain, mastery: 58, color: 'text-green-500' },
    { name: '', icon: Droplet, mastery: 65, color: 'text-blue-500' },
    { name: '', icon: Flame, mastery: 80, color: 'text-red-500' },
    { name: '', icon: Mountain, mastery: 55, color: 'text-amber-500' },
  ];

  return (
    <div className="container px-4 py-8 md:px-8 relative">
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute top-1/4 right-1/3 w-96 h-96 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
      </div>

      <div className="relative z-10 space-y-8">
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-emerald-600 to-teal-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <Sparkles className="h-8 w-8 text-white" />
            </div>
            <div>
              <h1 className="text-3xl font-bold bg-gradient-to-r from-emerald-600 via-teal-500 to-emerald-600 bg-clip-text text-transparent">
                
              </h1>
              <p className="text-muted-foreground">  </p>
            </div>
          </div>

          {moduleState && (
            <div className="flex items-center gap-3">
              <Badge variant={moduleState.isActive ? "default" : "secondary"} className="gap-2">
                <div className={`h-2 w-2 rounded-full ${moduleState.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'}`}></div>
                {moduleState.isActive ? '' : ''}
              </Badge>
              <Badge variant="outline">: {Math.round(moduleState.healthScore * 100)}%</Badge>
              <Badge variant="outline">: {Math.round(moduleState.syncQuality * 100)}%</Badge>
            </div>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Sparkles className="h-4 w-4 text-emerald-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(daoLevel)}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={daoLevel} className="mt-2 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Wind className="h-4 w-4 text-teal-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(elementalMastery)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={elementalMastery} className="mt-2 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Flame className="h-4 w-4 text-red-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{techniques}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={(techniques / 40) * 100} className="mt-2 h-2" />
            </CardContent>
          </Card>
        </div>

        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription>  </CardDescription>
          </CardHeader>
          <CardContent>
            <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
              {elements.map((element) => {
                const Icon = element.icon;
                return (
                  <div key={element.name} className="p-4 rounded-lg border border-border/50 hover:border-primary/50 transition-all space-y-3">
                    <div className="flex flex-col items-center gap-2">
                      <Icon className={`h-8 w-8 ${element.color}`} />
                      <span className="font-bold text-lg">{element.name}</span>
                    </div>
                    <Progress value={element.mastery} className="h-2" />
                    <p className="text-xs text-center text-muted-foreground">{element.mastery}%</p>
                  </div>
                );
              })}
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription>  </CardDescription>
          </CardHeader>
          <CardContent>
            <div className="space-y-4">
              {moduleState?.dependencies.map((depId) => (
                <div key={depId} className="flex items-center justify-between p-3 rounded-lg border border-border/50">
                  <div className="flex items-center gap-3">
                    <div className="h-2 w-2 rounded-full bg-green-500 animate-qi-pulse"></div>
                    <span className="font-medium">{depId}</span>
                  </div>
                  <Badge variant="outline"></Badge>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
frontend/src/lib/externalBackendConnector.ts/**
 * External Backend Connector for LFLC Lucky Draw Energy Integration
 * Connects to https://lflc-ei-75z.caffeine.xyz/ for energy management
 */

export interface ExternalBackendResponse {
  success: boolean;
  message?: string;
  error?: string;
}

export class LFLCConnector {
  private static readonly EXTERNAL_BACKEND_URL = 'https://lflc-ei-75z.caffeine.xyz/';
  private static readonly MAX_RETRIES = 3;
  private static readonly INITIAL_DELAY = 500;

  /**
   * Dispatches energy reward to external backend with retry logic
   * @param amount Energy amount to add (default: 100)
   * @param retryCount Current retry attempt
   * @returns Promise with response data
   */
  static async dispatch(
    amount: number = 100,
    retryCount: number = 0
  ): Promise<ExternalBackendResponse> {
    try {
      console.log(`[LFLCConnector] Attempting to add ${amount} energy (attempt ${retryCount + 1}/${this.MAX_RETRIES})`);

      // Simulate API call to external backend
      // In production, this would be an actual HTTP request to the external canister
      const response = await fetch(`${this.EXTERNAL_BACKEND_URL}addEnergy`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ amount }),
      });

      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }

      const data = await response.json();
      
      console.log(`[LFLCConnector] Successfully added ${amount} energy`, data);
      
      return {
        success: true,
        message: `Successfully added ${amount} energy to external backend`,
      };

    } catch (error) {
      console.error(`[LFLCConnector] Error on attempt ${retryCount + 1}:`, error);

      // Retry logic with exponential backoff
      if (retryCount < this.MAX_RETRIES - 1) {
        const delay = this.INITIAL_DELAY * Math.pow(2, retryCount);
        console.log(`[LFLCConnector] Retrying in ${delay}ms...`);
        
        await new Promise(resolve => setTimeout(resolve, delay));
        return this.dispatch(amount, retryCount + 1);
      }

      // All retries exhausted
      const errorMessage = error instanceof Error ? error.message : 'Unknown error';
      console.error(`[LFLCConnector] All retry attempts exhausted. Final error:`, errorMessage);
      
      return {
        success: false,
        error: errorMessage,
      };
    }
  }

  /**
   * Test connection to external backend
   */
  static async testConnection(): Promise<boolean> {
    try {
      const response = await fetch(`${this.EXTERNAL_BACKEND_URL}health`, {
        method: 'GET',
      });
      return response.ok;
    } catch (error) {
      console.error('[LFLCConnector] Connection test failed:', error);
      return false;
    }
  }
}

PK
frontend/src/pages/ArtifactPathPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { GitBranch, TrendingUp, Sparkles } from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

export default function ArtifactPathPage() {
  const [moduleState, setModuleState] = useState(unifiedArchitecture.getModuleState('artifact-path'));
  const [pathProgress, setPathProgress] = useState(48);
  const [evolutionStage, setEvolutionStage] = useState(3);

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const state = unifiedArchitecture.getModuleState('artifact-path');
      setModuleState(state);
      
      setPathProgress(prev => Math.min(100, prev + Math.random() * 0.3));
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  return (
    <div className="container px-4 py-8 md:px-8 relative">
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute top-1/4 left-1/3 w-96 h-96 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
      </div>

      <div className="relative z-10 space-y-8">
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-cyan-600 to-blue-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <GitBranch className="h-8 w-8 text-white" />
            </div>
            <div>
              <h1 className="text-3xl font-bold bg-gradient-to-r from-cyan-600 via-blue-500 to-cyan-600 bg-clip-text text-transparent">
                
              </h1>
              <p className="text-muted-foreground">  </p>
            </div>
          </div>

          {moduleState && (
            <div className="flex items-center gap-3">
              <Badge variant={moduleState.isActive ? "default" : "secondary"} className="gap-2">
                <div className={`h-2 w-2 rounded-full ${moduleState.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'}`}></div>
                {moduleState.isActive ? '' : ''}
              </Badge>
              <Badge variant="outline">: {Math.round(moduleState.healthScore * 100)}%</Badge>
              <Badge variant="outline">: {Math.round(moduleState.syncQuality * 100)}%</Badge>
            </div>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <GitBranch className="h-4 w-4 text-cyan-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(pathProgress)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={pathProgress} className="mt-2 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Sparkles className="h-4 w-4 text-blue-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold"> {evolutionStage} </div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={(evolutionStage / 10) * 100} className="mt-2 h-2" />
            </CardContent>
          </Card>
        </div>

        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription>  </CardDescription>
          </CardHeader>
          <CardContent>
            <div className="relative h-64 bg-muted/20 rounded-lg border border-border/50 overflow-hidden">
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="relative">
                  <div className="absolute inset-0 bg-gradient-to-br from-cyan-500/40 to-blue-500/40 rounded-full blur-2xl animate-qi-pulse"></div>
                  <div className="relative h-32 w-32 rounded-full bg-gradient-to-br from-cyan-600 to-blue-600 flex items-center justify-center shadow-2xl border-4 border-white/20">
                    <div className="text-center text-white">
                      <TrendingUp className="h-12 w-12 mx-auto mb-1 animate-qi-pulse" />
                      <p className="text-xs font-bold"></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
build-template/scripts/PK
build-template/scripts/resize-images.jsimport sharp from 'sharp';
import { promises as fs } from 'fs';
import path from 'path';

const DIMENSION_PATTERN = /^(.+?)\.dim_(\d+)x(\d+)(\.[^.]+)$/;
const ASSETS_DIR = 'src/frontend/dist/assets/generated';

async function fileExists(filePath) {
    try {
        await fs.access(filePath);
        return true;
    } catch {
        return false;
    }
}

function getOutputOptions(ext) {
    const extension = ext.toLowerCase();

    switch (extension) {
        case '.png':
            return {
                format: 'png',
                options: {
                    compressionLevel: 6, // (0-9) 6 for balance of speed and size
                    palette: true, // Quantize to 256 colors
                    quality: 80, // Quality for palette quantization
                    effort: 8, // (0-10)
                    adaptiveFiltering: true
                }
            };
        case '.jpg':
        case '.jpeg':
            return {
                format: 'jpeg',
                options: {
                    quality: 80, // 80 is a good balance
                    mozjpeg: true, // Use MozJPEG encoder (much better compression)
                    trellisQuantisation: true,
                    overshootDeringing: true,
                    optimizeScans: true
                }
            };
        case '.webp':
            return {
                format: 'webp',
                options: {
                    quality: 80,
                    effort: 6, // Max effort (0-6)
                    smartSubsample: true
                }
            };
        default:
            return null;
    }
}

async function resizeImages() {
    if (!(await fileExists(ASSETS_DIR))) {
        console.log(`Directory ${ASSETS_DIR} does not exist, skipping resize`);
        return;
    }

    let files;
    try {
        files = await fs.readdir(ASSETS_DIR);
    } catch (error) {
        console.log(`Could not read ${ASSETS_DIR}: ${error.message}`);
        return;
    }

    let resizedCount = 0;

    for (const file of files) {
        const match = file.match(DIMENSION_PATTERN);
        if (match) {
            const [, , width, height, ext] = match;
            const filePath = path.join(ASSETS_DIR, file);
            const outputConfig = getOutputOptions(ext);

            if (!outputConfig) {
                console.log(`Skipping unsupported format: ${file}`);
                continue;
            }

            try {
                let pipeline = sharp(filePath)
                    .resize(parseInt(width, 10), parseInt(height, 10), {
                        fit: 'cover',
                        withoutEnlargement: false,
                        position: 'center'
                    })
                    .keepIccProfile();

                // Apply format-specific optimization
                pipeline = pipeline[outputConfig.format](outputConfig.options);

                const resized = await pipeline.toBuffer();
                await fs.writeFile(filePath, resized);
                resizedCount++;
            } catch (error) {
                console.error(`Failed to resize ${file}:`, error.message);
            }
        }
    }
}

resizeImages().catch((error) => {
    console.error('Image resize process failed:', error);
    process.exit(1);
});
PK
frontend/src/components/PaymentConsoleViewer.tsximport { useState, useEffect, useRef } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { ScrollArea } from '@/components/ui/scroll-area';
import { Terminal, Trash2, Download, Info, AlertTriangle, XCircle, CheckCircle2 } from 'lucide-react';
import { icpPaymentModule, type PaymentLog } from '../lib/icpPaymentModule';

export default function PaymentConsoleViewer() {
  const [logs, setLogs] = useState<PaymentLog[]>([]);
  const [autoScroll, setAutoScroll] = useState(true);
  const scrollRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const interval = setInterval(() => {
      setLogs(icpPaymentModule.getLogs());
    }, 500);

    return () => clearInterval(interval);
  }, []);

  useEffect(() => {
    if (autoScroll && scrollRef.current) {
      scrollRef.current.scrollTop = 0;
    }
  }, [logs, autoScroll]);

  const handleClearLogs = () => {
    icpPaymentModule.clearLogs();
    setLogs([]);
  };

  const handleDownloadLogs = () => {
    const logText = logs.map(log => 
      `[${new Date(log.timestamp).toISOString()}] [${log.level.toUpperCase()}] ${log.message}${log.details ? '\n  Details: ' + JSON.stringify(log.details, null, 2) : ''}`
    ).join('\n\n');
    
    const blob = new Blob([logText], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `payment-logs-${Date.now()}.txt`;
    a.click();
    URL.revokeObjectURL(url);
  };

  const getLevelIcon = (level: PaymentLog['level']) => {
    switch (level) {
      case 'info':
        return <Info className="h-4 w-4 text-blue-500" />;
      case 'warning':
        return <AlertTriangle className="h-4 w-4 text-amber-500" />;
      case 'error':
        return <XCircle className="h-4 w-4 text-destructive" />;
      case 'success':
        return <CheckCircle2 className="h-4 w-4 text-green-500" />;
    }
  };

  const getLevelColor = (level: PaymentLog['level']) => {
    switch (level) {
      case 'info':
        return 'text-blue-500';
      case 'warning':
        return 'text-amber-500';
      case 'error':
        return 'text-destructive';
      case 'success':
        return 'text-green-500';
    }
  };

  return (
    <Card className="border-2 border-primary/30">
      <CardHeader>
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-3">
            <div className="h-10 w-10 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center">
              <Terminal className="h-5 w-5 text-white" />
            </div>
            <div>
              <CardTitle className="flex items-center gap-2">
                
                <Badge variant="secondary">{logs.length} </Badge>
              </CardTitle>
              <CardDescription></CardDescription>
            </div>
          </div>
          <div className="flex items-center gap-2">
            <Button
              onClick={handleDownloadLogs}
              variant="outline"
              size="sm"
              disabled={logs.length === 0}
            >
              <Download className="h-4 w-4 mr-2" />
              
            </Button>
            <Button
              onClick={handleClearLogs}
              variant="outline"
              size="sm"
              disabled={logs.length === 0}
            >
              <Trash2 className="h-4 w-4 mr-2" />
              
            </Button>
          </div>
        </div>
      </CardHeader>
      <CardContent>
        <ScrollArea className="h-[400px] w-full rounded-lg border border-border bg-muted/30 p-4" ref={scrollRef}>
          {logs.length === 0 ? (
            <div className="flex flex-col items-center justify-center h-full text-muted-foreground">
              <Terminal className="h-12 w-12 mb-3 opacity-50" />
              <p className="text-sm"></p>
              <p className="text-xs"></p>
            </div>
          ) : (
            <div className="space-y-3 font-mono text-xs">
              {logs.map((log, index) => (
                <div
                  key={`${log.timestamp}-${index}`}
                  className="p-3 rounded-lg bg-background/50 border border-border/50 space-y-2"
                >
                  <div className="flex items-start gap-2">
                    {getLevelIcon(log.level)}
                    <div className="flex-1 min-w-0">
                      <div className="flex items-center gap-2 mb-1">
                        <span className="text-muted-foreground">
                          {new Date(log.timestamp).toLocaleTimeString()}
                        </span>
                        <Badge variant="outline" className={`text-xs ${getLevelColor(log.level)}`}>
                          {log.level.toUpperCase()}
                        </Badge>
                      </div>
                      <p className="text-foreground break-words">{log.message}</p>
                      {log.details && (
                        <pre className="mt-2 p-2 rounded bg-muted/50 text-xs overflow-x-auto">
                          {JSON.stringify(log.details, null, 2)}
                        </pre>
                      )}
                    </div>
                  </div>
                </div>
              ))}
            </div>
          )}
        </ScrollArea>
        
        <div className="mt-4 flex items-center justify-between text-xs text-muted-foreground">
          <div className="flex items-center gap-4">
            <div className="flex items-center gap-1">
              <div className="h-2 w-2 rounded-full bg-blue-500"></div>
              <span></span>
            </div>
            <div className="flex items-center gap-1">
              <div className="h-2 w-2 rounded-full bg-amber-500"></div>
              <span></span>
            </div>
            <div className="flex items-center gap-1">
              <div className="h-2 w-2 rounded-full bg-destructive"></div>
              <span></span>
            </div>
            <div className="flex items-center gap-1">
              <div className="h-2 w-2 rounded-full bg-green-500"></div>
              <span></span>
            </div>
          </div>
          <label className="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              checked={autoScroll}
              onChange={(e) => setAutoScroll(e.target.checked)}
              className="rounded"
            />
            <span></span>
          </label>
        </div>
      </CardContent>
    </Card>
  );
}
PK
frontend/src/components/SecurePaymentInterface.tsximport { useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';
import { Shield, Lock, Zap, CheckCircle2, AlertCircle } from 'lucide-react';
import PaymentProgressTracker from './PaymentProgressTracker';
import PaymentVerificationBadge from './PaymentVerificationBadge';
import MultiWalletDistributionVisualizer from './MultiWalletDistributionVisualizer';
import type { PaymentStatus } from '../lib/icpPaymentModule';
import { GAME_ENTRY_FEE_E8S } from '../lib/icpPaymentModule';

interface SecurePaymentInterfaceProps {
  gameName: string;
  onPaymentComplete: (transactionId: string) => void;
  onPaymentCancel: () => void;
  paymentStatus: PaymentStatus;
  isProcessing: boolean;
}

export default function SecurePaymentInterface({
  gameName,
  onPaymentComplete,
  onPaymentCancel,
  paymentStatus,
  isProcessing,
}: SecurePaymentInterfaceProps) {
  const entryFeeICP = Number(GAME_ENTRY_FEE_E8S) / 100_000_000;
  const wallet1Amount = entryFeeICP / 2;
  const wallet2Amount = entryFeeICP / 2;

  const getVerificationStatus = (): 'verified' | 'pending' | 'unverified' => {
    if (paymentStatus.stage === 'completed') return 'verified';
    if (paymentStatus.stage === 'verifying_transaction' || paymentStatus.stage === 'processing_payment') return 'pending';
    return 'unverified';
  };

  return (
    <Card className="border-2 border-primary/30">
      <CardHeader>
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-3">
            <div className="h-12 w-12 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center">
              <Shield className="h-6 w-6 text-white" />
            </div>
            <div>
              <CardTitle className="flex items-center gap-2">
                
                <PaymentVerificationBadge status={getVerificationStatus()} />
              </CardTitle>
              <CardDescription>ICP Ledger   </CardDescription>
            </div>
          </div>
        </div>
      </CardHeader>
      <CardContent className="space-y-6">
        {/* Game Info */}
        <div className="p-4 rounded-lg bg-gradient-to-br from-primary/10 to-accent/10 border border-primary/30">
          <div className="flex items-center justify-between mb-3">
            <div>
              <p className="text-sm text-muted-foreground mb-1"></p>
              <p className="text-lg font-bold">{gameName}</p>
            </div>
            <div className="text-right">
              <p className="text-sm text-muted-foreground mb-1"></p>
              <div className="flex items-center gap-2">
                <Zap className="h-5 w-5 text-amber-500" />
                <p className="text-2xl font-bold">{entryFeeICP} ICP</p>
              </div>
            </div>
          </div>
        </div>

        {/* Security Features */}
        <div className="grid grid-cols-2 gap-3">
          <div className="p-3 rounded-lg bg-muted/50 border border-border/50">
            <div className="flex items-center gap-2 mb-1">
              <Lock className="h-4 w-4 text-primary" />
              <span className="text-xs font-semibold"></span>
            </div>
            <p className="text-xs text-muted-foreground"></p>
          </div>
          <div className="p-3 rounded-lg bg-muted/50 border border-border/50">
            <div className="flex items-center gap-2 mb-1">
              <Shield className="h-4 w-4 text-primary" />
              <span className="text-xs font-semibold"></span>
            </div>
            <p className="text-xs text-muted-foreground"></p>
          </div>
        </div>

        {/* Payment Progress */}
        {isProcessing && (
          <PaymentProgressTracker
            stage={paymentStatus.stage}
            message={paymentStatus.message}
            transactionId={paymentStatus.transactionId}
            error={paymentStatus.error}
          />
        )}

        {/* Wallet Distribution */}
        {(paymentStatus.stage === 'processing_payment' || paymentStatus.stage === 'verifying_transaction' || paymentStatus.stage === 'completed') && (
          <div className="space-y-3">
            <p className="text-sm font-semibold"></p>
            <MultiWalletDistributionVisualizer
              isDistributing={paymentStatus.stage === 'processing_payment' || paymentStatus.stage === 'verifying_transaction'}
              wallet1Amount={wallet1Amount}
              wallet2Amount={wallet2Amount}
            />
          </div>
        )}

        {/* Success Message */}
        {paymentStatus.stage === 'completed' && paymentStatus.transactionId && (
          <Alert className="border-green-500/50 bg-gradient-to-r from-green-500/10 to-emerald-500/10">
            <CheckCircle2 className="h-4 w-4 text-green-500" />
            <AlertTitle></AlertTitle>
            <AlertDescription>
              ...
              <div className="mt-2">
                <Badge variant="outline" className="text-xs">
                  ID: {paymentStatus.transactionId}
                </Badge>
              </div>
            </AlertDescription>
          </Alert>
        )}

        {/* Error Message */}
        {paymentStatus.stage === 'failed' && (
          <Alert variant="destructive">
            <AlertCircle className="h-4 w-4" />
            <AlertTitle></AlertTitle>
            <AlertDescription>
              {paymentStatus.error || ''}
            </AlertDescription>
          </Alert>
        )}

        {/* Action Buttons */}
        {paymentStatus.stage !== 'completed' && (
          <div className="flex gap-3">
            <Button
              onClick={onPaymentCancel}
              variant="outline"
              className="flex-1"
              disabled={isProcessing}
            >
              
            </Button>
          </div>
        )}
      </CardContent>
    </Card>
  );
}
PK
frontend/src/components/PaymentVerificationBadge.tsximport { Badge } from '@/components/ui/badge';
import { CheckCircle2, Clock, XCircle } from 'lucide-react';

interface PaymentVerificationBadgeProps {
  status: 'verified' | 'pending' | 'unverified';
  size?: 'sm' | 'default' | 'lg';
}

export default function PaymentVerificationBadge({ 
  status, 
  size = 'default' 
}: PaymentVerificationBadgeProps) {
  const getIcon = () => {
    const iconSize = size === 'sm' ? 'h-3 w-3' : size === 'lg' ? 'h-5 w-5' : 'h-4 w-4';
    
    switch (status) {
      case 'verified':
        return <CheckCircle2 className={`${iconSize} text-green-500`} />;
      case 'pending':
        return <Clock className={`${iconSize} text-amber-500 animate-pulse`} />;
      case 'unverified':
        return <XCircle className={`${iconSize} text-destructive`} />;
    }
  };

  const getLabel = () => {
    switch (status) {
      case 'verified':
        return '';
      case 'pending':
        return '';
      case 'unverified':
        return '';
    }
  };

  const getVariant = () => {
    switch (status) {
      case 'verified':
        return 'default' as const;
      case 'pending':
        return 'secondary' as const;
      case 'unverified':
        return 'destructive' as const;
    }
  };

  return (
    <Badge variant={getVariant()} className="gap-1.5">
      {getIcon()}
      <span>{getLabel()}</span>
    </Badge>
  );
}
PK
frontend/src/components/Footer.tsximport { Heart } from 'lucide-react';

export default function Footer() {
  return (
    <footer className="border-t border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 mt-auto">
      <div className="container px-4 py-6 md:px-8 md:py-8">
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
          {/* Brand */}
          <div className="space-y-3">
            <h3 className="text-lg font-bold bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent">
              LFLCEI 
            </h3>
            <p className="text-sm text-muted-foreground">
                    
            </p>
            <div className="text-xs text-muted-foreground space-y-1">
              <p> / LEE YIHSUN (Johnnylee7912)</p>
              <p>Internet Identity 2.0 ID: 2911215</p>
              <p className="text-xs opacity-75">Principal: ssmgf-hhyda-pxtto-ozjbv-wxqbi-srswj-eabc5-2xzzf-ep6u5-psqp2-zqe</p>
            </div>
            <div className="text-xs text-muted-foreground space-y-1 pt-2 border-t border-border/40">
              <p className="font-semibold"> DApp  (NNS DApp)</p>
              <p className="opacity-75">ID: yid4j-tfp2q-imv5l-buvfg-smdts-6tagk-7ppff-ftjeq-px5co-d7pg7-uae</p>
              <p className="text-[10px] opacity-60">ICP : 98eddabcedfeb743163bf2c4c3e2f68f54c36287dc515eae95b1a8040d616188</p>
              <p className="text-[10px] opacity-60"> 5 ICP  NNS DApp</p>
            </div>
            <div className="text-xs text-muted-foreground space-y-1 pt-2 border-t border-border/40">
              <p className="font-semibold"></p>
              <p className="opacity-75">Canister ID: cerpu-yyaaa-aaaai-q4wuq-cai</p>
              <p className="text-[10px] opacity-60">  3D NFT   </p>
            </div>
          </div>

          {/* Core Modules */}
          <div className="space-y-3">
            <h4 className="text-sm font-semibold text-foreground"></h4>
            <ul className="space-y-2 text-sm text-muted-foreground">
              <li className="text-xs">
                <span className="font-semibold text-blue-500"></span>
                  Anima      AI                DCDN  
              </li>
              <li className="text-xs">
                <span className="font-semibold text-green-500"></span>
                          AI   
              </li>
              <li className="text-xs pt-2 border-t border-border/40">
                <span className="font-semibold text-purple-500"></span>
                 DApp       
              </li>
            </ul>
          </div>

          {/* System Features */}
          <div className="space-y-3">
            <h4 className="text-sm font-semibold text-foreground"></h4>
            <ul className="space-y-2 text-sm text-muted-foreground">
              <li></li>
              <li>GPU </li>
              <li></li>
              <li></li>
              <li></li>
              <li></li>
              <li>Canister </li>
              <li></li>
              <li>Internet Identity 2.0 </li>
              <li> DApp </li>
            </ul>
          </div>
        </div>

        <div className="mt-6 pt-6 border-t border-border/40 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-muted-foreground">
          <p className="flex items-center gap-1.5">
             2025. Built with <Heart className="h-4 w-4 text-red-500 fill-red-500" /> using{' '}
            <a
              href="https://caffeine.ai"
              target="_blank"
              rel="noopener noreferrer"
              className="text-primary hover:underline font-medium"
            >
              caffeine.ai
            </a>
          </p>
          <p className="text-xs">LFLCEI    v2.0</p>
        </div>
      </div>
    </footer>
  );
}
PK
frontend/src/lib/nftMarketplaceConnector.ts/**
 * NFT Marketplace Integration Connector
 * Connects to https://lflc-nft-marketplace-tt9.caffeine.xyz for NFT marketplace integration
 * Supports ICRC-7/ICRC-37 standards, unified wallet authentication, and real-time synchronization
 * Enhanced with defensive null handling and safe fallback mechanisms
 */

export interface NFTAsset {
  id: string;
  name: string;
  description: string;
  imageUrl: string;
  owner: string;
  price?: number;
  rarity: 'common' | 'rare' | 'epic' | 'legendary';
  metadata: Record<string, any>;
  standard: 'ICRC-7' | 'ICRC-37';
}

export interface NFTMarketplaceStatus {
  connected: boolean;
  lastSync: number;
  totalAssets: number;
  userAssets: number;
  healthScore: number;
}

export interface NFTSyncResult {
  success: boolean;
  timestamp: number;
  assetsCount: number;
  error?: string;
}

export class NFTMarketplaceConnector {
  private static readonly MARKETPLACE_ENDPOINT = 'https://lflc-nft-marketplace-tt9.caffeine.xyz';
  private static readonly MAX_RETRIES = 3;
  private static readonly INITIAL_DELAY = 500;
  private static readonly TIMEOUT_MS = 5000;
  private static lastSyncTimestamp: number = 0;
  private static cachedAssets: NFTAsset[] = [];
  private static consecutiveErrors: number = 0;
  private static isSyncing: boolean = false;

  /**
   * Fetches user NFT assets from marketplace with safe fallback
   * @param userPrincipal User's principal ID
   * @param retryCount Current retry attempt
   * @returns Promise with NFT assets
   */
  static async getUserAssets(userPrincipal: string, retryCount: number = 0): Promise<NFTAsset[]> {
    // Validate input
    if (!userPrincipal || typeof userPrincipal !== 'string' || userPrincipal.trim() === '') {
      console.error('[NFTMarketplaceConnector] Invalid user principal');
      return this.cachedAssets;
    }

    // Prevent concurrent sync attempts
    if (this.isSyncing && retryCount === 0) {
      console.log('[NFTMarketplaceConnector] Sync already in progress, returning cached assets');
      return this.cachedAssets;
    }

    this.isSyncing = true;

    try {
      console.log(`[NFTMarketplaceConnector] Fetching user assets (attempt ${retryCount + 1}/${this.MAX_RETRIES})`);

      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), this.TIMEOUT_MS);

      try {
        const response = await fetch(`${this.MARKETPLACE_ENDPOINT}/getUserAssets`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ principal: userPrincipal }),
          signal: controller.signal,
        });

        clearTimeout(timeoutId);

        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }

        const data = await response.json();
        
        // Validate response data
        if (!data || typeof data !== 'object') {
          throw new Error('Invalid response format');
        }

        const assets: NFTAsset[] = Array.isArray(data.assets) ? data.assets : [];
        
        console.log(`[NFTMarketplaceConnector] Successfully fetched ${assets.length} assets`);
        
        this.cachedAssets = assets;
        this.lastSyncTimestamp = Date.now();
        this.consecutiveErrors = 0;
        this.isSyncing = false;
        
        return assets;

      } catch (fetchError) {
        clearTimeout(timeoutId);
        
        if (fetchError instanceof Error && fetchError.name === 'AbortError') {
          throw new Error('Request timeout');
        }
        throw fetchError;
      }

    } catch (error) {
      this.consecutiveErrors++;
      console.error(`[NFTMarketplaceConnector] Error on attempt ${retryCount + 1}:`, error);

      if (retryCount < this.MAX_RETRIES - 1) {
        const delay = this.INITIAL_DELAY * Math.pow(2, retryCount);
        console.log(`[NFTMarketplaceConnector] Retrying in ${delay}ms...`);
        
        await new Promise(resolve => setTimeout(resolve, delay));
        return this.getUserAssets(userPrincipal, retryCount + 1);
      }

      console.error(`[NFTMarketplaceConnector] All retry attempts exhausted`);
      this.isSyncing = false;
      return this.cachedAssets;
    }
  }

  /**
   * Synchronizes NFT metadata with marketplace with safe error handling
   * @param assetId NFT asset ID
   * @returns Promise with sync result
   */
  static async syncAssetMetadata(assetId: string): Promise<NFTSyncResult> {
    // Validate input
    if (!assetId || typeof assetId !== 'string' || assetId.trim() === '') {
      console.error('[NFTMarketplaceConnector] Invalid asset ID');
      return {
        success: false,
        timestamp: Date.now(),
        assetsCount: 0,
        error: 'Invalid asset ID',
      };
    }

    try {
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), this.TIMEOUT_MS);

      const response = await fetch(`${this.MARKETPLACE_ENDPOINT}/syncMetadata`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ assetId }),
        signal: controller.signal,
      });

      clearTimeout(timeoutId);

      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }

      const data = await response.json();
      
      return {
        success: true,
        timestamp: Date.now(),
        assetsCount: typeof data.assetsCount === 'number' ? data.assetsCount : 0,
      };

    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : 'Unknown error';
      console.error('[NFTMarketplaceConnector] Sync failed:', errorMessage);
      
      return {
        success: false,
        timestamp: Date.now(),
        assetsCount: 0,
        error: errorMessage,
      };
    }
  }

  /**
   * Gets marketplace status with safe error handling
   */
  static async getMarketplaceStatus(): Promise<NFTMarketplaceStatus> {
    try {
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), 3000);

      const response = await fetch(`${this.MARKETPLACE_ENDPOINT}/status`, {
        method: 'GET',
        signal: controller.signal,
      });

      clearTimeout(timeoutId);

      if (!response.ok) {
        throw new Error(`HTTP ${response.status}`);
      }

      const data = await response.json();
      
      return {
        connected: true,
        lastSync: this.lastSyncTimestamp,
        totalAssets: typeof data.totalAssets === 'number' ? data.totalAssets : 0,
        userAssets: this.cachedAssets.length,
        healthScore: 1.0,
      };

    } catch (error) {
      console.error('[NFTMarketplaceConnector] Status check failed:', error);
      
      return {
        connected: false,
        lastSync: this.lastSyncTimestamp,
        totalAssets: 0,
        userAssets: this.cachedAssets.length,
        healthScore: 0,
      };
    }
  }

  /**
   * Test connection to NFT marketplace with safe error handling
   */
  static async testConnection(): Promise<boolean> {
    try {
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), 3000);

      const response = await fetch(`${this.MARKETPLACE_ENDPOINT}/health`, {
        method: 'GET',
        signal: controller.signal,
      });
      
      clearTimeout(timeoutId);
      return response.ok;
    } catch (error) {
      console.error('[NFTMarketplaceConnector] Connection test failed:', error);
      return false;
    }
  }

  /**
   * Get cached assets (safe copy)
   */
  static getCachedAssets(): NFTAsset[] {
    return [...this.cachedAssets];
  }

  /**
   * Get last sync timestamp
   */
  static getLastSyncTimestamp(): number {
    return this.lastSyncTimestamp;
  }

  /**
   * Get consecutive error count
   */
  static getConsecutiveErrors(): number {
    return this.consecutiveErrors;
  }

  /**
   * Reset error counter
   */
  static resetErrorCounter(): void {
    this.consecutiveErrors = 0;
  }

  /**
   * Check if currently syncing
   */
  static isCurrentlySyncing(): boolean {
    return this.isSyncing;
  }
}
PK
build-template/src/frontend/src/components/ui/sidebar.tsx'use client';

import * as React from 'react';
import { Slot } from '@radix-ui/react-slot';
import { cva, VariantProps } from 'class-variance-authority';
import { PanelLeftIcon } from 'lucide-react';

import { useIsMobile } from '@/hooks/use-mobile';
import { cn } from '@/lib/utils';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Separator } from '@/components/ui/separator';
import { Sheet, SheetContent, SheetDescription, SheetHeader, SheetTitle } from '@/components/ui/sheet';
import { Skeleton } from '@/components/ui/skeleton';
import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';

const SIDEBAR_COOKIE_NAME = 'sidebar_state';
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;
const SIDEBAR_WIDTH = '16rem';
const SIDEBAR_WIDTH_MOBILE = '18rem';
const SIDEBAR_WIDTH_ICON = '3rem';
const SIDEBAR_KEYBOARD_SHORTCUT = 'b';

type SidebarContextProps = {
    state: 'expanded' | 'collapsed';
    open: boolean;
    setOpen: (open: boolean) => void;
    openMobile: boolean;
    setOpenMobile: (open: boolean) => void;
    isMobile: boolean;
    toggleSidebar: () => void;
};

const SidebarContext = React.createContext<SidebarContextProps | null>(null);

function useSidebar() {
    const context = React.useContext(SidebarContext);
    if (!context) {
        throw new Error('useSidebar must be used within a SidebarProvider.');
    }

    return context;
}

function SidebarProvider({
    defaultOpen = true,
    open: openProp,
    onOpenChange: setOpenProp,
    className,
    style,
    children,
    ...props
}: React.ComponentProps<'div'> & {
    defaultOpen?: boolean;
    open?: boolean;
    onOpenChange?: (open: boolean) => void;
}) {
    const isMobile = useIsMobile();
    const [openMobile, setOpenMobile] = React.useState(false);

    // This is the internal state of the sidebar.
    // We use openProp and setOpenProp for control from outside the component.
    const [_open, _setOpen] = React.useState(defaultOpen);
    const open = openProp ?? _open;
    const setOpen = React.useCallback(
        (value: boolean | ((value: boolean) => boolean)) => {
            const openState = typeof value === 'function' ? value(open) : value;
            if (setOpenProp) {
                setOpenProp(openState);
            } else {
                _setOpen(openState);
            }

            // This sets the cookie to keep the sidebar state.
            document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;
        },
        [setOpenProp, open]
    );

    // Helper to toggle the sidebar.
    const toggleSidebar = React.useCallback(() => {
        return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);
    }, [isMobile, setOpen, setOpenMobile]);

    // Adds a keyboard shortcut to toggle the sidebar.
    React.useEffect(() => {
        const handleKeyDown = (event: KeyboardEvent) => {
            if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {
                event.preventDefault();
                toggleSidebar();
            }
        };

        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
    }, [toggleSidebar]);

    // We add a state so that we can do data-state="expanded" or "collapsed".
    // This makes it easier to style the sidebar with Tailwind classes.
    const state = open ? 'expanded' : 'collapsed';

    const contextValue = React.useMemo<SidebarContextProps>(
        () => ({
            state,
            open,
            setOpen,
            isMobile,
            openMobile,
            setOpenMobile,
            toggleSidebar
        }),
        [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
    );

    return (
        <SidebarContext.Provider value={contextValue}>
            <TooltipProvider delayDuration={0}>
                <div
                    data-slot="sidebar-wrapper"
                    style={
                        {
                            '--sidebar-width': SIDEBAR_WIDTH,
                            '--sidebar-width-icon': SIDEBAR_WIDTH_ICON,
                            ...style
                        } as React.CSSProperties
                    }
                    className={cn(
                        'group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full',
                        className
                    )}
                    {...props}
                >
                    {children}
                </div>
            </TooltipProvider>
        </SidebarContext.Provider>
    );
}

function Sidebar({
    side = 'left',
    variant = 'sidebar',
    collapsible = 'offcanvas',
    className,
    children,
    ...props
}: React.ComponentProps<'div'> & {
    side?: 'left' | 'right';
    variant?: 'sidebar' | 'floating' | 'inset';
    collapsible?: 'offcanvas' | 'icon' | 'none';
}) {
    const { isMobile, state, openMobile, setOpenMobile } = useSidebar();

    if (collapsible === 'none') {
        return (
            <div
                data-slot="sidebar"
                className={cn('bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col', className)}
                {...props}
            >
                {children}
            </div>
        );
    }

    if (isMobile) {
        return (
            <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
                <SheetContent
                    data-sidebar="sidebar"
                    data-slot="sidebar"
                    data-mobile="true"
                    className="bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden"
                    style={
                        {
                            '--sidebar-width': SIDEBAR_WIDTH_MOBILE
                        } as React.CSSProperties
                    }
                    side={side}
                >
                    <SheetHeader className="sr-only">
                        <SheetTitle>Sidebar</SheetTitle>
                        <SheetDescription>Displays the mobile sidebar.</SheetDescription>
                    </SheetHeader>
                    <div className="flex h-full w-full flex-col">{children}</div>
                </SheetContent>
            </Sheet>
        );
    }

    return (
        <div
            className="group peer text-sidebar-foreground hidden md:block"
            data-state={state}
            data-collapsible={state === 'collapsed' ? collapsible : ''}
            data-variant={variant}
            data-side={side}
            data-slot="sidebar"
        >
            {/* This is what handles the sidebar gap on desktop */}
            <div
                data-slot="sidebar-gap"
                className={cn(
                    'relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear',
                    'group-data-[collapsible=offcanvas]:w-0',
                    'group-data-[side=right]:rotate-180',
                    variant === 'floating' || variant === 'inset'
                        ? 'group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]'
                        : 'group-data-[collapsible=icon]:w-(--sidebar-width-icon)'
                )}
            />
            <div
                data-slot="sidebar-container"
                className={cn(
                    'fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex',
                    side === 'left'
                        ? 'left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]'
                        : 'right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]',
                    // Adjust the padding for floating and inset variants.
                    variant === 'floating' || variant === 'inset'
                        ? 'p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]'
                        : 'group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l',
                    className
                )}
                {...props}
            >
                <div
                    data-sidebar="sidebar"
                    data-slot="sidebar-inner"
                    className="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm"
                >
                    {children}
                </div>
            </div>
        </div>
    );
}

function SidebarTrigger({ className, onClick, ...props }: React.ComponentProps<typeof Button>) {
    const { toggleSidebar } = useSidebar();

    return (
        <Button
            data-sidebar="trigger"
            data-slot="sidebar-trigger"
            variant="ghost"
            size="icon"
            className={cn('size-7', className)}
            onClick={(event) => {
                onClick?.(event);
                toggleSidebar();
            }}
            {...props}
        >
            <PanelLeftIcon />
            <span className="sr-only">Toggle Sidebar</span>
        </Button>
    );
}

function SidebarRail({ className, ...props }: React.ComponentProps<'button'>) {
    const { toggleSidebar } = useSidebar();

    return (
        <button
            data-sidebar="rail"
            data-slot="sidebar-rail"
            aria-label="Toggle Sidebar"
            tabIndex={-1}
            onClick={toggleSidebar}
            title="Toggle Sidebar"
            className={cn(
                'hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex',
                'in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize',
                '[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize',
                'hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full',
                '[[data-side=left][data-collapsible=offcanvas]_&]:-right-2',
                '[[data-side=right][data-collapsible=offcanvas]_&]:-left-2',
                className
            )}
            {...props}
        />
    );
}

function SidebarInset({ className, ...props }: React.ComponentProps<'main'>) {
    return (
        <main
            data-slot="sidebar-inset"
            className={cn(
                'bg-background relative flex w-full flex-1 flex-col',
                'md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2',
                className
            )}
            {...props}
        />
    );
}

function SidebarInput({ className, ...props }: React.ComponentProps<typeof Input>) {
    return (
        <Input
            data-slot="sidebar-input"
            data-sidebar="input"
            className={cn('bg-background h-8 w-full shadow-none', className)}
            {...props}
        />
    );
}

function SidebarHeader({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="sidebar-header"
            data-sidebar="header"
            className={cn('flex flex-col gap-2 p-2', className)}
            {...props}
        />
    );
}

function SidebarFooter({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="sidebar-footer"
            data-sidebar="footer"
            className={cn('flex flex-col gap-2 p-2', className)}
            {...props}
        />
    );
}

function SidebarSeparator({ className, ...props }: React.ComponentProps<typeof Separator>) {
    return (
        <Separator
            data-slot="sidebar-separator"
            data-sidebar="separator"
            className={cn('bg-sidebar-border mx-2 w-auto', className)}
            {...props}
        />
    );
}

function SidebarContent({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="sidebar-content"
            data-sidebar="content"
            className={cn(
                'flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden',
                className
            )}
            {...props}
        />
    );
}

function SidebarGroup({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="sidebar-group"
            data-sidebar="group"
            className={cn('relative flex w-full min-w-0 flex-col p-2', className)}
            {...props}
        />
    );
}

function SidebarGroupLabel({
    className,
    asChild = false,
    ...props
}: React.ComponentProps<'div'> & { asChild?: boolean }) {
    const Comp = asChild ? Slot : 'div';

    return (
        <Comp
            data-slot="sidebar-group-label"
            data-sidebar="group-label"
            className={cn(
                'text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',
                'group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0',
                className
            )}
            {...props}
        />
    );
}

function SidebarGroupAction({
    className,
    asChild = false,
    ...props
}: React.ComponentProps<'button'> & { asChild?: boolean }) {
    const Comp = asChild ? Slot : 'button';

    return (
        <Comp
            data-slot="sidebar-group-action"
            data-sidebar="group-action"
            className={cn(
                'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',
                // Increases the hit area of the button on mobile.
                'after:absolute after:-inset-2 md:after:hidden',
                'group-data-[collapsible=icon]:hidden',
                className
            )}
            {...props}
        />
    );
}

function SidebarGroupContent({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="sidebar-group-content"
            data-sidebar="group-content"
            className={cn('w-full text-sm', className)}
            {...props}
        />
    );
}

function SidebarMenu({ className, ...props }: React.ComponentProps<'ul'>) {
    return (
        <ul
            data-slot="sidebar-menu"
            data-sidebar="menu"
            className={cn('flex w-full min-w-0 flex-col gap-1', className)}
            {...props}
        />
    );
}

function SidebarMenuItem({ className, ...props }: React.ComponentProps<'li'>) {
    return (
        <li
            data-slot="sidebar-menu-item"
            data-sidebar="menu-item"
            className={cn('group/menu-item relative', className)}
            {...props}
        />
    );
}

const sidebarMenuButtonVariants = cva(
    'peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0',
    {
        variants: {
            variant: {
                default: 'hover:bg-sidebar-accent hover:text-sidebar-accent-foreground',
                outline:
                    'bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]'
            },
            size: {
                default: 'h-8 text-sm',
                sm: 'h-7 text-xs',
                lg: 'h-12 text-sm group-data-[collapsible=icon]:p-0!'
            }
        },
        defaultVariants: {
            variant: 'default',
            size: 'default'
        }
    }
);

function SidebarMenuButton({
    asChild = false,
    isActive = false,
    variant = 'default',
    size = 'default',
    tooltip,
    className,
    ...props
}: React.ComponentProps<'button'> & {
    asChild?: boolean;
    isActive?: boolean;
    tooltip?: string | React.ComponentProps<typeof TooltipContent>;
} & VariantProps<typeof sidebarMenuButtonVariants>) {
    const Comp = asChild ? Slot : 'button';
    const { isMobile, state } = useSidebar();

    const button = (
        <Comp
            data-slot="sidebar-menu-button"
            data-sidebar="menu-button"
            data-size={size}
            data-active={isActive}
            className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
            {...props}
        />
    );

    if (!tooltip) {
        return button;
    }

    if (typeof tooltip === 'string') {
        tooltip = {
            children: tooltip
        };
    }

    return (
        <Tooltip>
            <TooltipTrigger asChild>{button}</TooltipTrigger>
            <TooltipContent side="right" align="center" hidden={state !== 'collapsed' || isMobile} {...tooltip} />
        </Tooltip>
    );
}

function SidebarMenuAction({
    className,
    asChild = false,
    showOnHover = false,
    ...props
}: React.ComponentProps<'button'> & {
    asChild?: boolean;
    showOnHover?: boolean;
}) {
    const Comp = asChild ? Slot : 'button';

    return (
        <Comp
            data-slot="sidebar-menu-action"
            data-sidebar="menu-action"
            className={cn(
                'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0',
                // Increases the hit area of the button on mobile.
                'after:absolute after:-inset-2 md:after:hidden',
                'peer-data-[size=sm]/menu-button:top-1',
                'peer-data-[size=default]/menu-button:top-1.5',
                'peer-data-[size=lg]/menu-button:top-2.5',
                'group-data-[collapsible=icon]:hidden',
                showOnHover &&
                    'peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0',
                className
            )}
            {...props}
        />
    );
}

function SidebarMenuBadge({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="sidebar-menu-badge"
            data-sidebar="menu-badge"
            className={cn(
                'text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none',
                'peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground',
                'peer-data-[size=sm]/menu-button:top-1',
                'peer-data-[size=default]/menu-button:top-1.5',
                'peer-data-[size=lg]/menu-button:top-2.5',
                'group-data-[collapsible=icon]:hidden',
                className
            )}
            {...props}
        />
    );
}

function SidebarMenuSkeleton({
    className,
    showIcon = false,
    ...props
}: React.ComponentProps<'div'> & {
    showIcon?: boolean;
}) {
    // Random width between 50 to 90%.
    const width = React.useMemo(() => {
        return `${Math.floor(Math.random() * 40) + 50}%`;
    }, []);

    return (
        <div
            data-slot="sidebar-menu-skeleton"
            data-sidebar="menu-skeleton"
            className={cn('flex h-8 items-center gap-2 rounded-md px-2', className)}
            {...props}
        >
            {showIcon && <Skeleton className="size-4 rounded-md" data-sidebar="menu-skeleton-icon" />}
            <Skeleton
                className="h-4 max-w-(--skeleton-width) flex-1"
                data-sidebar="menu-skeleton-text"
                style={
                    {
                        '--skeleton-width': width
                    } as React.CSSProperties
                }
            />
        </div>
    );
}

function SidebarMenuSub({ className, ...props }: React.ComponentProps<'ul'>) {
    return (
        <ul
            data-slot="sidebar-menu-sub"
            data-sidebar="menu-sub"
            className={cn(
                'border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5',
                'group-data-[collapsible=icon]:hidden',
                className
            )}
            {...props}
        />
    );
}

function SidebarMenuSubItem({ className, ...props }: React.ComponentProps<'li'>) {
    return (
        <li
            data-slot="sidebar-menu-sub-item"
            data-sidebar="menu-sub-item"
            className={cn('group/menu-sub-item relative', className)}
            {...props}
        />
    );
}

function SidebarMenuSubButton({
    asChild = false,
    size = 'md',
    isActive = false,
    className,
    ...props
}: React.ComponentProps<'a'> & {
    asChild?: boolean;
    size?: 'sm' | 'md';
    isActive?: boolean;
}) {
    const Comp = asChild ? Slot : 'a';

    return (
        <Comp
            data-slot="sidebar-menu-sub-button"
            data-sidebar="menu-sub-button"
            data-size={size}
            data-active={isActive}
            className={cn(
                'text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0',
                'data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground',
                size === 'sm' && 'text-xs',
                size === 'md' && 'text-sm',
                'group-data-[collapsible=icon]:hidden',
                className
            )}
            {...props}
        />
    );
}

export {
    Sidebar,
    SidebarContent,
    SidebarFooter,
    SidebarGroup,
    SidebarGroupAction,
    SidebarGroupContent,
    SidebarGroupLabel,
    SidebarHeader,
    SidebarInput,
    SidebarInset,
    SidebarMenu,
    SidebarMenuAction,
    SidebarMenuBadge,
    SidebarMenuButton,
    SidebarMenuItem,
    SidebarMenuSkeleton,
    SidebarMenuSub,
    SidebarMenuSubButton,
    SidebarMenuSubItem,
    SidebarProvider,
    SidebarRail,
    SidebarSeparator,
    SidebarTrigger,
    useSidebar
};
PK
build-template/src/frontend/src/components/ui/alert.tsximport * as React from 'react';
import { cva, type VariantProps } from 'class-variance-authority';

import { cn } from '@/lib/utils';

const alertVariants = cva(
    'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',
    {
        variants: {
            variant: {
                default: 'bg-card text-card-foreground',
                destructive:
                    'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90'
            }
        },
        defaultVariants: {
            variant: 'default'
        }
    }
);

function Alert({ className, variant, ...props }: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {
    return <div data-slot="alert" role="alert" className={cn(alertVariants({ variant }), className)} {...props} />;
}

function AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="alert-title"
            className={cn('col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight', className)}
            {...props}
        />
    );
}

function AlertDescription({ className, ...props }: React.ComponentProps<'div'>) {
    return (
        <div
            data-slot="alert-description"
            className={cn(
                'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',
                className
            )}
            {...props}
        />
    );
}

export { Alert, AlertTitle, AlertDescription };
PK
frontend/src/components/ExternalEnergyDisplay.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Zap, TrendingUp, Activity, AlertCircle, CheckCircle2, RefreshCw } from 'lucide-react';
import { ExternalEnergyConnector, type ExternalEnergyData } from '../lib/externalEnergyConnector';

export default function ExternalEnergyDisplay() {
  const [energyData, setEnergyData] = useState<ExternalEnergyData | null>(null);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    const fetchEnergyData = async () => {
      setIsLoading(true);
      const data = await ExternalEnergyConnector.getEnergyData();
      setEnergyData(data);
      setIsLoading(false);
    };

    // Initial fetch
    fetchEnergyData();

    // Update every 5 seconds
    const interval = setInterval(fetchEnergyData, 5000);

    return () => clearInterval(interval);
  }, []);

  if (isLoading && !energyData) {
    return (
      <Card className="hover:shadow-lg transition-all border-amber-500/20 bg-gradient-to-br from-card to-card/50">
        <CardHeader className="pb-3">
          <CardTitle className="text-sm font-medium flex items-center gap-2">
            <Zap className="h-4 w-4 text-amber-500" />
            
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div className="flex items-center justify-center h-16">
            <RefreshCw className="h-6 w-6 animate-spin text-muted-foreground" />
          </div>
        </CardContent>
      </Card>
    );
  }

  const getStatusIcon = () => {
    if (!energyData) return <AlertCircle className="h-3 w-3 text-red-500" />;
    
    switch (energyData.status) {
      case 'success':
        return <CheckCircle2 className="h-3 w-3 text-green-500" />;
      case 'cached':
        return <Activity className="h-3 w-3 text-blue-500" />;
      case 'timeout':
      case 'error':
        return <AlertCircle className="h-3 w-3 text-red-500" />;
    }
  };

  const getStatusText = () => {
    if (!energyData) return '';
    
    switch (energyData.status) {
      case 'success':
        return '';
      case 'cached':
        return '';
      case 'timeout':
        return '';
      case 'error':
        return '';
    }
  };

  return (
    <Card className="hover:shadow-lg transition-all border-amber-500/20 bg-gradient-to-br from-card to-card/50">
      <CardHeader className="pb-3">
        <CardTitle className="text-sm font-medium flex items-center gap-2">
          <Zap className="h-4 w-4 text-amber-500" />
          
        </CardTitle>
        <CardDescription className="flex items-center gap-1 text-xs">
          {getStatusIcon()}
          {getStatusText()}
        </CardDescription>
      </CardHeader>
      <CardContent>
        <div className="space-y-3">
          <div>
            <div className="flex items-center justify-between mb-1">
              <span className="text-xs text-muted-foreground"></span>
              <span className="text-lg font-bold">{energyData?.balance.toFixed(2) || '0.00'}</span>
            </div>
            <Progress value={Math.min((energyData?.balance || 0) / 1000 * 100, 100)} className="h-1.5" />
          </div>

          <div className="grid grid-cols-2 gap-2 text-xs">
            <div className="p-2 rounded bg-muted/30">
              <div className="flex items-center gap-1 mb-1">
                <TrendingUp className="h-3 w-3 text-green-500" />
                <span className="text-muted-foreground"></span>
              </div>
              <p className="font-semibold">{energyData?.rate.toFixed(2) || '0.00'}/s</p>
            </div>

            <div className="p-2 rounded bg-muted/30">
              <div className="flex items-center gap-1 mb-1">
                <Activity className="h-3 w-3 text-blue-500" />
                <span className="text-muted-foreground"></span>
              </div>
              <p className="font-semibold">{energyData?.totalFlux.toFixed(0) || '0'}</p>
            </div>
          </div>
        </div>
      </CardContent>
    </Card>
  );
}
PK
frontend/src/components/UnifiedErrorBoundary.tsximport { Component, ReactNode } from 'react';
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';
import { Button } from '@/components/ui/button';
import { AlertCircle, RefreshCw } from 'lucide-react';

interface Props {
  children: ReactNode;
  fallback?: ReactNode;
}

interface State {
  hasError: boolean;
  error: Error | null;
}

export default class UnifiedErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false, error: null };
  }

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    console.error('Unified Error Boundary caught an error:', error, errorInfo);
  }

  handleReset = () => {
    this.setState({ hasError: false, error: null });
    window.location.reload();
  };

  render() {
    if (this.state.hasError) {
      if (this.props.fallback) {
        return this.props.fallback;
      }

      return (
        <div className="container px-4 py-12 md:px-8">
          <Alert variant="destructive" className="max-w-2xl mx-auto">
            <AlertCircle className="h-5 w-5" />
            <AlertTitle className="text-lg font-semibold"></AlertTitle>
            <AlertDescription className="mt-2 space-y-3">
              <p></p>
              {this.state.error && (
                <details className="mt-2">
                  <summary className="cursor-pointer text-sm font-medium"></summary>
                  <pre className="mt-2 text-xs bg-destructive/10 p-3 rounded overflow-auto">
                    {this.state.error.message}
                  </pre>
                </details>
              )}
              <Button onClick={this.handleReset} className="gap-2 mt-4">
                <RefreshCw className="h-4 w-4" />
                
              </Button>
            </AlertDescription>
          </Alert>
        </div>
      );
    }

    return this.props.children;
  }
}
PK
build-template/src/frontend/eslint-rules/require-internet-identity-provider.js// eslint-rules/require-internet-identity-provider.js

import fs from 'fs';
import path from 'path';

export default {
    meta: {
        type: 'problem',
        docs: {
            description: 'Ensure InternetIdentityProvider is present when using Internet Identity hooks',
            recommended: true
        },
        messages: {
            hookUsedWithoutProvider:
                "Using {{hookName}}. Make sure InternetIdentityProvider is added in main.tsx or App.tsx. E.g. <InternetIdentityProvider> <App /> </InternetIdentityProvider>.  Import it using: import { useInternetIdentity } from './hooks/useInternetIdentity'"
        },
        schema: [
            {
                type: 'object',
                properties: {
                    checkAllFiles: {
                        type: 'boolean',
                        default: true
                    }
                },
                additionalProperties: false
            }
        ]
    },
    create(context) {
        const options = context.options[0] || {};
        const checkAllFiles = options.checkAllFiles !== false;
        const filename = context.getFilename();
        const hookUsages = [];
        const identityHooks = ['useInternetIdentity', 'useAuthClient', 'useIdentity', 'useAuth'];
        const importedHooks = new Set();

        // Cache for provider check across files
        let providerCheckCache = null;

        // Determine if an import source refers to the Internet Identity hook module
        function isInternetIdentityHookSource(sourceValue) {
            if (typeof sourceValue !== 'string') return false;
            // Legacy package name
            if (sourceValue === 'ic-use-internet-identity') return true;
            // Any path (relative or alias) that ends with hooks/useInternetIdentity(.ts|.tsx|.js|.jsx)
            const normalized = sourceValue.replace(/\\/g, '/');
            return /(^|\/)hooks\/useInternetIdentity(\.(t|j)sx?)?$/.test(normalized);
        }

        // Function to check if provider exists in main.tsx or App.tsx
        function checkProviderInEntryFiles() {
            if (providerCheckCache !== null) {
                return providerCheckCache;
            }

            const cwd = context.getCwd ? context.getCwd() : process.cwd();
            const srcDir = path.join(cwd, 'src');
            const filesToCheck = ['main.tsx', 'App.tsx'];

            for (const file of filesToCheck) {
                const filePath = path.join(srcDir, file);
                try {
                    if (fs.existsSync(filePath)) {
                        const content = fs.readFileSync(filePath, 'utf8');
                        // Check for InternetIdentityProvider usage
                        if (content.includes('InternetIdentityProvider')) {
                            // More specific check for JSX usage
                            const providerRegex = /<InternetIdentityProvider[\s>]/;
                            if (providerRegex.test(content)) {
                                providerCheckCache = true;
                                return true;
                            }
                        }
                    }
                } catch (error) {
                    // Ignore file read errors
                }
            }

            providerCheckCache = false;
            return false;
        }

        return {
            // Check for imports from ic-use-internet-identity
            ImportDeclaration(node) {
                if (isInternetIdentityHookSource(node.source.value)) {
                    node.specifiers.forEach((spec) => {
                        if (spec.type === 'ImportSpecifier' && identityHooks.includes(spec.imported.name)) {
                            importedHooks.add(spec.imported.name);
                        }
                    });
                }
            },

            // Check for hook usage
            CallExpression(node) {
                if (node.callee.type === 'Identifier' && importedHooks.has(node.callee.name)) {
                    hookUsages.push({
                        node: node,
                        hookName: node.callee.name
                    });
                }
            },

            // Check at the end of the file
            'Program:exit'() {
                if (hookUsages.length === 0) return;

                // Check if provider exists in main.tsx or App.tsx
                const hasProviderInEntryFiles = checkProviderInEntryFiles();

                if (checkAllFiles && !hasProviderInEntryFiles) {
                    // Only report once per file to avoid spam
                    context.report({
                        node: hookUsages[0].node,
                        messageId: 'hookUsedWithoutProvider',
                        data: {
                            hookName: hookUsages[0].hookName
                        }
                    });
                }
            }
        };
    }
};
PK
frontend/src/main.tsximport ReactDOM from 'react-dom/client';
import { InternetIdentityProvider } from './hooks/useInternetIdentity';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import App from './App';
import './index.css';

const queryClient = new QueryClient();

ReactDOM.createRoot(document.getElementById('root')!).render(
    <QueryClientProvider client={queryClient}>
        <InternetIdentityProvider>
            <App />
        </InternetIdentityProvider>
    </QueryClientProvider>
);
PK
frontend/src/pages/WuDaoPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Compass, Target, Mountain, Infinity } from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

export default function WuDaoPage() {
  const [moduleState, setModuleState] = useState(unifiedArchitecture.getModuleState('wu-dao'));
  const [philosophyLevel, setPhilosophyLevel] = useState(58);
  const [enlightenmentProgress, setEnlightenmentProgress] = useState(45);

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const state = unifiedArchitecture.getModuleState('wu-dao');
      setModuleState(state);
      
      setPhilosophyLevel(prev => Math.min(100, prev + Math.random() * 0.3));
      setEnlightenmentProgress(prev => Math.min(100, prev + Math.random() * 0.2));
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  const stages = [
    { name: '', level: '', progress: 95, icon: Target, color: 'text-blue-500' },
    { name: '', level: '', progress: 72, icon: Compass, color: 'text-green-500' },
    { name: '', level: '', progress: 48, icon: Mountain, color: 'text-purple-500' },
    { name: '', level: '', progress: 15, icon: Infinity, color: 'text-amber-500' },
  ];

  return (
    <div className="container px-4 py-8 md:px-8 relative">
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-purple-500/20 to-amber-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
      </div>

      <div className="relative z-10 space-y-8">
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-purple-600 to-amber-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <Compass className="h-8 w-8 text-white" />
            </div>
            <div>
              <h1 className="text-3xl font-bold bg-gradient-to-r from-purple-600 via-amber-500 to-purple-600 bg-clip-text text-transparent">
                
              </h1>
              <p className="text-muted-foreground">  </p>
            </div>
          </div>

          {moduleState && (
            <div className="flex items-center gap-3">
              <Badge variant={moduleState.isActive ? "default" : "secondary"} className="gap-2">
                <div className={`h-2 w-2 rounded-full ${moduleState.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'}`}></div>
                {moduleState.isActive ? '' : ''}
              </Badge>
              <Badge variant="outline">: {Math.round(moduleState.healthScore * 100)}%</Badge>
              <Badge variant="outline">: {Math.round(moduleState.syncQuality * 100)}%</Badge>
            </div>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Mountain className="h-4 w-4 text-purple-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(philosophyLevel)}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={philosophyLevel} className="mt-2 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Infinity className="h-4 w-4 text-amber-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(enlightenmentProgress)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={enlightenmentProgress} className="mt-2 h-2" />
            </CardContent>
          </Card>
        </div>

        <Card>
          <CardHeader>
            <CardTitle>  </CardTitle>
            <CardDescription></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
              {stages.map((stage) => {
                const Icon = stage.icon;
                return (
                  <div key={stage.name} className="p-4 rounded-lg border border-border/50 hover:border-primary/50 transition-all space-y-3">
                    <div className="flex items-center justify-between">
                      <div className="flex items-center gap-2">
                        <Icon className={`h-6 w-6 ${stage.color}`} />
                        <div>
                          <p className="font-bold text-lg">{stage.name}</p>
                          <p className="text-xs text-muted-foreground">{stage.level}</p>
                        </div>
                      </div>
                    </div>
                    <Progress value={stage.progress} className="h-2" />
                    <p className="text-sm text-muted-foreground">{stage.progress}% </p>
                  </div>
                );
              })}
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="relative h-64 bg-muted/20 rounded-lg border border-border/50 overflow-hidden">
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="relative">
                  <div className="absolute inset-0 bg-gradient-to-br from-purple-500/40 to-amber-500/40 rounded-full blur-2xl animate-qi-pulse"></div>
                  <div className="relative h-32 w-32 rounded-full bg-gradient-to-br from-purple-600 to-amber-600 flex items-center justify-center shadow-2xl border-4 border-white/20">
                    <div className="text-center text-white">
                      <Compass className="h-12 w-12 mx-auto mb-1 animate-qi-pulse" />
                      <p className="text-xs font-bold"></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
frontend/src/hooks/PK
frontend/src/hooks/useQueries.tsimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { useActor } from './useActor';
import type { EnergyTransaction, UserProfile, HourlyPayoutRecord, UserRole } from '../backend';
import { UniverseEnergyConnector } from '../lib/universeEnergyConnector';

// User Profile Queries with defensive null handling
export function useGetCallerUserProfile() {
  const { actor, isFetching: actorFetching } = useActor();

  const query = useQuery<UserProfile | null>({
    queryKey: ['currentUserProfile'],
    queryFn: async () => {
      if (!actor) {
        console.warn('[useQueries] Actor not available for profile fetch');
        return null;
      }
      try {
        const profile = await actor.getCallerUserProfile();
        return profile ?? null;
      } catch (error) {
        console.error('[useQueries] Error fetching user profile:', error);
        return null;
      }
    },
    enabled: !!actor && !actorFetching,
    retry: false,
    staleTime: 0,
    gcTime: 0,
  });

  return {
    ...query,
    isLoading: actorFetching || query.isLoading,
    isFetched: !!actor && query.isFetched,
  };
}

export function useSaveCallerUserProfile() {
  const { actor } = useActor();
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (profile: UserProfile) => {
      if (!actor) throw new Error('Actor not available');
      if (!profile || !profile.name) throw new Error('Invalid profile data');
      await actor.saveCallerUserProfile(profile);
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['currentUserProfile'] });
    },
    onError: (error) => {
      console.error('[useQueries] Error saving user profile:', error);
    },
  });
}

// User Role Queries with no caching for fresh role data and defensive null handling
export function useGetCallerUserRole() {
  const { actor, isFetching: actorFetching } = useActor();

  const query = useQuery<UserRole>({
    queryKey: ['callerUserRole'],
    queryFn: async () => {
      if (!actor) {
        console.warn('[useQueries] Actor not available for role fetch');
        throw new Error('Actor not available');
      }
      try {
        const role = await actor.getCallerUserRole();
        if (!role) {
          console.warn('[useQueries] No role returned from backend');
          return 'guest' as UserRole;
        }
        return role;
      } catch (error) {
        console.error('[useQueries] Error fetching user role:', error);
        return 'guest' as UserRole;
      }
    },
    enabled: !!actor && !actorFetching,
    retry: false,
    staleTime: 0,
    gcTime: 0,
    refetchOnMount: 'always',
    refetchOnWindowFocus: false,
  });

  return {
    ...query,
    isLoading: actorFetching || query.isLoading,
    isFetched: !!actor && query.isFetched,
  };
}

// Subscription Queries with cache validation and defensive null handling
export function useGetCallerSubscriptionStatus() {
  const { actor, isFetching } = useActor();

  return useQuery({
    queryKey: ['subscriptionStatus'],
    queryFn: async () => {
      if (!actor) {
        console.warn('[useQueries] Actor not available for subscription status');
        return null;
      }
      try {
        const status = await actor.getCallerSubscriptionStatus();
        return status ?? null;
      } catch (error) {
        console.error('[useQueries] Error fetching subscription status:', error);
        return null;
      }
    },
    enabled: !!actor && !isFetching,
    staleTime: 30000,
    refetchInterval: 60000,
    retry: 1,
  });
}

export function useProcessSubscriptionPayment() {
  const { actor } = useActor();
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async ({ transactionHash, amount }: { transactionHash: string; amount: bigint }) => {
      if (!actor) throw new Error('Actor not available');
      if (!transactionHash || transactionHash.trim() === '') throw new Error('Invalid transaction hash');
      if (amount <= BigInt(0)) throw new Error('Invalid payment amount');
      await actor.processSubscriptionPayment(transactionHash, amount);
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['subscriptionStatus'] });
      queryClient.invalidateQueries({ queryKey: ['energyBalance'] });
      queryClient.invalidateQueries({ queryKey: ['energyTransactionHistory'] });
      queryClient.invalidateQueries({ queryKey: ['hourlyPayoutHistory'] });
    },
    onError: (error) => {
      console.error('[useQueries] Error processing subscription payment:', error);
    },
  });
}

// Hourly Developer Reward Queries with defensive null handling
export function useGetHourlyPayoutHistory(count: number = 50) {
  const { actor, isFetching } = useActor();

  return useQuery<HourlyPayoutRecord[]>({
    queryKey: ['hourlyPayoutHistory', count],
    queryFn: async () => {
      if (!actor) {
        console.warn('[useQueries] Actor not available for payout history');
        return [];
      }
      try {
        const history = await actor.getHourlyPayoutHistory(BigInt(Math.max(1, count)));
        return history ?? [];
      } catch (error) {
        console.error('[useQueries] Error fetching payout history:', error);
        return [];
      }
    },
    enabled: !!actor && !isFetching,
    staleTime: 30000,
    refetchInterval: 60000,
    retry: 1,
  });
}

export function useDistributeHourlyDeveloperReward() {
  const { actor } = useActor();
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async () => {
      if (!actor) throw new Error('Actor not available');
      await actor.distributeHourlyDeveloperReward();
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['hourlyPayoutHistory'] });
      queryClient.invalidateQueries({ queryKey: ['subscriptionStatus'] });
    },
    onError: (error) => {
      console.error('[useQueries] Error distributing developer reward:', error);
    },
  });
}

// Energy Coin Queries with defensive null handling
export function useGetCallerEnergyBalance() {
  const { actor, isFetching } = useActor();

  return useQuery<bigint>({
    queryKey: ['energyBalance'],
    queryFn: async () => {
      if (!actor) {
        console.warn('[useQueries] Actor not available for energy balance');
        return BigInt(0);
      }
      try {
        const balance = await actor.getCallerEnergyBalance();
        return balance ?? BigInt(0);
      } catch (error) {
        console.error('[useQueries] Error fetching energy balance:', error);
        return BigInt(0);
      }
    },
    enabled: !!actor && !isFetching,
    staleTime: 10000,
    refetchInterval: 30000,
    retry: 1,
  });
}

export function useGetCallerEnergyTransactionHistory() {
  const { actor, isFetching } = useActor();

  return useQuery<EnergyTransaction[]>({
    queryKey: ['energyTransactionHistory'],
    queryFn: async () => {
      if (!actor) {
        console.warn('[useQueries] Actor not available for transaction history');
        return [];
      }
      try {
        const history = await actor.getCallerEnergyTransactionHistory();
        return history ?? [];
      } catch (error) {
        console.error('[useQueries] Error fetching transaction history:', error);
        return [];
      }
    },
    enabled: !!actor && !isFetching,
    staleTime: 30000,
    retry: 1,
  });
}

// Energy Coin Mutations with defensive validation
export function useAwardTaskCompletionEnergy() {
  const { actor } = useActor();
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (taskDescription: string) => {
      if (!actor) throw new Error('Actor not available');
      if (!taskDescription || taskDescription.trim() === '') throw new Error('Invalid task description');
      await actor.awardTaskCompletionEnergy(taskDescription);
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['energyBalance'] });
      queryClient.invalidateQueries({ queryKey: ['energyTransactionHistory'] });
    },
    onError: (error) => {
      console.error('[useQueries] Error awarding task completion energy:', error);
    },
  });
}

export function useAwardAIInteractionEnergy() {
  const { actor } = useActor();
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async (interactionDescription: string) => {
      if (!actor) throw new Error('Actor not available');
      if (!interactionDescription || interactionDescription.trim() === '') throw new Error('Invalid interaction description');
      await actor.awardAIInteractionEnergy(interactionDescription);
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['energyBalance'] });
      queryClient.invalidateQueries({ queryKey: ['energyTransactionHistory'] });
    },
    onError: (error) => {
      console.error('[useQueries] Error awarding AI interaction energy:', error);
    },
  });
}

export function useConsumeEnergyForCultivation() {
  const { actor } = useActor();
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: async ({ amount, description }: { amount: bigint; description: string }) => {
      if (!actor) throw new Error('Actor not available');
      if (amount <= BigInt(0)) throw new Error('Invalid energy amount');
      if (!description || description.trim() === '') throw new Error('Invalid cultivation description');
      await actor.consumeEnergyForCultivation(amount, description);
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['energyBalance'] });
      queryClient.invalidateQueries({ queryKey: ['energyTransactionHistory'] });
    },
    onError: (error) => {
      console.error('[useQueries] Error consuming energy:', error);
    },
  });
}

// Stripe-related queries with defensive null handling
export function useIsStripeConfigured() {
  const { actor, isFetching } = useActor();

  return useQuery<boolean>({
    queryKey: ['isStripeConfigured'],
    queryFn: async () => {
      if (!actor) {
        console.warn('[useQueries] Actor not available for Stripe config check');
        return false;
      }
      try {
        const configured = await actor.isStripeConfigured();
        return configured ?? false;
      } catch (error) {
        console.error('[useQueries] Error checking Stripe configuration:', error);
        return false;
      }
    },
    enabled: !!actor && !isFetching,
    staleTime: 30000,
    refetchOnWindowFocus: false,
    retry: 1,
  });
}

// Universe Energy Query with optimized fallback mechanism and defensive null handling
export function useGetUniverseEnergy() {
  return useQuery({
    queryKey: ['universeEnergy'],
    queryFn: async () => {
      try {
        const result = await UniverseEnergyConnector.getScore();
        if (!result || typeof result.score !== 'number') {
          console.warn('[useQueries] Invalid universe energy data received');
          return { score: 0, timestamp: Date.now(), status: 'error' as const };
        }
        return result;
      } catch (error) {
        console.error('[useQueries] Error fetching universe energy:', error);
        return { score: 0, timestamp: Date.now(), status: 'error' as const };
      }
    },
    refetchInterval: 3000,
    staleTime: 2000,
    retry: 1,
    retryDelay: 1000,
    refetchOnWindowFocus: false,
    refetchOnReconnect: true,
    placeholderData: (previousData) => previousData,
  });
}
PK
frontend/src/utils/PK
frontend/src/utils/urlParams.ts/**
 * Utility functions for parsing and managing URL parameters
 * Works with both hash-based and browser-based routing
 */

/**
 * Extracts a URL parameter from the current URL
 * Works with both query strings (?param=value) and hash-based routing (#/?param=value)
 *
 * @param paramName - The name of the parameter to extract
 * @returns The parameter value if found, null otherwise
 */
export function getUrlParameter(paramName: string): string | null {
    // Try to get from regular query string first
    const urlParams = new URLSearchParams(window.location.search);
    const regularParam = urlParams.get(paramName);

    if (regularParam !== null) {
        return regularParam;
    }

    // If not found, try to extract from hash (for hash-based routing)
    const hash = window.location.hash;
    const queryStartIndex = hash.indexOf('?');

    if (queryStartIndex !== -1) {
        const hashQuery = hash.substring(queryStartIndex + 1);
        const hashParams = new URLSearchParams(hashQuery);
        return hashParams.get(paramName);
    }

    return null;
}

/**
 * Stores a parameter in sessionStorage for persistence across navigation
 * Useful for maintaining state like admin tokens throughout the session
 *
 * @param key - The key to store the value under
 * @param value - The value to store
 */
export function storeSessionParameter(key: string, value: string): void {
    try {
        sessionStorage.setItem(key, value);
    } catch (error) {
        console.warn(`Failed to store session parameter ${key}:`, error);
    }
}

/**
 * Retrieves a parameter from sessionStorage
 *
 * @param key - The key to retrieve
 * @returns The stored value if found, null otherwise
 */
export function getSessionParameter(key: string): string | null {
    try {
        return sessionStorage.getItem(key);
    } catch (error) {
        console.warn(`Failed to retrieve session parameter ${key}:`, error);
        return null;
    }
}

/**
 * Gets a parameter from URL or sessionStorage (URL takes precedence)
 * If found in URL, also stores it in sessionStorage for future use
 *
 * @param paramName - The name of the parameter to retrieve
 * @param storageKey - Optional custom storage key (defaults to paramName)
 * @returns The parameter value if found, null otherwise
 */
export function getPersistedUrlParameter(paramName: string, storageKey?: string): string | null {
    const key = storageKey || paramName;

    // Check URL first
    const urlValue = getUrlParameter(paramName);
    if (urlValue !== null) {
        // Store in session for persistence
        storeSessionParameter(key, urlValue);
        return urlValue;
    }

    // Fall back to session storage
    return getSessionParameter(key);
}

/**
 * Removes a parameter from sessionStorage
 *
 * @param key - The key to remove
 */
export function clearSessionParameter(key: string): void {
    try {
        sessionStorage.removeItem(key);
    } catch (error) {
        console.warn(`Failed to clear session parameter ${key}:`, error);
    }
}

/**
 * Removes a specific parameter from the URL hash without reloading the page
 * Preserves route information and other parameters in the hash
 * Used to remove sensitive data from the address bar after extracting it
 *
 * @param paramName - The parameter to remove from the hash
 *
 * @example
 * // URL: https://app.com/#/dashboard?caffeineAdminToken=xxx&other=value
 * // After clearParamFromHash('caffeineAdminToken')
 * // URL: https://app.com/#/dashboard?other=value
 */
function clearParamFromHash(paramName: string): void {
    if (!window.history.replaceState) {
        return;
    }

    const hash = window.location.hash;
    if (!hash || hash.length <= 1) {
        return;
    }

    // Remove the leading #
    const hashContent = hash.substring(1);

    // Split route path from query string
    const queryStartIndex = hashContent.indexOf('?');

    if (queryStartIndex === -1) {
        // No query string in hash, nothing to remove
        return;
    }

    const routePath = hashContent.substring(0, queryStartIndex);
    const queryString = hashContent.substring(queryStartIndex + 1);

    // Parse and remove the specific parameter
    const params = new URLSearchParams(queryString);
    params.delete(paramName);

    // Reconstruct the URL
    const newQueryString = params.toString();
    let newHash = routePath;

    if (newQueryString) {
        newHash += '?' + newQueryString;
    }

    // If we still have content in the hash, keep it; otherwise remove the hash entirely
    const newUrl = window.location.pathname + window.location.search + (newHash ? '#' + newHash : '');
    window.history.replaceState(null, '', newUrl);
}

/**
 * Gets a secret from the URL hash fragment only (more secure than query params)
 * Hash fragments aren't sent to servers or logged in access logs
 * The hash is immediately cleared from the URL after extraction to prevent history leakage
 *
 * Usage: https://yourapp.com/#secret=xxx
 *
 * @param paramName - The name of the secret parameter
 * @returns The secret value if found (from hash or session), null otherwise
 */
export function getSecretFromHash(paramName: string): string | null {
    // Check session first to avoid unnecessary URL manipulation
    const existingSecret = getSessionParameter(paramName);
    if (existingSecret !== null) {
        return existingSecret;
    }

    // Try to extract from hash
    const hash = window.location.hash;
    if (!hash || hash.length <= 1) {
        return null;
    }

    // Remove the leading #
    const hashContent = hash.substring(1);
    const params = new URLSearchParams(hashContent);
    const secret = params.get(paramName);

    if (secret) {
        // Store in session for persistence
        storeSessionParameter(paramName, secret);
        // Immediately clear the secret parameter from URL to avoid history leakage
        clearParamFromHash(paramName);
        return secret;
    }

    return null;
}

/**
 * Gets a secret parameter with fallback chain: hash -> sessionStorage
 * This is the recommended way to handle sensitive parameters like admin tokens
 *
 * Security benefits over regular URL params:
 * - Hash fragments are not sent to the server
 * - Not logged in server access logs
 * - Not sent in HTTP Referer headers
 * - Automatically cleared from URL after extraction
 *
 * @param paramName - The name of the secret parameter
 * @returns The secret value if found, null otherwise
 */
export function getSecretParameter(paramName: string): string | null {
    return getSecretFromHash(paramName);
}
PK
build-template/src/frontend/postcss.config.jsexport default {
    plugins: {
        tailwindcss: {},
        autoprefixer: {}
    }
};
PK
backend/main.moimport AccessControl "authorization/access-control";
import Stripe "stripe/stripe";
import OutCall "http-outcalls/outcall";
import MixinStorage "blob-storage/Mixin";
import Map "mo:core/Map";
import Array "mo:core/Array";
import Time "mo:core/Time";
import Principal "mo:core/Principal";
import Iter "mo:core/Iter";
import List "mo:core/List";
import Text "mo:core/Text";
import Runtime "mo:core/Runtime";
import Nat "mo:core/Nat";
import Int "mo:core/Int";
import Storage "blob-storage/Storage";

actor {
  include MixinStorage();

  type UserProfile = { name : Text };
  type SubscriptionStatus = {
    #active;
    #expired;
    #pending;
    #none;
  };
  type UserSubscription = {
    userId : Principal;
    status : SubscriptionStatus;
    startDate : Int;
    expiryDate : Int;
    lastPaymentDate : Int;
    paymentHistory : [PaymentRecord];
    lastHourlyRewardDistribution : ?Int;
  };
  type PaymentRecord = { transactionHash : Text; amount : Nat; timestamp : Int; status : Text; wallet1Amount : Nat; wallet2Amount : Nat; verified : Bool };
  type FileRecord = {
    id : Text;
    fileName : Text;
    externalBlob : Storage.ExternalBlob;
    uploadDate : Int;
    uploader : Principal;
    uploaderName : Text;
    source : Text;
    category : Text;
    tags : [Text];
    description : Text;
    accessLevel : Text;
  };
  type FileStats = { totalFiles : Nat; ipfsCount : Nat; arweaveCount : Nat; publicFiles : Nat; privateFiles : Nat };
  type CreateFileRecordInput = {
    fileName : Text;
    externalBlob : Storage.ExternalBlob;
    uploaderName : Text;
    source : Text;
    category : ?Text;
    tags : ?[Text];
    description : ?Text;
    accessLevel : ?Text;
  };
  type FileUpdateInput = {
    id : Text;
    newFileName : ?Text;
    newExternalBlob : ?Storage.ExternalBlob;
    newSource : ?Text;
    newCategory : ?Text;
    newTags : ?[Text];
    newDescription : ?Text;
    newAccessLevel : ?Text;
  };
  type NetworkModule = {
    id : Text;
    name : Text;
    description : Text;
    status : Text;
    lastSync : Int;
    fileCount : Nat;
    totalFiles : Nat;
    url : Text;
  };
  type NetworkModuleApplication = {
    id : Text;
    name : Text;
    description : Text;
    status : Text;
    lastSync : Int;
    fileCount : Nat;
    totalFiles : Nat;
    url : Text;
  };
  type NeuralHubStatus = {
    url : Text;
    status : Text;
    lastSync : Int;
    connectedModules : [Text];
    totalFileCount : Nat;
    totalIntegrationFiles : Nat;
    totalIntegrationFileCount : Nat;
  };
  type IntegrationModuleStatus = {
    id : Text;
    status : Text;
    lastSync : Int;
    fileCount : Nat;
    url : Text;
  };
  type NetworkVisualTag = {
    id : Text;
    name : Text;
    description : Text;
    status : Text;
    lastSync : Int;
    fileCount : Nat;
    url : Text;
  };
  type NetworkSummary = {
    modules : [NetworkModule];
    neuralHub : NeuralHubStatus;
    stats : FileStats;
  };
  type NetworkModuleFullTag = {
    originalModuleType : NetworkModule;
    name : Text;
    status : Text;
    lastSync : Int;
    fileCount : Nat;
    url : Text;
  };
  type NetworkDataSummary = {
    modules : [NetworkModule];
    neuralHub : NeuralHubStatus;
    stats : FileStats;
    applications : [NetworkModuleApplication];
    status : [IntegrationModuleStatus];
    visualTags : [NetworkVisualTag];
    fullTags : [NetworkModuleFullTag];
  };
  type LFlceiAutoCollectionStatus = {
    nodes : [LFlceiNode];
    syncedNodes : Nat;
    activeSyncs : Nat;
    lastSyncTimestamp : Int;
    totalSyncAttempts : Nat;
    totalSyncErrors : Nat;
    currentSyncCount : Nat;
    currentActivityCount : Nat;
    adaptiveSyncInterval : Int;
    syncBoostMultiplier : Nat;
    syncStatus : Text;
    syncRatioMultiplier : Nat;
    bionicIntegrationFactor : Nat;
    aggregatedSyncMetrics : [SyncMetricAggregates];
    syncStatuses : ?[NodeSyncStatus];
    activeNodes : Nat;
    completedSyncCount : Nat;
    currentSyncMetrics : CurrentSyncMetrics;
    syncDelayCount : Nat;
    syncDelayDuration : Int;
    currentCentroidPosition : CentroidActivityPosition;
  };

  type LFlceiNode = {
    nodeId : Text;
    nodeIdDuplicate : Text;
    nodeType : Text;
    nodeStatus : Text;
    nodeSource : Text;
    lastSync : Int;
    syncCount : Nat;
    activityCount : Nat;
    aggregationCount : Nat;
    lastAggregationTimestamp : Int;
  };

  type NodeSyncStatus = {
    nodeId : Text;
    nodeType : Text;
    lastSync : Int;
    syncCount : Nat;
    activityCount : Nat;
    aggregatedDataCount : Nat;
    lastAggregationTimestamp : Int;
    syncDelayCount : Nat;
    syncDelayDuration : Int;
  };
  type SyncMetricAggregates = {
    nodeId : Text;
    nodeType : Text;
    syncCount : Nat;
    totalSyncCount : Nat;
    aggregatedSyncCount : Nat;
    currentCycleSyncCount : Nat;
    averageSyncDuration : Nat;
    syncDelayCount : Nat;
    syncDelayDuration : Int;
    iterationCount : Nat;
    cycleCount : Nat;
  };
  type CurrentSyncMetrics = {
    syncLatencies : [Int];
    successfulSyncs : Nat;
    retryCount : Nat;
    syncDelayCount : Nat;
    syncErrorCount : Nat;
    failedSyncCount : Nat;
  };
  type CentroidActivityPosition = {
    stableCenter : Text;
    activeCentroid : Text;
    currentPosition : Text;
    lastKnownPosition : Text;
    currentSynchronizationNode : Text;
    currentSyncFactor : Nat;
    currentSyncRatio : Nat;
    adaptiveNodePosition : Nat;
    currentCyclePosition : Nat;
    dynamicSyncInterval : Nat;
    currentCentroidActivity : Nat;
  };
  type IntegrationSyncStatus = {
    lastNetworkSync : Int;
    lastVisualSync : Int;
    modulesCount : Nat;
    applicationsCount : Nat;
    networkSwitch : Int;
    summary : Text;
  };
  type SoulCooperationMetrics = {
    collaborativeActivityCount : Nat;
    harmonyIndex : Nat;
    syncResonanceLevel : Nat;
  };
  type EnlightenmentStage = {
    stageName : Text;
    progress : Nat;
    awakened : Bool;
    enlightenmentEffects : [Text];
    enlightenmentMilestones : [EnlightenmentMilestone];
  };
  type EnlightenmentMilestone = {
    milestoneName : Text;
    milestoneDescription : Text;
    milestoneType : Text;
    milestoneValue : Nat;
    milestoneStatus : Text;
    milestoneTimestamp : Int;
    milestoneVisualEffects : [Text];
    enlightenmentEffects : [EnlightenmentEffect];
  };
  type EnlightenmentEffect = {
    effectName : Text;
    effectDescription : Text;
    effectType : Text;
    effectStrength : Nat;
    effectDuration : Nat;
    effectCategory : Text;
    effectIntensity : Nat;
    effectStatus : Text;
    effectTimestamp : Int;
    effectVisualEffects : [Text];
  };
  type EnlightenmentProgress = {
    currentStage : Text;
    progress : Nat;
    awakenings : Nat;
    milestones : [Text];
  };
  type AwakeningEffect = {
    effectType : Text;
    intensity : Nat;
    duration : Nat;
  };
  type DaoEnlightenmentRecord = {
    id : Text;
    daoStage : Text;
    enlightenmentProgress : EnlightenmentProgress;
    enlightenmentStage : EnlightenmentStage;
    awakeningEffects : [AwakeningEffect];
    enlightenmentStatus : Text;
    uploaderName : Text;
    uploader : Principal;
    repositoryRecord : FileRecord;
    lastUpdate : Int;
    uploadDate : Int;
  };
  type DaoStageRecord = {
    stageId : Text;
    stageName : Text;
    daoLevel : Int;
    progress : Nat;
    awakeningEffects : [AwakeningEffect];
    completionStatus : Text;
    enlightenmentRecord : DaoEnlightenmentRecord;
    lastUpdate : Int;
    uploadDate : Int;
  };
  type DaoInfusionRecord = {
    infusionId : Text;
    infusionName : Text;
    infusionType : Text;
    infusionLevel : Int;
    infusionProgress : Nat;
    fiduciaryValue : Int;
    metamorphosisStatus : Text;
    daoInfusionEffect : EnlightenmentStage;
    lastUpdate : Int;
    uploadDate : Int;
  };
  type GreatDaoEnlightenmentRecord = {
    enlightenmentId : Text;
    enlightenmentName : Text;
    enlightenmentGrade : Int;
    enlightenmentProgress : Nat;
    enlightenmentStatus : Text;
    enlightenmentDefaults : [EnlightenmentMilestone];
    gradeProgress : [Text];
    neidanStatus : Text;
    enlightenmentEffects : [Text];
    repositoryRecord : FileRecord;
    daoMilestoneRecord : DaoEnlightenmentRecord;
    compensationStatus : Text;
    lastUpdate : Int;
    uploadDate : Int;
  };
  type MartialQiIntegration = {
    integrationId : Text;
    integrationName : Text;
    martialQiLevel : Int;
    integrationProgress : Nat;
    integrationType : Text;
    associatedEffects : [Text];
    repositoryRecord : FileRecord;
    enlightenmentAssociation : EnlightenmentStage;
    integrationStatus : Text;
    lastUpdate : Int;
    uploadDate : Int;
  };
  type DaoStageIntegrationRecord = {
    integrationId : Text;
    integrationName : Text;
    integrationType : Text;
    integrationProgress : Nat;
    enlightenmentProgress : EnlightenmentProgress;
    enlightenmentStage : EnlightenmentStage;
    enlightenmentEffects : [Text];
    repositoryRecord : FileRecord;
    associatedDaoStageRecord : DaoStageRecord;
    martialQiIntegrationRecord : MartialQiIntegration;
    integrationStatus : Text;
    lastUpdate : Int;
    uploadDate : Int;
  };
  type GreatDaoEnlightenmentIntegration = {
    integrationId : Text;
    integrationName : Text;
    integrationGroup : Text;
    enlightenmentProgress : Nat;
    enlightenmentStatus : Text;
    enlightenmentEffects : [Text];
    repositoryRecord : FileRecord;
    associatedEnlightenmentRecord : GreatDaoEnlightenmentRecord;
    martialQiIntegrationRecord : MartialQiIntegration;
    integrationDetails : [Text];
    integrationStatus : Text;
    lastUpdate : Nat;
    uploadDate : Nat;
  };
  type DaoStageIntegrationFilters = {
    stageType : ?Text;
    progress : ?Nat;
    enlightenmentName : ?Text;
    repositoryId : ?Text;
    daoLevel : ?Nat;
    daoInfusionLevel : ?Int;
    enlightenmentType : ?Text;
    awakeningValueRange : ?(Int, Int);
    progressRange : ?(Int, Int);
    integrationGroup : ?Text;
    enlightenmentStatus : ?Text;
    integrationType : ?Text;
  };

  type SupremeSovereigntyStage = {
    stageName : Text;
    progress : Nat;
    awakened : Bool;
    enlightenmentEffects : [Text];
    enlightenmentMilestones : [EnlightenmentMilestone];
    divineAura : Nat;
    qiResonance : Nat;
    sovereignPower : Nat;
    completionTimestamp : ?Int;
  };

  type SupremeSovereigntyMilestone = {
    milestoneName : Text;
    milestoneDescription : Text;
    milestoneType : Text;
    milestoneValue : Nat;
    milestoneStatus : Text;
    milestoneTimestamp : Int;
    milestoneVisualEffects : [Text];
    enlightenmentEffects : [EnlightenmentEffect];
    sovereignPotential : Nat;
    divineAwareness : Nat;
  };

  type ArtifactType = {
    #sword;
    #cauldron;
    #arrayMirror;
    #puppetMecha;
  };

  type ArtifactCultivationStage = {
    #artifactControl;
    #spiritFusion;
    #artifactAwakening;
    #artifactTransformation;
    #resonanceAttunement;
  };

  type ArtifactEssence = {
    strength : Nat;
    agility : Nat;
    resilience : Nat;
    spiritualPower : Nat;
    elementalBalance : Nat;
    artifactGrade : Nat;
    artifactPotential : Nat;
    artifactDurability : Nat;
  };

  type ArtifactSpirit = {
    spiritName : Text;
    spiritualEnergyType : Text;
    purityLevel : Nat;
    spiritualClassification : Text;
    spiritualStrength : Nat;
    auraAmplitude : Nat;
    resonanceFrequency : Nat;
    consciousnessDepth : Nat;
    willpowerStrength : Nat;
    innateTalent : Nat;
    evolvedAbilities : [Text];
    manifestationForms : [Text];
    spiritStage : Text;
    transformationProgress : Nat;
    cultivationRealms : Nat;
  };

  type ArtifactState = {
    stableStage : Text;
    synchronizedStage : Text;
    resonanceStage : Text;
    awakeningStatus : Text;
    advancementState : Text;
    grade : Nat;
    stability : Nat;
    cultivationProgress : Int;
    attunementLevel : Nat;
    infusionStatus : Text;
    currentCapacity : Nat;
    compatibilityState : Text;
    spiritualAwakeningStage : Text;
  };

  type ArtifactResonance = {
    resonanceType : Text;
    purityLevel : Nat;
    stability : Int;
    compatibility : Nat;
    elementalResonance : Text;
    spiritualIntegration : Text;
    resonanceProgress : Nat;
    resonanceStage : Text;
  };

  type ArtifactAbility = {
    abilityType : Text;
    proficiencyType : Text;
    skillLevel : Int;
    cultivationProgress : Int;
    amplificationType : Text;
    masteryLevel : Nat;
    attunementLevel : Nat;
    synchronizationLevel : Nat;
  };

  type ArtifactEnergyFlow = {
    frequency : Nat;
    attunement : Nat;
    stability : Int;
    currentLevel : Nat;
    elementalAlignment : Text;
    resonanceFrequency : Nat;
    energyType : Text;
    purity : Nat;
    amplification : Text;
  };

  type MartialArtifact = {
    artifactName : Text;
    artifactType : Text;
    artifactLevel : Nat;
    artifactForm : Text;
    compatibilityLevel : Nat;
    refinementMethods : [Text];
    attunementType : Text;
    elementType : Text;
    speciality : Text;
    artifactCategory : Text;
    refinementStage : Text;
    artifactPotential : Nat;
    artifactRarity : Text;
    artifactBreakthrough : Text;
    refinementPurity : Nat;
    refinementStability : Int;
    currentHarmonyLevel : Nat;
    attunementProgress : Nat;
    elementalCompatibility : Int;
    artifactAmplitude : Nat;
    artifactDensity : Nat;
    energyType : Text;
    durabilityType : Text;
    manaCapacity : Nat;
    inflexibility : Int;
    spiritualAwakening : Nat;
    mendingLevel : Int;
    repairPurity : Nat;
    artifactModes : [Text];
    transmigrationStrength : Nat;
  };

  type EnergyRecord = {
    balance : Nat;
    transactionHistory : [EnergyTransaction];
    lastUpdate : Int;
  };

  type EnergyTransaction = {
    recordType : Text;
    amount : Nat;
    timestamp : Int;
    description : Text;
    balanceAfter : Nat;
  };

  type HourlyPayoutRecord = {
    timestamp : Int;
    amount : Nat;
    recipients : [Text];
    status : Text;
  };

  let DEVELOPER_WALLET_1 : Text = "38614da9d6625a2c38eebb8870e842c2fecb21bdf3688bada26a01d24042e7d5";
  let DEVELOPER_WALLET_2 : Text = "gwzao-dhzdc-6vi6v-cikxi-meydb-eii5s-ve2wa-kze56-vosk7-cukek-xae";

  let SUBSCRIPTION_FEE_E8S : Nat = 100_000_000;
  let SUBSCRIPTION_ENERGY_REWARD : Nat = 1000;
  let TASK_COMPLETION_ENERGY_REWARD : Nat = 100;
  let AI_INTERACTION_ENERGY_REWARD : Nat = 50;
  let HOURLY_DEVELOPER_REWARD_E8S : Nat = 10_000_000;

  let fileMap = Map.empty<Text, FileRecord>();
  let userProfiles = Map.empty<Principal, UserProfile>();
  let userSubscriptions = Map.empty<Principal, UserSubscription>();
  let accessControlState = AccessControl.initState();
  let enlightenmentStageMap = Map.empty<Principal, EnlightenmentStage>();
  let supremeSovereigntyStageMap = Map.empty<Principal, SupremeSovereigntyStage>();
  let userDaoEnlightenmentRecords = Map.empty<Principal, DaoEnlightenmentRecord>();
  let userDaoIntegrationRecords = Map.empty<Principal, DaoStageIntegrationRecord>();
  let userDaoInfusionRecords = Map.empty<Principal, DaoInfusionRecord>();
  let userDaoMilestones = Map.empty<Principal, DaoStageRecord>();
  let userEnlightmentRecords = Map.empty<Principal, GreatDaoEnlightenmentRecord>();
  let userEnlightmentIntegrationRecords = Map.empty<Principal, GreatDaoEnlightenmentIntegration>();
  let artifactTypeLevelMap = Map.empty<Principal, ArtifactType>();
  let artifactCultivationStageLevelMap = Map.empty<Principal, ArtifactCultivationStage>();
  let artifactEssenceLevelMap = Map.empty<Principal, ArtifactEssence>();
  let artifactSpiritLevelMap = Map.empty<Principal, ArtifactSpirit>();
  let artifactStateLevelMap = Map.empty<Principal, ArtifactState>();
  let artifactResonanceLevelMap = Map.empty<Principal, ArtifactResonance>();
  let artifactEnergyFlowLevelMap = Map.empty<Principal, ArtifactEnergyFlow>();
  let processedTransactions = Map.empty<Text, Bool>();
  let pendingTransactions = Map.empty<Text, Principal>();
  let stripeSessionOwners = Map.empty<Text, Principal>();
  let energyCoinMap = Map.empty<Principal, EnergyRecord>();
  let hourlyPayoutHistory = List.empty<(Int, HourlyPayoutRecord)>();
  var collaborativeActivityCount : Nat = 0;
  var harmonyIndex : Nat = 0;
  var syncResonanceLevel : Nat = 0;
  var networkModulesCache : ?[NetworkModule] = null;
  var networkApplicationsCache : ?[NetworkModuleApplication] = null;
  var lastNetworkSync : Int = 0;
  var lastVisualSync : Int = 0;
  let lFlceiNodes = Map.empty<Text, LFlceiNode>();
  let lFlceiSyncStatus = Map.empty<Text, NodeSyncStatus>();
  let defaultLFlceiAutoStatus : LFlceiAutoCollectionStatus = {
    nodes = [];
    syncedNodes = 0;
    activeSyncs = 0;
    lastSyncTimestamp = 0;
    totalSyncAttempts = 0;
    totalSyncErrors = 0;
    currentSyncCount = 0;
    currentActivityCount = 0;
    adaptiveSyncInterval = 0;
    syncBoostMultiplier = 0;
    syncStatus = "";
    syncRatioMultiplier = 0;
    bionicIntegrationFactor = 0;
    aggregatedSyncMetrics = [];
    syncStatuses = null;
    activeNodes = 0;
    completedSyncCount = 0;
    currentSyncMetrics = {
      syncLatencies = [];
      successfulSyncs = 0;
      retryCount = 0;
      syncDelayCount = 0;
      syncErrorCount = 0;
      failedSyncCount = 0;
    };
    syncDelayCount = 0;
    syncDelayDuration = 0;
    currentCentroidPosition = {
      stableCenter = "";
      activeCentroid = "";
      currentPosition = "";
      lastKnownPosition = "";
      currentSynchronizationNode = "";
      currentSyncFactor = 0;
      currentSyncRatio = 0;
      adaptiveNodePosition = 0;
      currentCyclePosition = 0;
      dynamicSyncInterval = 0;
      currentCentroidActivity = 0;
    };
  };

  var stripeConfiguration : ?Stripe.StripeConfiguration = null;

  func hasActiveSubscription(user : Principal) : Bool {
    switch (userSubscriptions.get(user)) {
      case (null) { false };
      case (?subscription) {
        switch (subscription.status) {
          case (#active) { true };
          case (_) { false };
        };
      };
    };
  };

  func ensureEnergyRecord(user : Principal) {
    switch (energyCoinMap.get(user)) {
      case (null) {
        let newRecord : EnergyRecord = {
          balance = 0;
          transactionHistory = [];
          lastUpdate = Time.now();
        };
        energyCoinMap.add(user, newRecord);
      };
      case (?_) { /* Already exists */ };
    };
  };

  public shared ({ caller }) func initializeAccessControl() : async () {
    AccessControl.initialize(accessControlState, caller);
  };

  public query ({ caller }) func getCallerUserRole() : async AccessControl.UserRole {
    AccessControl.getUserRole(accessControlState, caller);
  };

  public shared ({ caller }) func assignCallerUserRole(user : Principal, role : AccessControl.UserRole) : async () {
    AccessControl.assignRole(accessControlState, caller, user, role);
  };

  public query ({ caller }) func isCallerAdmin() : async Bool {
    AccessControl.isAdmin(accessControlState, caller);
  };

  public query ({ caller }) func getCallerUserProfile() : async ?UserProfile {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view profiles");
    };
    userProfiles.get(caller);
  };

  public query ({ caller }) func getUserProfile(user : Principal) : async ?UserProfile {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only authenticated users can view profiles");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own profile");
    };
    userProfiles.get(user);
  };

  public shared ({ caller }) func saveCallerUserProfile(profile : UserProfile) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can save profiles");
    };
    userProfiles.add(caller, profile);
  };

  public query ({ caller }) func getCallerSubscriptionStatus() : async ?UserSubscription {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view subscription status");
    };
    userSubscriptions.get(caller);
  };

  public query ({ caller }) func getUserSubscriptionStatus(user : Principal) : async ?UserSubscription {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view subscriptions");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own subscription");
    };
    userSubscriptions.get(user);
  };

  public query ({ caller }) func getCallerEnergyBalance() : async Nat {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view energy balance");
    };
    switch (energyCoinMap.get(caller)) {
      case (null) { 0 };
      case (?record) { record.balance };
    };
  };

  public query ({ caller }) func getUserEnergyBalance(user : Principal) : async Nat {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view energy balances");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own energy balance");
    };
    switch (energyCoinMap.get(user)) {
      case (null) { 0 };
      case (?record) { record.balance };
    };
  };

  public query ({ caller }) func getCallerEnergyTransactionHistory() : async [EnergyTransaction] {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view transaction history");
    };
    switch (energyCoinMap.get(caller)) {
      case (null) { [] };
      case (?record) { record.transactionHistory };
    };
  };

  public query ({ caller }) func getUserEnergyTransactionHistory(user : Principal) : async [EnergyTransaction] {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view transaction history");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own transaction history");
    };
    switch (energyCoinMap.get(user)) {
      case (null) { [] };
      case (?record) { record.transactionHistory };
    };
  };

  public shared ({ caller }) func awardTaskCompletionEnergy(taskDescription : Text) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can receive energy rewards");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required to earn energy coins");
    };

    ensureEnergyRecord(caller);

    switch (energyCoinMap.get(caller)) {
      case (null) { Runtime.trap("Failed to initialize energy record") };
      case (?record) {
        let newBalance = record.balance + TASK_COMPLETION_ENERGY_REWARD;
        let transaction : EnergyTransaction = {
          recordType = "task_completion";
          amount = TASK_COMPLETION_ENERGY_REWARD;
          timestamp = Time.now();
          description = taskDescription;
          balanceAfter = newBalance;
        };
        let updatedRecord : EnergyRecord = {
          balance = newBalance;
          transactionHistory = record.transactionHistory.concat([transaction]);
          lastUpdate = Time.now();
        };
        energyCoinMap.add(caller, updatedRecord);
      };
    };
  };

  public shared ({ caller }) func awardAIInteractionEnergy(interactionDescription : Text) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can receive energy rewards");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required to earn energy coins");
    };

    ensureEnergyRecord(caller);

    switch (energyCoinMap.get(caller)) {
      case (null) { Runtime.trap("Failed to initialize energy record") };
      case (?record) {
        let newBalance = record.balance + AI_INTERACTION_ENERGY_REWARD;
        let transaction : EnergyTransaction = {
          recordType = "ai_interaction";
          amount = AI_INTERACTION_ENERGY_REWARD;
          timestamp = Time.now();
          description = interactionDescription;
          balanceAfter = newBalance;
        };
        let updatedRecord : EnergyRecord = {
          balance = newBalance;
          transactionHistory = record.transactionHistory.concat([transaction]);
          lastUpdate = Time.now();
        };
        energyCoinMap.add(caller, updatedRecord);
      };
    };
  };

  public shared ({ caller }) func consumeEnergyForCultivation(amount : Nat, cultivationDescription : Text) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can consume energy coins");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required to use energy coins");
    };

    switch (energyCoinMap.get(caller)) {
      case (null) { Runtime.trap("Insufficient energy balance") };
      case (?record) {
        if (record.balance < amount) {
          Runtime.trap("Insufficient energy balance");
        };
        let newBalance = record.balance - amount : Nat;
        let transaction : EnergyTransaction = {
          recordType = "cultivation_consumption";
          amount = amount;
          timestamp = Time.now();
          description = cultivationDescription;
          balanceAfter = newBalance;
        };
        let updatedRecord : EnergyRecord = {
          balance = newBalance;
          transactionHistory = record.transactionHistory.concat([transaction]);
          lastUpdate = Time.now();
        };
        energyCoinMap.add(caller, updatedRecord);
      };
    };
  };

  public shared ({ caller }) func adminAwardEnergy(user : Principal, amount : Nat, description : Text) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #admin))) {
      Runtime.trap("Unauthorized: Only admins can award energy coins");
    };

    ensureEnergyRecord(user);

    switch (energyCoinMap.get(user)) {
      case (null) { Runtime.trap("Failed to initialize energy record") };
      case (?record) {
        let newBalance = record.balance + amount;
        let transaction : EnergyTransaction = {
          recordType = "admin_award";
          amount = amount;
          timestamp = Time.now();
          description = description;
          balanceAfter = newBalance;
        };
        let updatedRecord : EnergyRecord = {
          balance = newBalance;
          transactionHistory = record.transactionHistory.concat([transaction]);
          lastUpdate = Time.now();
        };
        energyCoinMap.add(user, updatedRecord);
      };
    };
  };

  public shared ({ caller }) func adminDeductEnergy(user : Principal, amount : Nat, description : Text) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #admin))) {
      Runtime.trap("Unauthorized: Only admins can deduct energy coins");
    };

    switch (energyCoinMap.get(user)) {
      case (null) { Runtime.trap("User has no energy record") };
      case (?record) {
        if (record.balance < amount) {
          Runtime.trap("Insufficient energy balance");
        };
        let newBalance = record.balance - amount : Nat;
        let transaction : EnergyTransaction = {
          recordType = "admin_deduction";
          amount = amount;
          timestamp = Time.now();
          description = description;
          balanceAfter = newBalance;
        };
        let updatedRecord : EnergyRecord = {
          balance = newBalance;
          transactionHistory = record.transactionHistory.concat([transaction]);
          lastUpdate = Time.now();
        };
        energyCoinMap.add(user, updatedRecord);
      };
    };
  };

  public query ({ caller }) func getCallerEnlightenmentStage() : async ?EnlightenmentStage {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view enlightenment stage");
    };
    enlightenmentStageMap.get(caller);
  };

  public query ({ caller }) func getUserEnlightenmentStage(user : Principal) : async ?EnlightenmentStage {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view enlightenment stages");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own enlightenment stage");
    };
    enlightenmentStageMap.get(user);
  };

  public shared ({ caller }) func updateCallerEnlightenmentStage(stage : EnlightenmentStage) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update enlightenment stage");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for cultivation");
    };
    enlightenmentStageMap.add(caller, stage);
  };

  public query ({ caller }) func getCallerSupremeSovereigntyStage() : async ?SupremeSovereigntyStage {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view sovereignty stage");
    };
    supremeSovereigntyStageMap.get(caller);
  };

  public query ({ caller }) func getUserSupremeSovereigntyStage(user : Principal) : async ?SupremeSovereigntyStage {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view sovereignty stages");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own sovereignty stage");
    };
    supremeSovereigntyStageMap.get(user);
  };

  public shared ({ caller }) func updateCallerSupremeSovereigntyStage(stage : SupremeSovereigntyStage) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update sovereignty stage");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for cultivation");
    };
    supremeSovereigntyStageMap.add(caller, stage);
  };

  public query ({ caller }) func getCallerDaoEnlightenmentRecord() : async ?DaoEnlightenmentRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view dao enlightenment");
    };
    userDaoEnlightenmentRecords.get(caller);
  };

  public query ({ caller }) func getUserDaoEnlightenmentRecord(user : Principal) : async ?DaoEnlightenmentRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view dao enlightenment records");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own dao enlightenment record");
    };
    userDaoEnlightenmentRecords.get(user);
  };

  public shared ({ caller }) func updateCallerDaoEnlightenmentRecord(record : DaoEnlightenmentRecord) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update dao enlightenment");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for cultivation");
    };
    if (record.uploader != caller) {
      Runtime.trap("Unauthorized: Can only update your own dao enlightenment record");
    };
    userDaoEnlightenmentRecords.add(caller, record);
  };

  public query ({ caller }) func getCallerDaoStageIntegrationRecord() : async ?DaoStageIntegrationRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view dao integration records");
    };
    userDaoIntegrationRecords.get(caller);
  };

  public query ({ caller }) func getUserDaoStageIntegrationRecord(user : Principal) : async ?DaoStageIntegrationRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view dao integration records");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own dao integration record");
    };
    userDaoIntegrationRecords.get(user);
  };

  public shared ({ caller }) func updateCallerDaoStageIntegrationRecord(record : DaoStageIntegrationRecord) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update dao integration");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for cultivation");
    };
    userDaoIntegrationRecords.add(caller, record);
  };

  public query ({ caller }) func getCallerDaoInfusionRecord() : async ?DaoInfusionRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view dao infusion records");
    };
    userDaoInfusionRecords.get(caller);
  };

  public query ({ caller }) func getUserDaoInfusionRecord(user : Principal) : async ?DaoInfusionRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view dao infusion records");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own dao infusion record");
    };
    userDaoInfusionRecords.get(user);
  };

  public shared ({ caller }) func updateCallerDaoInfusionRecord(record : DaoInfusionRecord) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update dao infusion");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for cultivation");
    };
    userDaoInfusionRecords.add(caller, record);
  };

  public query ({ caller }) func getCallerDaoStageRecord() : async ?DaoStageRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view dao stage records");
    };
    userDaoMilestones.get(caller);
  };

  public query ({ caller }) func getUserDaoStageRecord(user : Principal) : async ?DaoStageRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view dao stage records");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own dao stage record");
    };
    userDaoMilestones.get(user);
  };

  public shared ({ caller }) func updateCallerDaoStageRecord(record : DaoStageRecord) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update dao stage");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for cultivation");
    };
    userDaoMilestones.add(caller, record);
  };

  public query ({ caller }) func getCallerGreatDaoEnlightenmentRecord() : async ?GreatDaoEnlightenmentRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view great dao enlightenment");
    };
    userEnlightmentRecords.get(caller);
  };

  public query ({ caller }) func getUserGreatDaoEnlightenmentRecord(user : Principal) : async ?GreatDaoEnlightenmentRecord {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view great dao enlightenment records");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own great dao enlightenment record");
    };
    userEnlightmentRecords.get(user);
  };

  public shared ({ caller }) func updateCallerGreatDaoEnlightenmentRecord(record : GreatDaoEnlightenmentRecord) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update great dao enlightenment");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for cultivation");
    };
    userEnlightmentRecords.add(caller, record);
  };

  public query ({ caller }) func getCallerGreatDaoEnlightenmentIntegration() : async ?GreatDaoEnlightenmentIntegration {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view great dao integration");
    };
    userEnlightmentIntegrationRecords.get(caller);
  };

  public query ({ caller }) func getUserGreatDaoEnlightenmentIntegration(user : Principal) : async ?GreatDaoEnlightenmentIntegration {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view great dao integration records");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own great dao integration record");
    };
    userEnlightmentIntegrationRecords.get(user);
  };

  public shared ({ caller }) func updateCallerGreatDaoEnlightenmentIntegration(record : GreatDaoEnlightenmentIntegration) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update great dao integration");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for cultivation");
    };
    userEnlightmentIntegrationRecords.add(caller, record);
  };

  public query ({ caller }) func getCallerArtifactType() : async ?ArtifactType {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact type");
    };
    artifactTypeLevelMap.get(caller);
  };

  public query ({ caller }) func getUserArtifactType(user : Principal) : async ?ArtifactType {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact types");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own artifact type");
    };
    artifactTypeLevelMap.get(user);
  };

  public shared ({ caller }) func updateCallerArtifactType(artifactType : ArtifactType) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update artifact type");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for artifact cultivation");
    };
    artifactTypeLevelMap.add(caller, artifactType);
  };

  public query ({ caller }) func getCallerArtifactCultivationStage() : async ?ArtifactCultivationStage {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact cultivation stage");
    };
    artifactCultivationStageLevelMap.get(caller);
  };

  public query ({ caller }) func getUserArtifactCultivationStage(user : Principal) : async ?ArtifactCultivationStage {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact cultivation stages");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own artifact cultivation stage");
    };
    artifactCultivationStageLevelMap.get(user);
  };

  public shared ({ caller }) func updateCallerArtifactCultivationStage(stage : ArtifactCultivationStage) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update artifact cultivation stage");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for artifact cultivation");
    };
    artifactCultivationStageLevelMap.add(caller, stage);
  };

  public query ({ caller }) func getCallerArtifactEssence() : async ?ArtifactEssence {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact essence");
    };
    artifactEssenceLevelMap.get(caller);
  };

  public query ({ caller }) func getUserArtifactEssence(user : Principal) : async ?ArtifactEssence {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact essence");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own artifact essence");
    };
    artifactEssenceLevelMap.get(user);
  };

  public shared ({ caller }) func updateCallerArtifactEssence(essence : ArtifactEssence) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update artifact essence");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for artifact cultivation");
    };
    artifactEssenceLevelMap.add(caller, essence);
  };

  public query ({ caller }) func getCallerArtifactSpirit() : async ?ArtifactSpirit {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact spirit");
    };
    artifactSpiritLevelMap.get(caller);
  };

  public query ({ caller }) func getUserArtifactSpirit(user : Principal) : async ?ArtifactSpirit {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact spirit");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own artifact spirit");
    };
    artifactSpiritLevelMap.get(user);
  };

  public shared ({ caller }) func updateCallerArtifactSpirit(spirit : ArtifactSpirit) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update artifact spirit");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for artifact cultivation");
    };
    artifactSpiritLevelMap.add(caller, spirit);
  };

  public query ({ caller }) func getCallerArtifactState() : async ?ArtifactState {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact state");
    };
    artifactStateLevelMap.get(caller);
  };

  public query ({ caller }) func getUserArtifactState(user : Principal) : async ?ArtifactState {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact state");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own artifact state");
    };
    artifactStateLevelMap.get(user);
  };

  public shared ({ caller }) func updateCallerArtifactState(state : ArtifactState) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update artifact state");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for artifact cultivation");
    };
    artifactStateLevelMap.add(caller, state);
  };

  public query ({ caller }) func getCallerArtifactResonance() : async ?ArtifactResonance {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact resonance");
    };
    artifactResonanceLevelMap.get(caller);
  };

  public query ({ caller }) func getUserArtifactResonance(user : Principal) : async ?ArtifactResonance {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact resonance");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own artifact resonance");
    };
    artifactResonanceLevelMap.get(user);
  };

  public shared ({ caller }) func updateCallerArtifactResonance(resonance : ArtifactResonance) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update artifact resonance");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for artifact cultivation");
    };
    artifactResonanceLevelMap.add(caller, resonance);
  };

  public query ({ caller }) func getCallerArtifactEnergyFlow() : async ?ArtifactEnergyFlow {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact energy flow");
    };
    artifactEnergyFlowLevelMap.get(caller);
  };

  public query ({ caller }) func getUserArtifactEnergyFlow(user : Principal) : async ?ArtifactEnergyFlow {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view artifact energy flow");
    };
    if (caller != user and not AccessControl.isAdmin(accessControlState, caller)) {
      Runtime.trap("Unauthorized: Can only view your own artifact energy flow");
    };
    artifactEnergyFlowLevelMap.get(user);
  };

  public shared ({ caller }) func updateCallerArtifactEnergyFlow(energyFlow : ArtifactEnergyFlow) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can update artifact energy flow");
    };
    if (not hasActiveSubscription(caller)) {
      Runtime.trap("Unauthorized: Active subscription required for artifact cultivation");
    };
    artifactEnergyFlowLevelMap.add(caller, energyFlow);
  };

  public query ({ caller }) func getSoulCooperationMetrics() : async SoulCooperationMetrics {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view soul cooperation metrics");
    };
    {
      collaborativeActivityCount = collaborativeActivityCount;
      harmonyIndex = harmonyIndex;
      syncResonanceLevel = syncResonanceLevel;
    };
  };

  public shared ({ caller }) func updateSoulCooperationMetrics(metrics : SoulCooperationMetrics) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #admin))) {
      Runtime.trap("Unauthorized: Only admins can update soul cooperation metrics");
    };
    collaborativeActivityCount := metrics.collaborativeActivityCount;
    harmonyIndex := metrics.harmonyIndex;
    syncResonanceLevel := metrics.syncResonanceLevel;
  };

  public query ({ caller }) func getLFlceiAutoCollectionStatus() : async LFlceiAutoCollectionStatus {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view LFLC status");
    };
    defaultLFlceiAutoStatus;
  };

  public shared ({ caller }) func syncLFlceiNode(nodeId : Text, nodeData : LFlceiNode) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #admin))) {
      Runtime.trap("Unauthorized: Only admins can sync LFLC nodes");
    };
    lFlceiNodes.add(nodeId, nodeData);
  };

  public query ({ caller }) func getIntegrationSyncStatus() : async IntegrationSyncStatus {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view integration status");
    };
    {
      lastNetworkSync = lastNetworkSync;
      lastVisualSync = lastVisualSync;
      modulesCount = switch (networkModulesCache) {
        case (null) { 0 };
        case (?modules) { modules.size() };
      };
      applicationsCount = switch (networkApplicationsCache) {
        case (null) { 0 };
        case (?apps) { apps.size() };
      };
      networkSwitch = 0;
      summary = "Integration status";
    };
  };

  func awardSubscriptionEnergy(user : Principal) {
    ensureEnergyRecord(user);

    switch (energyCoinMap.get(user)) {
      case (null) { /* Should not happen after ensureEnergyRecord */ };
      case (?record) {
        let newBalance = record.balance + SUBSCRIPTION_ENERGY_REWARD;
        let transaction : EnergyTransaction = {
          recordType = "subscription_reward";
          amount = SUBSCRIPTION_ENERGY_REWARD;
          timestamp = Time.now();
          description = "Monthly subscription energy reward";
          balanceAfter = newBalance;
        };
        let updatedRecord : EnergyRecord = {
          balance = newBalance;
          transactionHistory = record.transactionHistory.concat([transaction]);
          lastUpdate = Time.now();
        };
        energyCoinMap.add(user, updatedRecord);
      };
    };
  };

  public query ({ caller }) func isStripeConfigured() : async Bool {
    if (not (AccessControl.hasPermission(accessControlState, caller, #admin))) {
      Runtime.trap("Unauthorized: Only admins can check Stripe configuration");
    };
    stripeConfiguration != null;
  };

  public shared ({ caller }) func setStripeConfiguration(config : Stripe.StripeConfiguration) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #admin))) {
      Runtime.trap("Unauthorized: Only admins can configure Stripe");
    };
    stripeConfiguration := ?config;
  };

  func getStripeConfiguration() : Stripe.StripeConfiguration {
    switch (stripeConfiguration) {
      case (null) { Runtime.trap("Stripe needs to be first configured") };
      case (?value) { value };
    };
  };

  public shared ({ caller }) func getStripeSessionStatus(sessionId : Text) : async Stripe.StripeSessionStatus {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can check session status");
    };
    
    switch (stripeSessionOwners.get(sessionId)) {
      case (null) { /* Session not tracked, allow check */ };
      case (?owner) {
        if (owner != caller and not AccessControl.isAdmin(accessControlState, caller)) {
          Runtime.trap("Unauthorized: Can only check your own session status");
        };
      };
    };
    
    await Stripe.getSessionStatus(getStripeConfiguration(), sessionId, transform);
  };

  public shared ({ caller }) func createCheckoutSession(items : [Stripe.ShoppingItem], successUrl : Text, cancelUrl : Text) : async Text {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can create checkout sessions");
    };
    let sessionId = await Stripe.createCheckoutSession(getStripeConfiguration(), caller, items, successUrl, cancelUrl, transform);
    stripeSessionOwners.add(sessionId, caller);
    sessionId;
  };

  public shared ({ caller }) func processSubscriptionPayment(transactionHash : Text, amount : Nat) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can process payments");
    };

    if (amount < SUBSCRIPTION_FEE_E8S) {
      Runtime.trap("Insufficient payment amount");
    };

    switch (processedTransactions.get(transactionHash)) {
      case (?true) { Runtime.trap("Transaction already processed") };
      case (_) {
        let now = Time.now();
        let oneMonth = 30 * 24 * 60 * 60 * 1_000_000_000;
        let expiryDate = now + oneMonth;

        let wallet1Amount = amount / 2;
        let wallet2Amount = amount - wallet1Amount;

        let paymentRecord : PaymentRecord = {
          transactionHash = transactionHash;
          amount = amount;
          timestamp = now;
          status = "completed";
          wallet1Amount = wallet1Amount;
          wallet2Amount = wallet2Amount;
          verified = true;
        };

        let subscription : UserSubscription = switch (userSubscriptions.get(caller)) {
          case (null) {
            {
              userId = caller;
              status = #active;
              startDate = now;
              expiryDate = expiryDate;
              lastPaymentDate = now;
              paymentHistory = [paymentRecord];
              lastHourlyRewardDistribution = null;
            };
          };
          case (?existing) {
            {
              userId = caller;
              status = #active;
              startDate = existing.startDate;
              expiryDate = expiryDate;
              lastPaymentDate = now;
              paymentHistory = existing.paymentHistory.concat([paymentRecord]);
              lastHourlyRewardDistribution = existing.lastHourlyRewardDistribution;
            };
          };
        };

        userSubscriptions.add(caller, subscription);
        processedTransactions.add(transactionHash, true);
        awardSubscriptionEnergy(caller);
      };
    };
  };

  public shared ({ caller }) func adminUpdateSubscription(user : Principal, status : SubscriptionStatus, expiryDate : Int) : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #admin))) {
      Runtime.trap("Unauthorized: Only admins can update subscriptions");
    };

    switch (userSubscriptions.get(user)) {
      case (null) {
        let subscription : UserSubscription = {
          userId = user;
          status = status;
          startDate = Time.now();
          expiryDate = expiryDate;
          lastPaymentDate = Time.now();
          paymentHistory = [];
          lastHourlyRewardDistribution = null;
        };
        userSubscriptions.add(user, subscription);
      };
      case (?existing) {
        let subscription : UserSubscription = {
          userId = user;
          status = status;
          startDate = existing.startDate;
          expiryDate = expiryDate;
          lastPaymentDate = existing.lastPaymentDate;
          paymentHistory = existing.paymentHistory;
          lastHourlyRewardDistribution = existing.lastHourlyRewardDistribution;
        };
        userSubscriptions.add(user, subscription);
      };
    };
  };

  public shared ({ caller }) func distributeHourlyDeveloperReward() : async () {
    if (not (AccessControl.hasPermission(accessControlState, caller, #admin))) {
      Runtime.trap("Unauthorized: Only admins can trigger hourly developer reward distribution");
    };

    let now = Time.now();
    let activeSubscribers = userSubscriptions.toArray();

    let eligibleSubscribers = activeSubscribers.filter(
      func(entry) {
        let (_, sub) = entry;
        sub.status == #active and (switch (sub.lastHourlyRewardDistribution) {
          case (null) { true };
          case (?last) { now - last : Int > 60 * 60 * 1_000_000_000 };
        });
      }
    );

    if (eligibleSubscribers.size() == 0) {
      return ();
    };

    eligibleSubscribers.forEach(
      func((user, sub)) {
        let updatedSub = {
          sub with lastHourlyRewardDistribution = ?now;
        };
        userSubscriptions.add(user, updatedSub);
      }
    );

    let payoutRecord : HourlyPayoutRecord = {
      timestamp = now;
      amount = HOURLY_DEVELOPER_REWARD_E8S;
      recipients = [DEVELOPER_WALLET_1, DEVELOPER_WALLET_2];
      status = "completed";
    };

    if (hourlyPayoutHistory.size() >= 500) {
      ignore hourlyPayoutHistory.removeLast();
    };
    hourlyPayoutHistory.add((now, payoutRecord));
  };

  public query ({ caller }) func getHourlyPayoutHistory(_count : Nat) : async [HourlyPayoutRecord] {
    if (not (AccessControl.hasPermission(accessControlState, caller, #user))) {
      Runtime.trap("Unauthorized: Only users can view hourly payout history");
    };

    let entries = hourlyPayoutHistory.toArray();
    if (entries.size() == 0) { return [] };
    let filtered = entries.filter(
      func((_, _)) { true }
    );
    let records = filtered.map(
      func((_, record)) { record }
    );
    let count = if (records.size() < _count) { records.size() } else { _count };
    records.sliceToArray(0, count);
  };

  public query func transform(input : OutCall.TransformationInput) : async OutCall.TransformationOutput {
    OutCall.transform(input);
  };
};

PK
frontend/src/lib/martialQiAnimations.ts/**
 *  - 
 *  GPU 
 * 
 * 
 * - GPU 
 * - 
 * - 
 * - 
 */

export interface QiFlowConfig {
  intensity: number;
  speed: number;
  color: string;
  pulseEnabled: boolean;
}

export interface NeuralConnectionConfig {
  strength: number;
  pulseSpeed: number;
  color: string;
  animated: boolean;
}

export interface BionicCooperationConfig {
  cooperationScore: number;
  resonanceLevel: number;
  glowIntensity: number;
}

export interface VisualizationPerformanceConfig {
  targetFPS: number;
  enableGPUAcceleration: boolean;
  particleCount: number;
  connectionThickness: number;
  adaptiveQuality: boolean;
  deviceOptimized: boolean;
}

export class MartialQiAnimationController {
  private animationFrameId: number | null = null;
  private isRunning: boolean = false;
  private fps: number = 60;
  private lastFrameTime: number = 0;
  private performanceConfig: VisualizationPerformanceConfig;
  private frameTimeHistory: number[] = [];
  private particlePool: Array<{ x: number; y: number; size: number; speed: number; active: boolean }> = [];
  private deviceType: 'desktop' | 'tablet' | 'mobile' = 'desktop';
  private gpuTier: 'high' | 'medium' | 'low' = 'high';

  constructor(config?: Partial<VisualizationPerformanceConfig>) {
    this.detectDevice();
    
    this.performanceConfig = {
      targetFPS: config?.targetFPS || this.getTargetFPS(),
      enableGPUAcceleration: config?.enableGPUAcceleration ?? true,
      particleCount: config?.particleCount || this.getOptimalParticleCount(),
      connectionThickness: config?.connectionThickness || this.getOptimalConnectionThickness(),
      adaptiveQuality: config?.adaptiveQuality ?? true,
      deviceOptimized: config?.deviceOptimized ?? true,
    };
    
    this.initializeParticlePool();
  }

  private detectDevice() {
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    const isTablet = /iPad|Android/i.test(navigator.userAgent) && window.innerWidth >= 768;
    const cores = navigator.hardwareConcurrency || 4;

    if (isMobile && !isTablet) {
      this.deviceType = 'mobile';
      this.gpuTier = cores < 4 ? 'low' : 'medium';
    } else if (isTablet) {
      this.deviceType = 'tablet';
      this.gpuTier = 'medium';
    } else {
      this.deviceType = 'desktop';
      this.gpuTier = cores >= 8 ? 'high' : cores >= 4 ? 'medium' : 'low';
    }
  }

  private getTargetFPS(): number {
    switch (this.deviceType) {
      case 'mobile': return 30;
      case 'tablet': return 45;
      case 'desktop': return 60;
    }
  }

  private getOptimalParticleCount(): number {
    switch (this.gpuTier) {
      case 'high': return 80;
      case 'medium': return 50;
      case 'low': return 30;
    }
  }

  private getOptimalConnectionThickness(): number {
    switch (this.gpuTier) {
      case 'high': return 2.5;
      case 'medium': return 2;
      case 'low': return 1.5;
    }
  }

  private initializeParticlePool() {
    for (let i = 0; i < this.performanceConfig.particleCount; i++) {
      this.particlePool.push({
        x: Math.random() * 100,
        y: Math.random() * 100,
        size: 1.8 + Math.random() * 3.5,
        speed: 0.4 + Math.random() * 1.4,
        active: false,
      });
    }
  }

  startAnimation(callback: (timestamp: number) => void) {
    if (this.isRunning) return;

    this.isRunning = true;
    const animate = (timestamp: number) => {
      if (!this.isRunning) return;

      const delta = timestamp - this.lastFrameTime;
      const currentFPS = 1000 / delta;
      
      this.frameTimeHistory.push(delta);
      if (this.frameTimeHistory.length > 60) {
        this.frameTimeHistory.shift();
      }
      
      this.fps = currentFPS;
      this.lastFrameTime = timestamp;

      if (this.performanceConfig.adaptiveQuality) {
        this.adjustQualityBasedOnPerformance();
      }

      callback(timestamp);
      this.animationFrameId = requestAnimationFrame(animate);
    };

    this.animationFrameId = requestAnimationFrame(animate);
  }

  stopAnimation() {
    this.isRunning = false;
    if (this.animationFrameId !== null) {
      cancelAnimationFrame(this.animationFrameId);
      this.animationFrameId = null;
    }
  }

  private adjustQualityBasedOnPerformance() {
    const avgFrameTime = this.frameTimeHistory.reduce((a, b) => a + b, 0) / this.frameTimeHistory.length;
    const avgFPS = 1000 / avgFrameTime;
    
    if (avgFPS < this.performanceConfig.targetFPS * 0.75) {
      this.performanceConfig.particleCount = Math.max(15, this.performanceConfig.particleCount - 5);
      this.performanceConfig.connectionThickness = Math.max(1, this.performanceConfig.connectionThickness - 0.3);
    } else if (avgFPS > this.performanceConfig.targetFPS * 0.96) {
      const maxParticles = this.getOptimalParticleCount() * 1.2;
      this.performanceConfig.particleCount = Math.min(maxParticles, this.performanceConfig.particleCount + 3);
      this.performanceConfig.connectionThickness = Math.min(3, this.performanceConfig.connectionThickness + 0.2);
    }
  }

  getCurrentFPS(): number {
    return Math.round(this.fps);
  }

  getPerformanceMetrics() {
    const avgFrameTime = this.frameTimeHistory.length > 0
      ? this.frameTimeHistory.reduce((a, b) => a + b, 0) / this.frameTimeHistory.length
      : 16.67;
    
    return {
      currentFPS: this.getCurrentFPS(),
      averageFrameTime: avgFrameTime,
      particleCount: this.performanceConfig.particleCount,
      connectionThickness: this.performanceConfig.connectionThickness,
      gpuAcceleration: this.performanceConfig.enableGPUAcceleration,
      deviceType: this.deviceType,
      gpuTier: this.gpuTier,
    };
  }

  // =====  =====

  generateQiFlowGradient(config: QiFlowConfig): string {
    const { intensity, color } = config;
    const alpha1 = Math.round(intensity * 255).toString(16).padStart(2, '0');
    const alpha2 = Math.round(intensity * 0.65 * 255).toString(16).padStart(2, '0');
    const alpha3 = Math.round(intensity * 0.35 * 255).toString(16).padStart(2, '0');
    
    return `linear-gradient(135deg, 
      ${color}${alpha1}, 
      ${color}${alpha2}, 
      ${color}${alpha3}
    )`;
  }

  generateEnhancedQiFlowGradient(intensity: number, hue: number): string {
    return `linear-gradient(135deg,
      oklch(${0.66 + intensity * 0.16} ${0.25 + intensity * 0.07} ${hue} / ${0.82 + intensity * 0.18}),
      oklch(${0.61 + intensity * 0.11} ${0.23 + intensity * 0.05} ${hue + 12} / ${0.62 + intensity * 0.18}),
      oklch(${0.56 + intensity * 0.06} ${0.21 + intensity * 0.03} ${hue + 24} / ${0.42 + intensity * 0.18})
    )`;
  }

  calculatePulseOpacity(timestamp: number, speed: number): number {
    return 0.42 + 0.58 * Math.abs(Math.sin(timestamp * speed * 0.001));
  }

  calculateEnhancedPulseOpacity(timestamp: number, speed: number, phase: number = 0): number {
    const base = Math.sin(timestamp * speed * 0.001 + phase);
    const harmonic = Math.sin(timestamp * speed * 0.0018 + phase) * 0.28;
    return 0.32 + 0.68 * Math.abs(base + harmonic);
  }

  // =====  =====

  calculateConnectionStrength(dataVolume: number, activityLevel: number): number {
    const baseStrength = Math.min(dataVolume / 100, 0.72);
    const activityBoost = Math.min(activityLevel * 0.28, 0.28);
    return Math.min(baseStrength + activityBoost, 1.0);
  }

  calculateEnhancedConnectionStrength(
    dataVolume: number, 
    activityLevel: number, 
    syncQuality: number
  ): number {
    const volumeWeight = Math.min(dataVolume / 100, 0.48);
    const activityWeight = Math.min(activityLevel * 0.32, 0.32);
    const qualityWeight = syncQuality * 0.20;
    
    return Math.min(volumeWeight + activityWeight + qualityWeight, 1.0);
  }

  generateNeuralPulse(
    fromX: number,
    fromY: number,
    toX: number,
    toY: number,
    progress: number
  ): { x: number; y: number } {
    const x = fromX + (toX - fromX) * progress;
    const y = fromY + (toY - fromY) * progress;
    return { x, y };
  }

  generateEnhancedNeuralPulse(
    fromX: number,
    fromY: number,
    toX: number,
    toY: number,
    progress: number,
    curvature: number = 0.22
  ): { x: number; y: number } {
    const midX = (fromX + toX) / 2;
    const midY = (fromY + toY) / 2;
    
    const controlX = midX + (toY - fromY) * curvature;
    const controlY = midY - (toX - fromX) * curvature;
    
    const t = progress;
    const x = Math.pow(1 - t, 2) * fromX + 2 * (1 - t) * t * controlX + Math.pow(t, 2) * toX;
    const y = Math.pow(1 - t, 2) * fromY + 2 * (1 - t) * t * controlY + Math.pow(t, 2) * toY;
    
    return { x, y };
  }

  // =====  =====

  calculateResonanceIntensity(
    cooperationScore: number,
    harmonyIndex: number,
    syncLevel: number
  ): number {
    return (cooperationScore * 0.38 + harmonyIndex * 0.32 + syncLevel * 0.30);
  }

  calculateEnhancedResonanceIntensity(
    cooperationScore: number,
    harmonyIndex: number,
    syncLevel: number,
    p2pEfficiency: number
  ): number {
    const baseResonance = cooperationScore * 0.28 + harmonyIndex * 0.26 + syncLevel * 0.26;
    const p2pBoost = p2pEfficiency * 0.20;
    return Math.min(baseResonance + p2pBoost, 1.0);
  }

  generateBionicGlowEffect(intensity: number): string {
    const blur = 4.5 + intensity * 16;
    const alpha = 0.38 + intensity * 0.62;
    return `drop-shadow(0 0 ${blur}px rgba(255, 191, 0, ${alpha}))`;
  }

  generateEnhancedBionicGlowEffect(intensity: number, hue: number): string {
    const blur1 = 4.5 + intensity * 11;
    const blur2 = 9 + intensity * 22;
    const alpha1 = 0.58 + intensity * 0.42;
    const alpha2 = 0.28 + intensity * 0.32;
    
    return `drop-shadow(0 0 ${blur1}px oklch(${0.71 + intensity * 0.11} 0.23 ${hue} / ${alpha1}))
            drop-shadow(0 0 ${blur2}px oklch(${0.66 + intensity * 0.11} 0.21 ${hue} / ${alpha2}))`;
  }

  // ===== =====

  generateSevenColorParticle(index: number, total: number): {
    color: string;
    hue: number;
    size: number;
    speed: number;
  } {
    const hueStep = 360 / 7;
    const hue = (index % 7) * hueStep;
    
    const sizeMultiplier = this.gpuTier === 'high' ? 1.2 : this.gpuTier === 'medium' ? 1.0 : 0.8;
    const size = (2.2 + Math.random() * 2.8) * sizeMultiplier;
    
    const speedMultiplier = this.gpuTier === 'high' ? 1.0 : this.gpuTier === 'medium' ? 0.85 : 0.7;
    const speed = (0.5 + Math.random() * 1.5) * speedMultiplier;
    
    return {
      color: `oklch(${0.65 + Math.random() * 0.15} 0.24 ${hue})`,
      hue,
      size,
      speed,
    };
  }

  generateUniverseEnergyGlow(intensity: number): string {
    const blur1 = 8 + intensity * 20;
    const blur2 = 16 + intensity * 32;
    const blur3 = 24 + intensity * 44;
    
    return `
      drop-shadow(0 0 ${blur1}px oklch(0.70 0.24 200 / ${0.6 + intensity * 0.4}))
      drop-shadow(0 0 ${blur2}px oklch(0.65 0.22 220 / ${0.4 + intensity * 0.3}))
      drop-shadow(0 0 ${blur3}px oklch(0.60 0.20 240 / ${0.2 + intensity * 0.2}))
    `;
  }

  // =====  =====

  interpolateColor(color1: string, color2: string, factor: number): string {
    const c1 = parseInt(color1.slice(1), 16);
    const c2 = parseInt(color2.slice(1), 16);
    
    const r1 = (c1 >> 16) & 0xff;
    const g1 = (c1 >> 8) & 0xff;
    const b1 = c1 & 0xff;
    
    const r2 = (c2 >> 16) & 0xff;
    const g2 = (c2 >> 8) & 0xff;
    const b2 = c2 & 0xff;
    
    const r = Math.round(r1 + (r2 - r1) * factor);
    const g = Math.round(g1 + (g2 - g1) * factor);
    const b = Math.round(b1 + (b2 - b1) * factor);
    
    return `#${((r << 16) | (g << 8) | b).toString(16).padStart(6, '0')}`;
  }

  throttleAnimation(callback: () => void, fps: number = 30): () => void {
    let lastCall = 0;
    const interval = 1000 / fps;

    return () => {
      const now = Date.now();
      if (now - lastCall >= interval) {
        lastCall = now;
        callback();
      }
    };
  }

  createParticleEffect(
    count: number,
    containerWidth: number,
    containerHeight: number
  ): Array<{ x: number; y: number; size: number; speed: number }> {
    const actualCount = Math.min(count, this.performanceConfig.particleCount);
    
    return Array.from({ length: actualCount }, (_, i) => {
      const particle = this.particlePool[i % this.particlePool.length];
      return {
        x: Math.random() * containerWidth,
        y: Math.random() * containerHeight,
        size: particle.size,
        speed: particle.speed,
      };
    });
  }

  optimizeRenderingForDevice(): void {
    if (this.deviceType === 'mobile' || this.gpuTier === 'low') {
      this.performanceConfig.targetFPS = 30;
      this.performanceConfig.particleCount = Math.min(25, this.performanceConfig.particleCount);
      this.performanceConfig.connectionThickness = 1.2;
    } else if (this.deviceType === 'tablet' || this.gpuTier === 'medium') {
      this.performanceConfig.targetFPS = 45;
      this.performanceConfig.particleCount = Math.min(45, this.performanceConfig.particleCount);
      this.performanceConfig.connectionThickness = 1.8;
    }
  }

  enableGPUAcceleration(element: HTMLElement): void {
    if (this.performanceConfig.enableGPUAcceleration) {
      element.style.transform = 'translateZ(0)';
      element.style.willChange = 'transform, opacity';
      element.style.backfaceVisibility = 'hidden';
    }
  }

  // =====  =====

  getResponsiveScale(): number {
    const width = window.innerWidth;
    const density = window.devicePixelRatio || 1;
    
    if (width < 640) {
      return 0.75 * Math.min(density, 2);
    } else if (width < 1024) {
      return 0.9 * Math.min(density, 2);
    } else {
      return 1.0 * Math.min(density, 1.5);
    }
  }

  getResponsiveParticleSize(baseSize: number): number {
    const scale = this.getResponsiveScale();
    return baseSize * scale;
  }

  getResponsiveAnimationSpeed(baseSpeed: number): number {
    const scale = this.getResponsiveScale();
    return baseSpeed * (0.8 + scale * 0.2);
  }
}

export const martialQiAnimations = new MartialQiAnimationController();
PK
build-template/src/frontend/vite.config.jsimport { fileURLToPath, URL } from 'url';
import react from '@vitejs/plugin-react';
import { defineConfig } from 'vite';
import environment from 'vite-plugin-environment';

const ii_url =
    process.env.DFX_NETWORK === 'local'
        ? `http://rdmx6-jaaaa-aaaaa-aaadq-cai.localhost:8081/`
        : `https://identity.internetcomputer.org/`;

process.env.II_URL = process.env.II_URL || ii_url;
process.env.STORAGE_GATEWAY_URL = process.env.STORAGE_GATEWAY_URL || 'https://blob.caffeine.ai';

export default defineConfig({
    logLevel: 'error',
    build: {
        emptyOutDir: true,
        sourcemap: false,
        minify: false
    },
    css: {
        postcss: './postcss.config.js'
    },
    optimizeDeps: {
        esbuildOptions: {
            define: {
                global: 'globalThis'
            }
        }
    },
    server: {
        proxy: {
            '/api': {
                target: 'http://127.0.0.1:4943',
                changeOrigin: true
            }
        }
    },
    plugins: [
        environment('all', { prefix: 'CANISTER_' }),
        environment('all', { prefix: 'DFX_' }),
        environment(['II_URL']),
        environment(['STORAGE_GATEWAY_URL']),
        react()
    ],
    resolve: {
        alias: [
            {
                find: 'declarations',
                replacement: fileURLToPath(new URL('../declarations', import.meta.url))
            },
            {
                find: '@',
                replacement: fileURLToPath(new URL('./src', import.meta.url))
            }
        ],
        dedupe: ['@dfinity/agent']
    }
});
PK
frontend/src/pages/WuDianPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { BookOpen, Library, Scroll, Star, TrendingUp } from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

export default function WuDianPage() {
  const [moduleState, setModuleState] = useState(unifiedArchitecture.getModuleState('wu-dian'));
  const [knowledgeLevel, setKnowledgeLevel] = useState(65);
  const [masteredTechniques, setMasteredTechniques] = useState(28);
  const [comprehension, setComprehension] = useState(72);

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const state = unifiedArchitecture.getModuleState('wu-dian');
      setModuleState(state);
      
      setKnowledgeLevel(prev => Math.min(100, prev + Math.random() * 0.5));
      setComprehension(prev => Math.min(100, Math.max(0, prev + Math.random() * 2 - 1)));
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  const knowledgeCategories = [
    { name: '', progress: 85, icon: BookOpen },
    { name: '', progress: 62, icon: Scroll },
    { name: '', progress: 38, icon: Star },
    { name: '', progress: 45, icon: Library },
  ];

  return (
    <div className="container px-4 py-6 md:py-8 md:px-8 relative">
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
      </div>

      <div className="relative z-10 space-y-6">
        <div className="space-y-3">
          <div className="flex items-center gap-3 md:gap-4">
            <div className="h-12 w-12 md:h-16 md:w-16 rounded-lg bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <BookOpen className="h-6 w-6 md:h-8 md:w-8 text-white" />
            </div>
            <div>
              <h1 className="text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                
              </h1>
              <p className="text-xs md:text-sm text-muted-foreground">  </p>
            </div>
          </div>

          {moduleState && (
            <div className="flex items-center gap-2 flex-wrap">
              <Badge variant={moduleState.isActive ? "default" : "secondary"} className="gap-1.5 text-xs">
                <div className={`h-2 w-2 rounded-full ${moduleState.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'}`}></div>
                {moduleState.isActive ? '' : ''}
              </Badge>
              <Badge variant="outline" className="text-xs">: {Math.round(moduleState.healthScore * 100)}%</Badge>
              <Badge variant="outline" className="text-xs">: {Math.round(moduleState.syncQuality * 100)}%</Badge>
            </div>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4">
          <Card className="hover:shadow-lg transition-shadow border-primary/20">
            <CardHeader className="pb-2 md:pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Library className="h-4 w-4 text-purple-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl md:text-3xl font-bold">{Math.round(knowledgeLevel)}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={knowledgeLevel} className="mt-2 h-1.5 md:h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow border-primary/20">
            <CardHeader className="pb-2 md:pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Scroll className="h-4 w-4 text-blue-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl md:text-3xl font-bold">{masteredTechniques}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={(masteredTechniques / 50) * 100} className="mt-2 h-1.5 md:h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow border-primary/20">
            <CardHeader className="pb-2 md:pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Star className="h-4 w-4 text-amber-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl md:text-3xl font-bold">{Math.round(comprehension)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={comprehension} className="mt-2 h-1.5 md:h-2" />
            </CardContent>
          </Card>
        </div>

        <Card>
          <CardHeader>
            <CardTitle className="text-base md:text-lg"></CardTitle>
            <CardDescription className="text-xs md:text-sm"></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
              {knowledgeCategories.map((category) => {
                const Icon = category.icon;
                return (
                  <div key={category.name} className="p-3 md:p-4 rounded-lg border border-border/50 hover:border-primary/50 transition-all space-y-2 md:space-y-3">
                    <div className="flex items-center justify-between">
                      <div className="flex items-center gap-2">
                        <Icon className="h-4 w-4 md:h-5 md:w-5 text-primary" />
                        <span className="font-semibold text-sm md:text-base">{category.name}</span>
                      </div>
                      <Badge variant="outline" className="text-xs">{category.progress}%</Badge>
                    </div>
                    <Progress value={category.progress} className="h-1.5 md:h-2" />
                  </div>
                );
              })}
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle className="text-base md:text-lg flex items-center gap-2">
              <TrendingUp className="h-4 w-4 md:h-5 md:w-5" />
              
            </CardTitle>
            <CardDescription className="text-xs md:text-sm"></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="space-y-3">
              {moduleState?.dependencies.map((depId) => (
                <div key={depId} className="flex items-center justify-between p-3 rounded-lg border border-border/50 hover:border-primary/50 transition-all">
                  <div className="flex items-center gap-2 md:gap-3">
                    <div className="h-2 w-2 rounded-full bg-green-500 animate-qi-pulse"></div>
                    <span className="font-medium text-sm md:text-base">{depId}</span>
                  </div>
                  <Badge variant="outline" className="text-xs"></Badge>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
frontend/src/pages/EnergyCoinPage.tsximport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Sparkles, History, Zap } from 'lucide-react';
import EnergyCoinBalanceTracker from '../components/EnergyCoinBalanceTracker';
import EnergyParticleFlow from '../components/EnergyParticleFlow';
import EnergyTransactionHistory from '../components/EnergyTransactionHistory';
import EnergyCoinActions from '../components/EnergyCoinActions';
import ExternalEnergyDisplay from '../components/ExternalEnergyDisplay';

export default function EnergyCoinPage() {
  return (
    <div className="container px-4 py-8 md:px-8 relative">
      {/* Background Effect */}
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-red-500/20 via-amber-500/20 via-green-500/20 to-blue-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
        <div className="absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-purple-500/20 via-pink-500/20 to-red-500/20 rounded-full blur-3xl animate-qi-pulse" style={{ animationDelay: '1.5s' }}></div>
      </div>

      {/* Energy Particle Flow */}
      <div className="fixed inset-0 pointer-events-none z-0">
        <EnergyParticleFlow isActive={true} intensity={1} />
      </div>

      <div className="relative z-10 space-y-8">
        {/* Header */}
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-red-600 via-amber-500 via-green-500 via-blue-500 to-purple-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <Sparkles className="h-8 w-8 text-white" />
            </div>
            <div>
              <h1 className="text-3xl font-bold bg-gradient-to-r from-red-600 via-amber-500 via-green-500 via-blue-500 via-purple-600 to-pink-600 bg-clip-text text-transparent">
                ICP 
              </h1>
              <p className="text-muted-foreground"></p>
            </div>
          </div>
        </div>

        {/* Balance Tracker and External Energy Display */}
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-4">
          <div className="lg:col-span-2">
            <EnergyCoinBalanceTracker />
          </div>
          <div>
            <ExternalEnergyDisplay />
          </div>
        </div>

        {/* Main Content */}
        <Tabs defaultValue="actions" className="space-y-6">
          <TabsList className="grid w-full grid-cols-2">
            <TabsTrigger value="actions" className="gap-2">
              <Zap className="h-4 w-4" />
              
            </TabsTrigger>
            <TabsTrigger value="history" className="gap-2">
              <History className="h-4 w-4" />
              
            </TabsTrigger>
          </TabsList>

          <TabsContent value="actions" className="space-y-6">
            <EnergyCoinActions />

            {/* Energy Coin Benefits */}
            <Card>
              <CardHeader>
                <CardTitle></CardTitle>
                <CardDescription></CardDescription>
              </CardHeader>
              <CardContent>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div className="p-4 rounded-lg border border-border/50 space-y-2">
                    <div className="h-10 w-10 rounded-lg bg-gradient-to-br from-red-500 to-amber-500 flex items-center justify-center">
                      <Sparkles className="h-5 w-5 text-white" />
                    </div>
                    <h3 className="font-semibold"></h3>
                    <p className="text-sm text-muted-foreground">
                      
                    </p>
                  </div>

                  <div className="p-4 rounded-lg border border-border/50 space-y-2">
                    <div className="h-10 w-10 rounded-lg bg-gradient-to-br from-green-500 to-blue-500 flex items-center justify-center">
                      <Sparkles className="h-5 w-5 text-white" />
                    </div>
                    <h3 className="font-semibold"></h3>
                    <p className="text-sm text-muted-foreground">
                      
                    </p>
                  </div>

                  <div className="p-4 rounded-lg border border-border/50 space-y-2">
                    <div className="h-10 w-10 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center">
                      <Sparkles className="h-5 w-5 text-white" />
                    </div>
                    <h3 className="font-semibold"></h3>
                    <p className="text-sm text-muted-foreground">
                      
                    </p>
                  </div>
                </div>
              </CardContent>
            </Card>
          </TabsContent>

          <TabsContent value="history">
            <EnergyTransactionHistory />
          </TabsContent>
        </Tabs>
      </div>
    </div>
  );
}
PK
build-template/scripts/prune-unused-images.jsimport { promises as fs } from 'fs';
import path from 'path';

const DIST_ASSETS_DIR = 'src/frontend/dist/assets';
const GENERATED_DIR = path.join(DIST_ASSETS_DIR, 'generated');

const IMAGE_EXTENSIONS = new Set(['.jpg', '.jpeg', '.png', '.webp', '.gif', '.svg', '.ico', '.avif']);

async function fileExists(filePath) {
    try {
        await fs.access(filePath);
        return true;
    } catch {
        return false;
    }
}

async function getAssetFiles(dir) {
    const files = [];

    try {
        const entries = await fs.readdir(dir, { withFileTypes: true });

        for (const entry of entries) {
            const fullPath = path.join(dir, entry.name);

            if (entry.isDirectory()) {
                // Skip the generated folder itself
                if (entry.name !== 'generated') {
                    files.push(...(await getAssetFiles(fullPath)));
                }
            } else if (entry.name.endsWith('.js') || entry.name.endsWith('.mjs') || entry.name.endsWith('.css')) {
                files.push(fullPath);
            }
        }
    } catch (error) {
        console.error(`Error reading directory ${dir}:`, error.message);
    }

    return files;
}

async function getGeneratedImages(dir) {
    const images = [];

    try {
        const entries = await fs.readdir(dir, { withFileTypes: true });

        for (const entry of entries) {
            if (entry.isFile()) {
                const ext = path.extname(entry.name).toLowerCase();
                if (IMAGE_EXTENSIONS.has(ext)) {
                    images.push(entry.name);
                }
            }
        }
    } catch (error) {
        if (error.code !== 'ENOENT') {
            console.error(`Error reading generated directory:`, error.message);
        }
    }

    return images;
}

/**
 * Algorithm for finding referenced images:
 * 1. Read all asset file contents into a single concatenated string
 * 2. For each generated image filename, check if it exists in the combined content
 *
 * This approach is O(n * avg_filename_length) for the search phase,
 * where n = number of images. V8's String.includes() uses optimized
 * substring search algorithms that are very fast in practice.
 *
 * For 500 images with ~30 char filenames against ~2MB of JS/CSS content,
 * this completes in milliseconds.
 */
async function findReferencedImages(assetFiles, generatedImages) {
    const contents = await Promise.all(assetFiles.map((file) => fs.readFile(file, 'utf-8').catch(() => '')));
    const combinedContent = contents.join('\n');

    const referencedImages = new Set();

    for (const filename of generatedImages) {
        // This catches references in any context: strings, paths, url(), etc.
        if (combinedContent.includes(filename)) {
            referencedImages.add(filename);
        }
    }

    return referencedImages;
}

async function pruneUnusedImages() {
    if (!(await fileExists(DIST_ASSETS_DIR))) {
        console.log(`Directory ${DIST_ASSETS_DIR} does not exist, skipping prune`);
        return;
    }

    if (!(await fileExists(GENERATED_DIR))) {
        console.log(`Directory ${GENERATED_DIR} does not exist, nothing to prune`);
        return;
    }

    const generatedImages = await getGeneratedImages(GENERATED_DIR);

    if (generatedImages.length === 0) {
        console.log('No images in generated folder, nothing to prune');
        return;
    }

    console.log(`Found ${generatedImages.length} image(s) in generated folder`);

    const assetFiles = await getAssetFiles(DIST_ASSETS_DIR);

    if (assetFiles.length === 0) {
        console.log('No JS/CSS files found in dist/assets, skipping prune');
        return;
    }

    const jsCount = assetFiles.filter((f) => f.endsWith('.js') || f.endsWith('.mjs')).length;
    const cssCount = assetFiles.filter((f) => f.endsWith('.css')).length;
    console.log(`Scanning ${jsCount} JS file(s) and ${cssCount} CSS file(s) for image references...`);

    const referencedImages = await findReferencedImages(assetFiles, generatedImages);
    console.log(`Found ${referencedImages.size} image reference(s) in compiled assets`);

    const unusedImages = generatedImages.filter((img) => !referencedImages.has(img));

    if (unusedImages.length === 0) {
        console.log('\nNo unused images to prune');
        return;
    }

    // Remove unused images in parallel (batch of 10 for reasonable I/O)
    let removedCount = 0;
    let savedBytes = 0;

    const BATCH_SIZE = 10;
    for (let i = 0; i < unusedImages.length; i += BATCH_SIZE) {
        const batch = unusedImages.slice(i, i + BATCH_SIZE);

        const results = await Promise.all(
            batch.map(async (image) => {
                const imagePath = path.join(GENERATED_DIR, image);
                try {
                    const stats = await fs.stat(imagePath);
                    await fs.unlink(imagePath);
                    return { success: true, image, size: stats.size };
                } catch (error) {
                    return { success: false, image, error: error.message };
                }
            })
        );

        for (const result of results) {
            if (result.success) {
                removedCount++;
                savedBytes += result.size;
                console.log(`  Removed: ${result.image} (${formatBytes(result.size)})`);
            } else {
                console.error(`  Failed to remove ${result.image}: ${result.error}`);
            }
        }
    }

    console.log(`\nPruned ${removedCount} unused image(s), saved ${formatBytes(savedBytes)}`);
}

function formatBytes(bytes) {
    if (bytes === 0) return '0 B';
    const k = 1024;
    const sizes = ['B', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return `${(bytes / Math.pow(k, i)).toFixed(1)} ${sizes[i]}`;
}

pruneUnusedImages().catch((error) => {
    console.error('Image prune process failed:', error);
    process.exit(1);
});
PK
frontend/src/pages/EasternCultivationPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Flame, Wind, Mountain } from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

export default function EasternCultivationPage() {
  const [moduleState, setModuleState] = useState(unifiedArchitecture.getModuleState('eastern-cultivation'));
  const [cultivationLevel, setCultivationLevel] = useState(44);
  const [energyLevel, setEnergyLevel] = useState(68);
  const [masteredTechniques, setMasteredTechniques] = useState(12);

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const state = unifiedArchitecture.getModuleState('eastern-cultivation');
      setModuleState(state);
      
      setCultivationLevel(prev => Math.min(100, prev + Math.random() * 0.3));
      setEnergyLevel(prev => Math.min(100, Math.max(0, prev + Math.random() * 3 - 1.5)));
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  return (
    <div className="container px-4 py-8 md:px-8 relative">
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute top-1/3 left-1/4 w-96 h-96 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
      </div>

      <div className="relative z-10 space-y-8">
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <Mountain className="h-8 w-8 text-white" />
            </div>
            <div>
              <h1 className="text-3xl font-bold bg-gradient-to-r from-orange-600 via-red-500 to-orange-600 bg-clip-text text-transparent">
                
              </h1>
              <p className="text-muted-foreground">  </p>
            </div>
          </div>

          {moduleState && (
            <div className="flex items-center gap-3">
              <Badge variant={moduleState.isActive ? "default" : "secondary"} className="gap-2">
                <div className={`h-2 w-2 rounded-full ${moduleState.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'}`}></div>
                {moduleState.isActive ? '' : ''}
              </Badge>
              <Badge variant="outline">: {Math.round(moduleState.healthScore * 100)}%</Badge>
              <Badge variant="outline">: {Math.round(moduleState.syncQuality * 100)}%</Badge>
            </div>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Mountain className="h-4 w-4 text-orange-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(cultivationLevel)}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={cultivationLevel} className="mt-2 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Flame className="h-4 w-4 text-red-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(energyLevel)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={energyLevel} className="mt-2 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Wind className="h-4 w-4 text-blue-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{masteredTechniques}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={(masteredTechniques / 30) * 100} className="mt-2 h-2" />
            </CardContent>
          </Card>
        </div>

        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription>  </CardDescription>
          </CardHeader>
          <CardContent>
            <div className="relative h-64 bg-muted/20 rounded-lg border border-border/50 overflow-hidden">
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="relative">
                  <div className="absolute inset-0 bg-gradient-to-br from-orange-500/40 to-red-500/40 rounded-full blur-2xl animate-qi-pulse"></div>
                  <div className="relative h-32 w-32 rounded-full bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center shadow-2xl border-4 border-white/20">
                    <div className="text-center text-white">
                      <Mountain className="h-12 w-12 mx-auto mb-1 animate-qi-pulse" />
                      <p className="text-xs font-bold"></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
frontend/src/components/LFLCModuleConnectionMonitor.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Button } from '@/components/ui/button';
import { ScrollArea } from '@/components/ui/scroll-area';
import { Separator } from '@/components/ui/separator';
import {
  Network,
  CheckCircle2,
  XCircle,
  RefreshCw,
  TrendingUp,
  Radio,
  Shield,
} from 'lucide-react';
import { lflcModuleConnector, type LFLCModuleEndpoint, type ModuleConnectionStatus } from '../lib/lflcModuleConnector';

export default function LFLCModuleConnectionMonitor() {
  const [modules, setModules] = useState<LFLCModuleEndpoint[]>([]);
  const [connectionStatus, setConnectionStatus] = useState<ModuleConnectionStatus | null>(null);
  const [isSyncing, setIsSyncing] = useState(false);

  useEffect(() => {
    // Start auto-sync with error handling
    try {
      if (lflcModuleConnector && typeof lflcModuleConnector.startAutoSync === 'function') {
        lflcModuleConnector.startAutoSync();
      }
    } catch (error) {
      console.error('[LFLCModuleConnectionMonitor] Error starting auto-sync:', error);
    }

    // Update state every second with defensive null checks
    const updateInterval = setInterval(() => {
      try {
        if (lflcModuleConnector) {
          if (typeof lflcModuleConnector.getAllModules === 'function') {
            const allModules = lflcModuleConnector.getAllModules();
            setModules(Array.isArray(allModules) ? allModules : []);
          }
          if (typeof lflcModuleConnector.getConnectionStatus === 'function') {
            const status = lflcModuleConnector.getConnectionStatus();
            setConnectionStatus(status || null);
          }
        }
      } catch (error) {
        console.error('[LFLCModuleConnectionMonitor] Error updating state:', error);
      }
    }, 1000);

    return () => {
      clearInterval(updateInterval);
      try {
        if (lflcModuleConnector && typeof lflcModuleConnector.stopAutoSync === 'function') {
          lflcModuleConnector.stopAutoSync();
        }
      } catch (error) {
        console.error('[LFLCModuleConnectionMonitor] Error stopping auto-sync:', error);
      }
    };
  }, []);

  const handleManualSync = async () => {
    setIsSyncing(true);
    try {
      if (lflcModuleConnector && typeof lflcModuleConnector.syncAllModules === 'function') {
        await lflcModuleConnector.syncAllModules();
      }
    } catch (error) {
      console.error('[LFLCModuleConnectionMonitor] Manual sync error:', error);
    } finally {
      setIsSyncing(false);
    }
  };

  const getStatusIcon = (status: LFLCModuleEndpoint['status']) => {
    switch (status) {
      case 'connected':
        return <CheckCircle2 className="h-4 w-4 text-green-500" />;
      case 'error':
        return <XCircle className="h-4 w-4 text-red-500" />;
      case 'syncing':
        return <RefreshCw className="h-4 w-4 text-blue-500 animate-spin" />;
      default:
        return <XCircle className="h-4 w-4 text-gray-400" />;
    }
  };

  const getStatusBadge = (status: LFLCModuleEndpoint['status']) => {
    const variants: Record<LFLCModuleEndpoint['status'], 'default' | 'secondary' | 'destructive'> = {
      connected: 'default',
      disconnected: 'secondary',
      error: 'destructive',
      syncing: 'default',
    };

    return (
      <Badge variant={variants[status]} className="gap-1">
        {getStatusIcon(status)}
        {status === 'connected' ? '' : status === 'error' ? '' : status === 'syncing' ? '' : ''}
      </Badge>
    );
  };

  if (!connectionStatus) {
    return (
      <Card>
        <CardContent className="flex items-center justify-center h-64">
          <RefreshCw className="h-8 w-8 animate-spin text-muted-foreground" />
        </CardContent>
      </Card>
    );
  }

  return (
    <Card className="border-2 border-blue-500/30">
      <CardHeader>
        <CardTitle className="flex items-center gap-2 chinese-optimized">
          <Network className="h-5 w-5 text-blue-500" />
          LFLC 
        </CardTitle>
        <CardDescription className="chinese-optimized">
              
          <span className="flex items-center gap-1 mt-1 text-xs">
            <Shield className="h-3 w-3" />
             Canister: {lflcModuleConnector?.getAuthorizedCanisterId?.() || 'N/A'}
          </span>
        </CardDescription>
      </CardHeader>
      <CardContent className="space-y-6">
        {/* Connection Overview */}
        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div className="p-4 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
            <div className="flex items-center gap-2 mb-2">
              <Network className="h-4 w-4 text-blue-500" />
              <p className="text-xs text-muted-foreground chinese-optimized"></p>
            </div>
            <p className="text-2xl font-bold">{connectionStatus.totalModules}</p>
          </div>

          <div className="p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
            <div className="flex items-center gap-2 mb-2">
              <CheckCircle2 className="h-4 w-4 text-green-500" />
              <p className="text-xs text-muted-foreground chinese-optimized"></p>
            </div>
            <p className="text-2xl font-bold">{connectionStatus.connectedModules}</p>
          </div>

          <div className="p-4 rounded-lg bg-gradient-to-br from-red-500/10 to-rose-500/10 border border-red-500/30">
            <div className="flex items-center gap-2 mb-2">
              <XCircle className="h-4 w-4 text-red-500" />
              <p className="text-xs text-muted-foreground chinese-optimized"></p>
            </div>
            <p className="text-2xl font-bold">{connectionStatus.errorModules}</p>
          </div>

          <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">
            <div className="flex items-center gap-2 mb-2">
              <TrendingUp className="h-4 w-4 text-purple-500" />
              <p className="text-xs text-muted-foreground chinese-optimized"></p>
            </div>
            <p className="text-2xl font-bold">{Math.round(connectionStatus.overallHealth * 100)}%</p>
            <Progress value={connectionStatus.overallHealth * 100} className="mt-2 h-1.5" />
          </div>
        </div>

        <Separator />

        {/* Manual Sync Button */}
        <Button
          onClick={handleManualSync}
          disabled={isSyncing}
          className="w-full chinese-optimized"
          variant="outline"
        >
          {isSyncing ? (
            <>
              <RefreshCw className="h-4 w-4 mr-2 animate-spin" />
              ...
            </>
          ) : (
            <>
              <RefreshCw className="h-4 w-4 mr-2" />
              
            </>
          )}
        </Button>

        <Separator />

        {/* Module List */}
        <div>
          <h3 className="text-sm font-semibold mb-3 flex items-center gap-2 chinese-optimized">
            <Radio className="h-4 w-4" />
             ({modules.length} )
          </h3>
          <ScrollArea className="h-[400px] pr-4">
            <div className="space-y-3">
              {modules.map((module) => (
                <div
                  key={module.id}
                  className="p-4 rounded-lg border border-border/50 hover:border-primary/50 transition-all bg-gradient-to-br from-card to-card/50"
                >
                  <div className="flex items-start justify-between mb-3">
                    <div className="flex items-center gap-3">
                      <div className={`h-10 w-10 rounded-lg flex items-center justify-center shrink-0 ${
                        module.status === 'connected' ? 'bg-gradient-to-br from-green-500 to-emerald-500' :
                        module.status === 'error' ? 'bg-gradient-to-br from-red-500 to-rose-500' :
                        module.status === 'syncing' ? 'bg-gradient-to-br from-blue-500 to-cyan-500 animate-qi-pulse' :
                        'bg-gradient-to-br from-gray-500 to-gray-600'
                      }`}>
                        {module.status === 'connected' ? <CheckCircle2 className="h-5 w-5 text-white" /> :
                         module.status === 'error' ? <XCircle className="h-5 w-5 text-white" /> :
                         module.status === 'syncing' ? <RefreshCw className="h-5 w-5 text-white animate-spin" /> :
                         <XCircle className="h-5 w-5 text-white" />}
                      </div>
                      <div>
                        <p className="font-semibold chinese-optimized">{module.name}</p>
                        <p className="text-xs text-muted-foreground chinese-optimized">{module.description}</p>
                      </div>
                    </div>
                    {getStatusBadge(module.status)}
                  </div>

                  <div className="grid grid-cols-2 gap-3 text-sm mb-3">
                    <div>
                      <p className="text-muted-foreground text-xs chinese-optimized"></p>
                      <p className="font-medium chinese-optimized">{module.type}</p>
                    </div>
                    <div>
                      <p className="text-muted-foreground text-xs chinese-optimized"></p>
                      <div className="flex items-center gap-2">
                        <p className="font-medium">{Math.round(module.healthScore * 100)}%</p>
                        <Progress value={module.healthScore * 100} className="h-1.5 flex-1" />
                      </div>
                    </div>
                  </div>

                  <div className="flex items-center gap-2 text-xs text-muted-foreground mb-2">
                    <Radio className="h-3 w-3 shrink-0" />
                    <span className="truncate">{module.url}</span>
                  </div>

                  {module.capabilities && module.capabilities.length > 0 && (
                    <div className="flex flex-wrap gap-1">
                      {module.capabilities.map((cap) => (
                        <Badge key={cap} variant="outline" className="text-xs">
                          {cap}
                        </Badge>
                      ))}
                    </div>
                  )}
                </div>
              ))}
            </div>
          </ScrollArea>
        </div>
      </CardContent>
    </Card>
  );
}
PK
frontend/src/hooks/useEditor.tstype EditCommunicatorToParentMessage =
    | {
          type: 'element-selection';
          payload: {
              selectedElements: Array<{ id: string; tagName: string; domTreeString: string }>;
              selectedElementIds: string[];
              elementId: string;
              elementTree: string;
          };
      }
    | {
          type: 'status';
          payload: { status: string };
      }
    | {
          type: 'ack';
          payload: { message: ParentToEditCommunicatorMessage };
      }
    | {
          type: 'selection-rebuilt';
          payload: {
              selectedElements: Array<{ id: string; domTreeString: string }>;
              selectedElementIds: string[];
          };
      }
    | {
          type: 'error';
          payload: { msg: string };
      };

type ParentToEditCommunicatorMessage =
    | {
          type: 'ready';
          payload?: undefined;
      }
    | {
          type: 'tool-element-selection';
          payload?: undefined;
      }
    | {
          type: 'clear-selection';
          payload?: undefined;
      }
    | {
          type: 'remove-selection';
          payload: { element: string };
      }
    | {
          type: 'rebuild-selection';
          payload: { ids: string[] };
      };

const EditorStates = {
    Initializing: {
        type: 'initializing' as const
    },
    Ready: {
        type: 'ready' as const
    },
    ElementSelection: {
        type: 'element-selection' as const,
        selectedElements: null as Element | null
    }
} as const;

const allowedOrigins = ['http://localhost:3000', 'https://dev.caffeine.ai', 'https://caffeine.ai'];
let parentOrigin: string | null = null;

type EditorState = (typeof EditorStates)[keyof typeof EditorStates];

function hashDomTreeString(input: string): string {
    let hash = 5381;
    for (let i = 0; i < input.length; i++) {
        hash = ((hash << 5) + hash) ^ input.charCodeAt(i);
    }

    return 'id-' + (hash >>> 0).toString(36).padStart(6, '0');
}

function ensurePositionedForBadge(el: HTMLElement): void {
    const style = window.getComputedStyle(el);
    if (style.position === 'static') {
        el.classList.add('editor-selected-badged');
    }
}

function addBadge(el: HTMLElement, id: string): void {
    ensurePositionedForBadge(el);
    const badge = document.createElement('span');
    badge.className = 'editor-badge';
    badge.textContent = id;
    badge.setAttribute('data-editor-badge', '1');
    el.appendChild(badge);
}

function removeBadge(el: HTMLElement): void {
    const badge = el.querySelector('[data-editor-badge="1"]');
    if (badge) badge.remove();
    el.classList.remove('editor-selected-badged');
}

function clearBadges(): void {
    const badges = document.querySelectorAll<HTMLElement>('[data-editor-badge="1"]');
    badges.forEach((badge) => {
        const parent = badge.parentElement as HTMLElement | null;
        badge.remove();
        if (parent) {
            parent.classList.remove('editor-selected-badged');
        }
    });
}

/**
 * Coordinates editor tooling inside the generated app and
 * synchronizes state with the parent frame via `postMessage`.
 *
 * PostMessage protocol:
 * - Parent  editor (`ParentToEditCommunicatorMessage.type`)
 *   - `ready`: Reset selections and emit current status.
 *   - `tool-element-selection`: Enter selection mode (adds crosshair cursor, clears
 *     existing selections) and report status.
 *   - `clear-selection`: Remove every selected element.
 *   - `remove-selection`: Remove a single selection (`payload.element` is the id).
 *   - `rebuild-selection`: Attempt to recreate selections from `payload.ids`.
 * - Editor  parent (`EditCommunicatorToParentMessage.type`)
 *   - `ack`: Echo every incoming message for handshake/debugging (`payload.message`).
 *   - `status`: Report lifecycle transitions such as `initializing`, `ready`,
 *     `element-selection`, or textual statuses like `clearing selections`.
 *   - `element-selection`: Sent after every click; includes
 *     `{ selectedElements, selectedElementIds, elementId, elementTree }`.
 *   - `selection-rebuilt`: Sent after processing `rebuild-selection` with the matched ids.
 *
 * The class also injects highlighting styles, tracks the current editor state, and
 * manages hover/click listeners so the parent application can drive a visual DOM picker.
 */
export class EditCommunicator {
    #toParent(message: EditCommunicatorToParentMessage) {
        if (!parentOrigin) {
            return;
        }

        parent.postMessage(message, parentOrigin);
    }

    #editorState: EditorState = {
        type: 'initializing'
    };

    #selectedElements: Map<string, { id: string; element: HTMLElement; domTreeString: string }> = new Map();

    #boundMouseOverListener: (event: MouseEvent) => void = this.#handleMouseOver.bind(this);
    #boundMouseOutListener: (event: MouseEvent) => void = this.#handleMouseOut.bind(this);

    #injectEditorStyles(): void {
        const style = document.createElement('style');
        style.textContent = `
            .editor-selected {
                outline: 2px solid #4D99F0 !important;
                outline-offset: 2px !important;
                /* Override visibility properties that could hide the outline */
                opacity: 1 !important;
                visibility: visible !important;
                /* Disable transitions that could affect outline visibility */
                transition: none !important;
                transition-property: none !important;
                transition-duration: 0s !important;
                transition-delay: 0s !important;
                /* Ensure outline is not clipped by clip-path or clip */
                clip-path: none !important;
                clip: unset !important;
            }

            .editor-hover {
                outline: 1px dashed #4D99F0 !important;
                outline-offset: 2px !important;
            }

            .editor-selected-badged {
                position: relative !important;
            }
            .editor-badge {
                position: absolute !important;
                top: 0 !important;
                right: 0 !important;
                background: #4D99F0 !important;
                color: #fff !important;
                font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace !important;
                font-size: 11px !important;
                line-height: 1 !important;
                padding: 4px 6px !important;
                border-radius: 10px !important;
                box-shadow: 0 1px 3px rgba(0,0,0,0.2) !important;
                z-index: 2147483647 !important;
                pointer-events: none !important;
                user-select: none !important;
            }

            .editor-element-selection-mode {
                cursor: crosshair !important;
            }
            .editor-element-selection-mode * {
                cursor: crosshair !important;
            }

        `;
        document.head.appendChild(style);
    }

    #clearAllSelections(): void {
        const allElements = document.querySelectorAll('.editor-selected');
        allElements.forEach((element) => {
            element.classList.remove('editor-selected');
        });
        this.#selectedElements.clear();
        clearBadges();
    }

    #removeSelection(id: string): void {
        const entry = this.#selectedElements.get(id);
        if (entry) {
            entry.element.classList.remove('editor-selected');
            removeBadge(entry.element);
            this.#selectedElements.delete(id);
            return;
        }
    }

    #addSelection(id: string, target: HTMLElement, domTreeString: string): void {
        target.classList.add('editor-selected');
        addBadge(target, id);
        this.#selectedElements.set(id, { id, element: target, domTreeString });
    }

    #toggleCrosshairCursor(enabled: boolean): void {
        if (enabled) {
            document.body.classList.add('editor-element-selection-mode');
        } else {
            document.body.classList.remove('editor-element-selection-mode');
        }
    }

    #generateDOMTreeString(element: HTMLElement): string {
        const path: HTMLElement[] = [];
        let current: HTMLElement | null = element;

        while (current && current !== document.body) {
            path.unshift(current);
            current = current.parentElement;
        }

        const bodyElement = document.body;
        if (!bodyElement) {
            return element.outerHTML;
        }

        const buildTree = (parent: HTMLElement, remainingPath: HTMLElement[]): HTMLElement => {
            const clonedParent = parent.cloneNode(false) as HTMLElement;

            Array.from(parent.children).forEach((child) => {
                const childElement = child as HTMLElement;

                if (remainingPath.length > 0 && childElement === remainingPath[0]) {
                    if (remainingPath.length === 1) {
                        const clonedChild = childElement.cloneNode(true) as HTMLElement;
                        this.#removeArtificialElements(clonedChild);
                        clonedChild.setAttribute('data-target', 'this');
                        clonedParent.appendChild(clonedChild);
                    } else {
                        const clonedChild = buildTree(childElement, remainingPath.slice(1));
                        clonedParent.appendChild(clonedChild);
                    }
                } else {
                    const clonedChild = childElement.cloneNode(true) as HTMLElement;
                    this.#removeArtificialElements(clonedChild);
                    clonedParent.appendChild(clonedChild);
                }
            });

            this.#removeArtificialElements(clonedParent);
            return clonedParent;
        };

        const tree = buildTree(bodyElement, path);
        return tree.outerHTML;
    }

    #removeArtificialElements(element: HTMLElement): void {
        const badges = element.querySelectorAll('[data-editor-badge="1"]');
        badges.forEach((badge) => badge.remove());

        element.classList.remove('editor-selected', 'editor-selected-badged', 'editor-hover');

        const children = element.children;
        for (let i = 0; i < children.length; i++) {
            this.#removeArtificialElements(children[i] as HTMLElement);
        }
    }

    #handleClickElementSelection(e: Event) {
        const target = e.target as HTMLElement;

        const domTreeString = this.#generateDOMTreeString(target);
        const id = hashDomTreeString(domTreeString);

        if (this.#selectedElements.has(id)) {
            this.#removeSelection(id);
        } else {
            this.#addSelection(id, target, domTreeString);
        }

        const selectedElements = Array.from(this.#selectedElements.values()).map(({ id, element, domTreeString }) => ({
            id,
            tagName: element.tagName.toLowerCase(),
            domTreeString
        }));
        const selectedElementIds = Array.from(this.#selectedElements.keys());

        this.#toParent({
            type: 'element-selection',
            payload: {
                selectedElements,
                selectedElementIds,
                elementId: id,
                elementTree: domTreeString
            }
        });
    }

    #setupElementClickListeners() {
        const target = document.body ?? document;

        target.addEventListener('click', (e) => {
            if (this.#editorState.type === 'element-selection') {
                e.preventDefault();
                this.#handleClickElementSelection(e);
            }
        });
    }

    #setupElementHoverListeners() {
        this.#removeElementHoverListeners();

        const target = document.body ?? document;
        target.addEventListener('mouseover', this.#boundMouseOverListener);
        target.addEventListener('mouseout', this.#boundMouseOutListener);
    }

    #removeElementHoverListeners() {
        const target = document.body ?? document;
        target.removeEventListener('mouseover', this.#boundMouseOverListener);
        target.removeEventListener('mouseout', this.#boundMouseOutListener);
    }

    #handleMouseOver(e: MouseEvent) {
        if (this.#editorState.type !== 'element-selection') return;
        e.stopPropagation();
        const target = e.target as HTMLElement;

        const allElements = document.querySelectorAll('.editor-hover');
        allElements.forEach((element) => {
            element.classList.remove('editor-hover');
        });

        target.classList.add('editor-hover');
    }

    #handleMouseOut(e: MouseEvent) {
        if (this.#editorState.type !== 'element-selection') return;

        const target = e.target as HTMLElement;
        target.classList.remove('editor-hover');
    }

    #rebuildSelection(ids: string[]): string[] {
        this.#clearAllSelections();

        if (!Array.isArray(ids) || ids.length === 0) return [];

        const wanted = new Set(ids);
        const matched: string[] = [];

        const elements = document.querySelectorAll<HTMLElement>('*');
        elements.forEach((el) => {
            const domTreeString = this.#generateDOMTreeString(el);
            const id = hashDomTreeString(domTreeString);
            if (wanted.has(id)) {
                this.#addSelection(id, el, domTreeString);
                matched.push(id);
            }
        });

        const selectedElements = Array.from(this.#selectedElements.values()).map(({ id, domTreeString }) => ({
            id,
            domTreeString
        }));
        const selectedElementIds = Array.from(this.#selectedElements.keys());

        if (selectedElementIds.length > 0) {
            this.#editorState = EditorStates.ElementSelection;
            this.#toggleCrosshairCursor(true);
            this.#toParent({ type: 'status', payload: { status: this.#editorState.type } });
        }

        this.#toParent({
            type: 'selection-rebuilt',
            payload: {
                selectedElements,
                selectedElementIds
            }
        });

        return matched;
    }

    constructor() {
        this.#injectEditorStyles();
        this.#toggleCrosshairCursor(false);

        window.addEventListener('message', (event: MessageEvent<ParentToEditCommunicatorMessage>) => {
            if (!allowedOrigins.includes(event.origin)) {
                this.#toParent({ type: 'error', payload: { msg: `disallowed origin: ${event.origin}` } });
                return;
            }
            parentOrigin = event.origin;
            const { type, payload } = event.data;
            this.#toParent({ type: 'ack', payload: { message: event.data } });

            switch (type) {
                case 'ready':
                    this.#clearAllSelections();
                    this.#editorState = EditorStates.Ready;
                    this.#toggleCrosshairCursor(false);
                    this.#toParent({ type: 'status', payload: { status: this.#editorState.type } });
                    break;
                case 'tool-element-selection':
                    this.#clearAllSelections();
                    this.#editorState = EditorStates.ElementSelection;
                    this.#toggleCrosshairCursor(true);
                    this.#toParent({ type: 'status', payload: { status: this.#editorState.type } });
                    break;
                case 'clear-selection':
                    this.#toParent({ type: 'status', payload: { status: `clearing selections` } });
                    this.#clearAllSelections();
                    break;
                case 'remove-selection':
                    if (payload?.element) {
                        this.#toParent({ type: 'status', payload: { status: `removing ${payload.element}` } });
                        this.#removeSelection(payload.element);
                    }
                    break;
                case 'rebuild-selection': {
                    const ids: string[] = Array.isArray(payload?.ids) ? payload.ids : [];
                    this.#rebuildSelection(ids);
                    break;
                }
            }
        });

        this.#setupElementClickListeners();
        this.#setupElementHoverListeners();
        this.#editorState = EditorStates.Ready;
    }
}

let editorInstance: EditCommunicator | null = null;

export function initEditor(): EditCommunicator {
    if (!editorInstance) {
        editorInstance = new EditCommunicator();
    }
    return editorInstance;
}
PK
frontend/src/components/ProfileSetupModal.tsximport { useState } from 'react';
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { useSaveCallerUserProfile } from '../hooks/useQueries';
import { toast } from 'sonner';
import { Sparkles } from 'lucide-react';

interface ProfileSetupModalProps {
  onClose: () => void;
}

export default function ProfileSetupModal({ onClose }: ProfileSetupModalProps) {
  const [name, setName] = useState('');
  const saveProfile = useSaveCallerUserProfile();

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!name.trim()) {
      toast.error('');
      return;
    }

    try {
      await saveProfile.mutateAsync({ name: name.trim() });
      toast.success('');
      onClose();
    } catch (error) {
      console.error('Failed to save profile:', error);
      toast.error('');
    }
  };

  return (
    <Dialog open={true} onOpenChange={() => {}}>
      <DialogContent className="sm:max-w-md" onPointerDownOutside={(e) => e.preventDefault()}>
        <DialogHeader>
          <div className="flex items-center gap-2 mb-2">
            <div className="h-10 w-10 rounded-lg bg-gradient-to-br from-primary via-accent to-primary flex items-center justify-center">
              <Sparkles className="h-5 w-5 text-primary-foreground" />
            </div>
            <DialogTitle className="text-xl"> LFLCEI </DialogTitle>
          </div>
          <DialogDescription>
            
          </DialogDescription>
        </DialogHeader>
        <form onSubmit={handleSubmit} className="space-y-4 mt-4">
          <div className="space-y-2">
            <Label htmlFor="name"></Label>
            <Input
              id="name"
              placeholder=""
              value={name}
              onChange={(e) => setName(e.target.value)}
              autoFocus
              disabled={saveProfile.isPending}
            />
          </div>
          <Button
            type="submit"
            className="w-full"
            disabled={saveProfile.isPending || !name.trim()}
          >
            {saveProfile.isPending ? '...' : ''}
          </Button>
        </form>
      </DialogContent>
    </Dialog>
  );
}
PK
frontend/src/pages/InvocationPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Sparkles, Crown, Zap } from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

export default function InvocationPage() {
  const [moduleState, setModuleState] = useState(unifiedArchitecture.getModuleState('invocation'));
  const [divineResonance, setDivineResonance] = useState(38);
  const [summonedDeities, setSummonedDeities] = useState(3);

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const state = unifiedArchitecture.getModuleState('invocation');
      setModuleState(state);
      
      setDivineResonance(prev => Math.min(100, prev + Math.random() * 0.35));
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  return (
    <div className="container px-4 py-8 md:px-8 relative">
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute bottom-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-yellow-500/20 to-amber-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
      </div>

      <div className="relative z-10 space-y-8">
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-yellow-600 to-amber-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <Crown className="h-8 w-8 text-white" />
            </div>
            <div>
              <h1 className="text-3xl font-bold bg-gradient-to-r from-yellow-600 via-amber-500 to-yellow-600 bg-clip-text text-transparent">
                
              </h1>
              <p className="text-muted-foreground">  </p>
            </div>
          </div>

          {moduleState && (
            <div className="flex items-center gap-3">
              <Badge variant={moduleState.isActive ? "default" : "secondary"} className="gap-2">
                <div className={`h-2 w-2 rounded-full ${moduleState.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'}`}></div>
                {moduleState.isActive ? '' : ''}
              </Badge>
              <Badge variant="outline">: {Math.round(moduleState.healthScore * 100)}%</Badge>
              <Badge variant="outline">: {Math.round(moduleState.syncQuality * 100)}%</Badge>
            </div>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Sparkles className="h-4 w-4 text-yellow-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(divineResonance)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={divineResonance} className="mt-2 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Crown className="h-4 w-4 text-amber-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{summonedDeities}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={(summonedDeities / 10) * 100} className="mt-2 h-2" />
            </CardContent>
          </Card>
        </div>

        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="relative h-64 bg-muted/20 rounded-lg border border-border/50 overflow-hidden">
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="relative">
                  <div className="absolute inset-0 bg-gradient-to-br from-yellow-500/40 to-amber-500/40 rounded-full blur-2xl animate-qi-pulse"></div>
                  <div className="relative h-32 w-32 rounded-full bg-gradient-to-br from-yellow-600 to-amber-600 flex items-center justify-center shadow-2xl border-4 border-white/20">
                    <div className="text-center text-white">
                      <Crown className="h-12 w-12 mx-auto mb-1 animate-qi-pulse" />
                      <p className="text-xs font-bold"></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
frontend/src/components/UnifiedLoadingState.tsximport { Skeleton } from '@/components/ui/skeleton';

interface UnifiedLoadingStateProps {
  type?: 'card' | 'table' | 'dashboard' | 'list';
  count?: number;
  className?: string;
}

export default function UnifiedLoadingState({ 
  type = 'card', 
  count = 3,
  className = '' 
}: UnifiedLoadingStateProps) {
  if (type === 'card') {
    return (
      <div className={`space-y-4 ${className}`}>
        {Array.from({ length: count }).map((_, i) => (
          <div key={i} className="rounded-lg border border-border p-6 space-y-4 unified-loading">
            <div className="flex items-center justify-between">
              <Skeleton className="h-6 w-32" />
              <Skeleton className="h-5 w-20" />
            </div>
            <Skeleton className="h-4 w-full" />
            <Skeleton className="h-4 w-3/4" />
            <div className="flex gap-2">
              <Skeleton className="h-9 w-24" />
              <Skeleton className="h-9 w-24" />
            </div>
          </div>
        ))}
      </div>
    );
  }

  if (type === 'table') {
    return (
      <div className={`space-y-3 ${className}`}>
        <div className="flex gap-4 pb-3 border-b">
          <Skeleton className="h-5 w-32" />
          <Skeleton className="h-5 w-24" />
          <Skeleton className="h-5 w-28" />
          <Skeleton className="h-5 w-36" />
        </div>
        {Array.from({ length: count }).map((_, i) => (
          <div key={i} className="flex gap-4 py-3 unified-loading">
            <Skeleton className="h-4 w-32" />
            <Skeleton className="h-4 w-24" />
            <Skeleton className="h-4 w-28" />
            <Skeleton className="h-4 w-36" />
          </div>
        ))}
      </div>
    );
  }

  if (type === 'dashboard') {
    return (
      <div className={`space-y-6 ${className}`}>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
          {Array.from({ length: 3 }).map((_, i) => (
            <div key={i} className="rounded-lg border border-border p-6 space-y-3 unified-loading">
              <Skeleton className="h-5 w-24" />
              <Skeleton className="h-8 w-16" />
              <Skeleton className="h-3 w-full" />
            </div>
          ))}
        </div>
        <div className="rounded-lg border border-border p-6 space-y-4 unified-loading">
          <Skeleton className="h-6 w-48" />
          <Skeleton className="h-64 w-full" />
        </div>
      </div>
    );
  }

  if (type === 'list') {
    return (
      <div className={`space-y-2 ${className}`}>
        {Array.from({ length: count }).map((_, i) => (
          <div key={i} className="flex items-center gap-3 p-3 rounded-lg border border-border unified-loading">
            <Skeleton className="h-10 w-10 rounded-full" />
            <div className="flex-1 space-y-2">
              <Skeleton className="h-4 w-3/4" />
              <Skeleton className="h-3 w-1/2" />
            </div>
          </div>
        ))}
      </div>
    );
  }

  return null;
}
PK
frontend/src/pages/MartialQiPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Activity, Zap, Wind, Flame, TrendingUp } from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

export default function MartialQiPage() {
  const [moduleState, setModuleState] = useState(unifiedArchitecture.getModuleState('martial-qi'));
  const [qiLevel, setQiLevel] = useState(42);
  const [qiFlow, setQiFlow] = useState(78);
  const [energyBalance, setEnergyBalance] = useState(85);

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const state = unifiedArchitecture.getModuleState('martial-qi');
      setModuleState(state);
      
      setQiLevel(prev => Math.min(100, prev + Math.random() * 2 - 0.5));
      setQiFlow(prev => Math.min(100, Math.max(0, prev + Math.random() * 4 - 2)));
      setEnergyBalance(prev => Math.min(100, Math.max(0, prev + Math.random() * 3 - 1.5)));
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  return (
    <div className="container px-4 py-6 md:py-8 md:px-8 relative">
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute top-1/4 left-1/3 w-96 h-96 bg-gradient-to-br from-red-500/20 to-amber-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
        <div className="absolute bottom-1/4 right-1/3 w-96 h-96 bg-gradient-to-br from-amber-500/20 to-red-500/20 rounded-full blur-3xl animate-qi-pulse" style={{ animationDelay: '1.5s' }}></div>
      </div>

      <div className="relative z-10 space-y-6">
        <div className="space-y-3">
          <div className="flex items-center gap-3 md:gap-4">
            <div className="h-12 w-12 md:h-16 md:w-16 rounded-lg bg-gradient-to-br from-red-600 to-amber-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <Activity className="h-6 w-6 md:h-8 md:w-8 text-white" />
            </div>
            <div>
              <h1 className="text-2xl md:text-3xl font-bold bg-gradient-to-r from-red-600 via-amber-500 to-red-600 bg-clip-text text-transparent">
                
              </h1>
              <p className="text-xs md:text-sm text-muted-foreground">  </p>
            </div>
          </div>

          {moduleState && (
            <div className="flex items-center gap-2 flex-wrap">
              <Badge variant={moduleState.isActive ? "default" : "secondary"} className="gap-1.5 text-xs">
                <div className={`h-2 w-2 rounded-full ${moduleState.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'}`}></div>
                {moduleState.isActive ? '' : ''}
              </Badge>
              <Badge variant="outline" className="text-xs">: {Math.round(moduleState.healthScore * 100)}%</Badge>
              <Badge variant="outline" className="text-xs">: {Math.round(moduleState.syncQuality * 100)}%</Badge>
            </div>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4">
          <Card className="hover:shadow-lg transition-shadow border-primary/20">
            <CardHeader className="pb-2 md:pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Zap className="h-4 w-4 text-amber-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl md:text-3xl font-bold">{Math.round(qiLevel)}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={qiLevel} className="mt-2 h-1.5 md:h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow border-primary/20">
            <CardHeader className="pb-2 md:pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Wind className="h-4 w-4 text-blue-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl md:text-3xl font-bold">{Math.round(qiFlow)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={qiFlow} className="mt-2 h-1.5 md:h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow border-primary/20">
            <CardHeader className="pb-2 md:pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Flame className="h-4 w-4 text-red-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl md:text-3xl font-bold">{Math.round(energyBalance)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={energyBalance} className="mt-2 h-1.5 md:h-2" />
            </CardContent>
          </Card>
        </div>

        <Card>
          <CardHeader>
            <CardTitle className="text-base md:text-lg"></CardTitle>
            <CardDescription className="text-xs md:text-sm"></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="relative h-80 md:h-96 bg-muted/20 rounded-lg border border-border/50 overflow-hidden">
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="relative">
                  <div className="absolute inset-0 bg-gradient-to-br from-red-500/40 to-amber-500/40 rounded-full blur-2xl animate-qi-pulse"></div>
                  <div className="relative h-32 w-32 md:h-48 md:w-48 rounded-full bg-gradient-to-br from-red-600 to-amber-600 flex items-center justify-center shadow-2xl border-4 border-white/20">
                    <div className="text-center text-white">
                      <Activity className="h-12 w-12 md:h-16 md:w-16 mx-auto mb-2 animate-qi-pulse" />
                      <p className="font-bold text-xl md:text-2xl">{Math.round(qiLevel)}</p>
                      <p className="text-xs md:text-sm opacity-80"></p>
                    </div>
                  </div>
                </div>
              </div>

              <svg className="absolute inset-0 w-full h-full pointer-events-none">
                <defs>
                  <linearGradient id="qiGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stopColor="oklch(0.65 0.26 25 / 0.6)" />
                    <stop offset="50%" stopColor="oklch(0.70 0.24 40 / 0.8)" />
                    <stop offset="100%" stopColor="oklch(0.65 0.26 25 / 0.6)" />
                  </linearGradient>
                </defs>
                {[0, 45, 90, 135, 180, 225, 270, 315].map((angle, index) => {
                  const rad = (angle * Math.PI) / 180;
                  const x1 = 50 + 15 * Math.cos(rad);
                  const y1 = 50 + 15 * Math.sin(rad);
                  const x2 = 50 + 40 * Math.cos(rad);
                  const y2 = 50 + 40 * Math.sin(rad);

                  return (
                    <line
                      key={angle}
                      x1={`${x1}%`}
                      y1={`${y1}%`}
                      x2={`${x2}%`}
                      y2={`${y2}%`}
                      stroke="url(#qiGradient)"
                      strokeWidth={2}
                      strokeDasharray="5,5"
                      className="animate-data-flow"
                      style={{ animationDelay: `${index * 0.2}s` }}
                    />
                  );
                })}
              </svg>
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle className="text-base md:text-lg flex items-center gap-2">
              <TrendingUp className="h-4 w-4 md:h-5 md:w-5" />
              
            </CardTitle>
            <CardDescription className="text-xs md:text-sm"></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="space-y-3">
              {moduleState?.dependencies.map((depId) => (
                <div key={depId} className="flex items-center justify-between p-3 rounded-lg border border-border/50 hover:border-primary/50 transition-all">
                  <div className="flex items-center gap-2 md:gap-3">
                    <div className="h-2 w-2 rounded-full bg-green-500 animate-qi-pulse"></div>
                    <span className="font-medium text-sm md:text-base">{depId}</span>
                  </div>
                  <Badge variant="outline" className="text-xs"></Badge>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
frontend/src/lib/lflcModuleConnector.ts/**
 * LFLC 
 * Centralized Communication Framework for All LFLC Module Endpoints
 * 
 * 
 * 
 *  Canister ID: cerpu-yyaaa-aaaai-q4wuq-cai 3D NFT 
 * 
 * 
 * - LFLC  (https://lflcei-engergy-gkn.caffeine.xyz)
 * - NFT  (https://lflc-nft-marketplace-tt9.caffeine.xyz)
 */

export interface LFLCModuleEndpoint {
  id: string;
  name: string;
  url: string;
  type: 'wallet' | 'ai-platform' | 'oracle' | 'lucky-draw' | 'dashboard' | 'database' | 'monitoring' | 'games' | 'intelligence' | 'dcdn' | 'ecosystem' | 'firewall' | 'backstage' | 'gacha' | 'network' | 'energy' | 'nft-marketplace';
  status: 'connected' | 'disconnected' | 'error' | 'syncing';
  lastSync: number;
  healthScore: number;
  description: string;
  capabilities: string[];
}

export interface ModuleConnectionStatus {
  totalModules: number;
  connectedModules: number;
  disconnectedModules: number;
  errorModules: number;
  syncingModules: number;
  overallHealth: number;
  lastUpdate: number;
}

export interface ModuleSyncResult {
  moduleId: string;
  success: boolean;
  timestamp: number;
  latency: number;
  error?: string;
  data?: any;
}

export interface ModuleDataExchange {
  sourceModule: string;
  targetModule: string;
  dataType: string;
  payload: any;
  timestamp: number;
  status: 'pending' | 'completed' | 'failed';
}

export class LFLCModuleConnector {
  private static instance: LFLCModuleConnector;
  private modules: Map<string, LFLCModuleEndpoint>;
  private syncHistory: ModuleSyncResult[];
  private dataExchangeQueue: ModuleDataExchange[];
  private syncInterval: NodeJS.Timeout | null = null;
  private readonly MAX_SYNC_HISTORY = 100;
  private readonly SYNC_INTERVAL = 5000; // 5 seconds
  private readonly MAX_RETRIES = 3;
  private readonly INITIAL_DELAY = 500;
  private readonly AUTHORIZED_CANISTER_ID = 'cerpu-yyaaa-aaaai-q4wuq-cai';

  private constructor() {
    this.modules = new Map();
    this.syncHistory = [];
    this.dataExchangeQueue = [];
    this.initializeModules();
    console.log(`[LFLCModuleConnector] Initialized with authorized canister: ${this.AUTHORIZED_CANISTER_ID}`);
  }

  static getInstance(): LFLCModuleConnector {
    if (!LFLCModuleConnector.instance) {
      LFLCModuleConnector.instance = new LFLCModuleConnector();
    }
    return LFLCModuleConnector.instance;
  }

  /**
   *  LFLC  NFT 
   */
  private initializeModules() {
    const moduleDefinitions: Omit<LFLCModuleEndpoint, 'status' | 'lastSync' | 'healthScore'>[] = [
      {
        id: 'lflcei-energy',
        name: 'LFLC ',
        url: 'https://lflcei-engergy-gkn.caffeine.xyz',
        type: 'energy',
        description: '    ',
        capabilities: ['energy-balance', 'energy-rate', 'total-flux', 'retry-logic', 'cache-fallback'],
      },
      {
        id: 'lflc-nft-marketplace',
        name: 'NFT ',
        url: 'https://lflc-nft-marketplace-tt9.caffeine.xyz',
        type: 'nft-marketplace',
        description: 'NFT   ICRC-7/37   ',
        capabilities: ['nft-assets', 'icrc-7', 'icrc-37', 'unified-auth', 'real-time-sync'],
      },
      {
        id: 'lflc-natural-intelligence',
        name: 'LFLC ',
        url: 'https://lflc-natural-intelligence-spd.caffeine.xyz/',
        type: 'intelligence',
        description: '',
        capabilities: ['natural-processing', 'eco-intelligence', 'adaptive-learning'],
      },
      {
        id: 'lflcei-anima',
        name: 'LFLCEI Anima',
        url: 'https://lflcei-anima-t5m.caffeine.xyz/',
        type: 'dashboard',
        description: '',
        capabilities: ['universe-energy', 'score-tracking', 'energy-visualization'],
      },
      {
        id: 'lflc-wallet',
        name: 'LFLC ',
        url: 'https://lflc-wallet-mm9.caffeine.xyz/',
        type: 'wallet',
        description: '',
        capabilities: ['balance', 'transfer', 'transaction-history', 'icp-energy-coin'],
      },
      {
        id: 'lflc-backstage-supporter',
        name: 'LFLC ',
        url: 'https://lflc-backstage-supporter-ixz.caffeine.xyz/',
        type: 'backstage',
        description: '',
        capabilities: ['admin-control', 'system-management', 'support-tools'],
      },
      {
        id: 'lflc-oracle',
        name: 'LFLC ',
        url: 'https://lflc-oracle-4bu.caffeine.xyz/',
        type: 'oracle',
        description: '',
        capabilities: ['external-data', 'price-feed', 'data-verification'],
      },
      {
        id: 'lflc-clicker-games',
        name: 'LFLC ',
        url: 'https://lflc-clicker-games-kry.caffeine.xyz/',
        type: 'games',
        description: '',
        capabilities: ['click-mechanics', 'energy-rewards', 'game-state'],
      },
      {
        id: 'lflc-monitoring-platform',
        name: 'LFLC ',
        url: 'https://lflc-monitoring-platform-u19.caffeine.xyz/',
        type: 'monitoring',
        description: '',
        capabilities: ['performance-monitoring', 'health-check', 'alert-system'],
      },
      {
        id: 'lflc-lucky-draw-games',
        name: 'LFLC ',
        url: 'https://lflc-lucky-draw-games-wzt.caffeine.xyz/',
        type: 'lucky-draw',
        description: '',
        capabilities: ['lottery-mechanics', 'prize-distribution', 'game-state'],
      },
      {
        id: 'lflc-data-ecosystem-platform',
        name: 'LFLC ',
        url: 'https://lflc-data-ecosystem-platform-0jp.caffeine.xyz/',
        type: 'ecosystem',
        description: '',
        capabilities: ['data-aggregation', 'ecosystem-management', 'analytics'],
      },
      {
        id: 'lflc-firewall',
        name: 'LFLC ',
        url: 'https://lflc-firewall-525.caffeine.xyz/',
        type: 'firewall',
        description: '',
        capabilities: ['security-monitoring', 'threat-detection', 'access-control'],
      },
      {
        id: 'lflc-lucky-draw',
        name: 'LFLC ',
        url: 'https://lflc-lucky-draw-8y8.caffeine.xyz/',
        type: 'lucky-draw',
        description: '',
        capabilities: ['draw-mechanics', 'reward-system', 'user-participation'],
      },
      {
        id: 'lflc-decentralized-ecosystem-dashboard',
        name: 'LFLC ',
        url: 'https://lflc-decentralized-ecosystem-dashboard-poj.caffeine.xyz/',
        type: 'dashboard',
        description: '',
        capabilities: ['ecosystem-monitoring', 'decentralized-metrics', 'visualization'],
      },
      {
        id: 'lflc-ai-games',
        name: 'LFLC AI ',
        url: 'https://lflc-ai-games-2eg.caffeine.xyz/',
        type: 'games',
        description: 'AI ',
        capabilities: ['game-logic', 'ai-opponent', 'reward-system'],
      },
      {
        id: 'lflc-lucky-gacha',
        name: 'LFLC ',
        url: 'https://lflc-lucky-gacha-mn6.caffeine.xyz/',
        type: 'gacha',
        description: '',
        capabilities: ['gacha-mechanics', 'prize-pool', 'rarity-system'],
      },
      {
        id: 'lflc-integration-platform-dashboard',
        name: 'LFLC ',
        url: 'https://lflc-integration-platform-dashboard-175.caffeine.xyz/',
        type: 'dashboard',
        description: '',
        capabilities: ['integration-monitoring', 'cross-platform-metrics', 'unified-view'],
      },
      {
        id: 'lflc-network-nervous-system',
        name: 'LFLC ',
        url: 'https://lflc-network-nervous-system-dqx.caffeine.xyz/',
        type: 'network',
        description: '',
        capabilities: ['network-coordination', 'neural-processing', 'system-intelligence'],
      },
      {
        id: 'lflc-gacha-airdrop',
        name: 'LFLC ',
        url: 'https://lflc-gacha-airdrop-qbp.caffeine.xyz/',
        type: 'gacha',
        description: '',
        capabilities: ['airdrop-distribution', 'gacha-rewards', 'user-engagement'],
      },
      {
        id: 'lflc-decentralized-database',
        name: 'LFLC ',
        url: 'https://lflc-decentralized-database-aar.caffeine.xyz/',
        type: 'database',
        description: '',
        capabilities: ['data-storage', 'data-query', 'data-sync'],
      },
      {
        id: 'lflc-ei',
        name: 'LFLC EI',
        url: 'https://lflc-ei-75z.caffeine.xyz/',
        type: 'lucky-draw',
        description: '',
        capabilities: ['energy-reward', 'game-state', 'prize-distribution'],
      },
      {
        id: 'lflc-dcdn',
        name: 'LFLC DCDN',
        url: 'https://lflc-dcdn-maa.caffeine.xyz/',
        type: 'dcdn',
        description: '',
        capabilities: ['content-distribution', 'cdn-routing', 'cache-management'],
      },
    ];

    moduleDefinitions.forEach(def => {
      this.modules.set(def.id, {
        ...def,
        status: 'disconnected',
        lastSync: 0,
        healthScore: 0,
      });
    });

    console.log('[LFLCModuleConnector] Initialized', this.modules.size, 'module endpoints (including external energy and NFT marketplace)');
  }

  /**
   *  Canister ID
   */
  getAuthorizedCanisterId(): string {
    return this.AUTHORIZED_CANISTER_ID;
  }

  /**
   * 
   */
  startAutoSync() {
    if (this.syncInterval) {
      console.warn('[LFLCModuleConnector] Auto-sync already running');
      return;
    }

    console.log('[LFLCModuleConnector] Starting auto-sync with interval:', this.SYNC_INTERVAL, 'ms');
    
    // Initial sync
    this.syncAllModules();

    // Set up interval
    this.syncInterval = setInterval(() => {
      this.syncAllModules();
    }, this.SYNC_INTERVAL);
  }

  /**
   * 
   */
  stopAutoSync() {
    if (this.syncInterval) {
      clearInterval(this.syncInterval);
      this.syncInterval = null;
      console.log('[LFLCModuleConnector] Auto-sync stopped');
    }
  }

  /**
   * 
   */
  async syncAllModules(): Promise<ModuleSyncResult[]> {
    const results: ModuleSyncResult[] = [];
    const modules = Array.from(this.modules.values());

    console.log('[LFLCModuleConnector] Syncing', modules.length, 'modules...');

    for (const module of modules) {
      const result = await this.syncModule(module.id);
      results.push(result);
    }

    return results;
  }

  /**
   * 
   */
  async syncModule(moduleId: string, retryCount: number = 0): Promise<ModuleSyncResult> {
    const module = this.modules.get(moduleId);
    if (!module) {
      return {
        moduleId,
        success: false,
        timestamp: Date.now(),
        latency: 0,
        error: 'Module not found',
      };
    }

    const startTime = Date.now();
    module.status = 'syncing';
    this.modules.set(moduleId, module);

    try {
      // Attempt health check
      const response = await fetch(`${module.url}/health`, {
        method: 'GET',
        signal: AbortSignal.timeout(3000), // 3 second timeout
      });

      const latency = Date.now() - startTime;

      if (response.ok) {
        module.status = 'connected';
        module.lastSync = Date.now();
        module.healthScore = Math.min(module.healthScore + 0.1, 1.0);
        this.modules.set(moduleId, module);

        const result: ModuleSyncResult = {
          moduleId,
          success: true,
          timestamp: Date.now(),
          latency,
        };

        this.addSyncHistory(result);
        console.log(`[LFLCModuleConnector]  ${module.name} synced (${latency}ms)`);
        return result;
      } else {
        throw new Error(`HTTP ${response.status}`);
      }

    } catch (error) {
      const errorMessage = error instanceof Error ? error.message : 'Unknown error';
      
      // Retry logic
      if (retryCount < this.MAX_RETRIES - 1) {
        const delay = this.INITIAL_DELAY * Math.pow(2, retryCount);
        console.log(`[LFLCModuleConnector] Retrying ${module.name} in ${delay}ms...`);
        await new Promise(resolve => setTimeout(resolve, delay));
        return this.syncModule(moduleId, retryCount + 1);
      }

      // All retries exhausted
      module.status = 'error';
      module.healthScore = Math.max(module.healthScore - 0.2, 0);
      this.modules.set(moduleId, module);

      const result: ModuleSyncResult = {
        moduleId,
        success: false,
        timestamp: Date.now(),
        latency: Date.now() - startTime,
        error: errorMessage,
      };

      this.addSyncHistory(result);
      console.error(`[LFLCModuleConnector]  ${module.name} sync failed:`, errorMessage);
      return result;
    }
  }

  /**
   * 
   */
  private addSyncHistory(result: ModuleSyncResult) {
    this.syncHistory.push(result);
    if (this.syncHistory.length > this.MAX_SYNC_HISTORY) {
      this.syncHistory.shift();
    }
  }

  /**
   * 
   */
  getConnectionStatus(): ModuleConnectionStatus {
    const modules = Array.from(this.modules.values());
    const connected = modules.filter(m => m.status === 'connected').length;
    const disconnected = modules.filter(m => m.status === 'disconnected').length;
    const error = modules.filter(m => m.status === 'error').length;
    const syncing = modules.filter(m => m.status === 'syncing').length;
    const avgHealth = modules.reduce((sum, m) => sum + m.healthScore, 0) / modules.length;

    return {
      totalModules: modules.length,
      connectedModules: connected,
      disconnectedModules: disconnected,
      errorModules: error,
      syncingModules: syncing,
      overallHealth: avgHealth,
      lastUpdate: Date.now(),
    };
  }

  /**
   * 
   */
  getAllModules(): LFLCModuleEndpoint[] {
    return Array.from(this.modules.values());
  }

  /**
   * 
   */
  getModule(moduleId: string): LFLCModuleEndpoint | undefined {
    return this.modules.get(moduleId);
  }

  /**
   * 
   */
  getSyncHistory(limit?: number): ModuleSyncResult[] {
    if (limit) {
      return this.syncHistory.slice(-limit);
    }
    return [...this.syncHistory];
  }

  /**
   * 
   */
  async exchangeData(exchange: Omit<ModuleDataExchange, 'timestamp' | 'status'>): Promise<boolean> {
    const sourceModule = this.modules.get(exchange.sourceModule);
    const targetModule = this.modules.get(exchange.targetModule);

    if (!sourceModule || !targetModule) {
      console.error('[LFLCModuleConnector] Invalid module IDs for data exchange');
      return false;
    }

    const dataExchange: ModuleDataExchange = {
      ...exchange,
      timestamp: Date.now(),
      status: 'pending',
    };

    this.dataExchangeQueue.push(dataExchange);

    try {
      // Simulate data exchange (in production, this would be actual API calls)
      await new Promise(resolve => setTimeout(resolve, 100));
      
      dataExchange.status = 'completed';
      console.log(`[LFLCModuleConnector] Data exchanged: ${sourceModule.name}  ${targetModule.name}`);
      return true;

    } catch (error) {
      dataExchange.status = 'failed';
      console.error('[LFLCModuleConnector] Data exchange failed:', error);
      return false;
    }
  }

  /**
   * 
   */
  getDataExchangeQueue(): ModuleDataExchange[] {
    return [...this.dataExchangeQueue];
  }

  /**
   * 
   */
  clearDataExchangeQueue() {
    this.dataExchangeQueue = [];
  }

  /**
   * 
   */
  async testAllConnections(): Promise<Map<string, boolean>> {
    const results = new Map<string, boolean>();
    const modules = Array.from(this.modules.values());

    for (const module of modules) {
      try {
        const response = await fetch(`${module.url}/health`, {
          method: 'GET',
          signal: AbortSignal.timeout(3000),
        });
        results.set(module.id, response.ok);
      } catch (error) {
        results.set(module.id, false);
      }
    }

    return results;
  }

  /**
   * 
   */
  resetModule(moduleId: string) {
    const module = this.modules.get(moduleId);
    if (module) {
      module.status = 'disconnected';
      module.lastSync = 0;
      module.healthScore = 0;
      this.modules.set(moduleId, module);
      console.log(`[LFLCModuleConnector] Reset module: ${module.name}`);
    }
  }

  /**
   * 
   */
  resetAllModules() {
    this.modules.forEach((module, id) => {
      this.resetModule(id);
    });
    this.syncHistory = [];
    this.dataExchangeQueue = [];
    console.log('[LFLCModuleConnector] All modules reset');
  }

  /**
   * 
   */
  destroy() {
    this.stopAutoSync();
    this.modules.clear();
    this.syncHistory = [];
    this.dataExchangeQueue = [];
    console.log('[LFLCModuleConnector] Connector destroyed');
  }
}

// Export singleton instance
export const lflcModuleConnector = LFLCModuleConnector.getInstance();
PK
spec.md# LFLC 

## 
LFLCEI AINFTICPAPIGPU1 ICP0.1 ICPInternet Identity 2.0

## 

### TailwindTypeScript
- ****: Tailwind
- **Tailwind**: Tailwind
- **JSX/TSX**: JSX/TSXTypeScript
- ****: TypeScript
- ****: Tailwind

### 
- **React Hooks**: React hooksnull/undefined
- **App.tsx**: App.tsx
- **AccessDeniedScreen**: AccessDeniedScreen
- **useQueries**: useQueries.ts
- ****: 
- ****: 

### API
- ****: EnergyAPI
- **NFT**: NFT
- ****: 
- ****: 
- ****: API
- ****: 

### 
- ****: 
- **App**: App
- **Suspense**: React Suspense
- ****: 
- ****: 
- ****: 

### 
- **Vite**: Vite
- **TypeScript**: TypeScript
- ****: 
- ****: 
- ****: 
- ****: 

## Internet Identity 2.0 

### 
- ****: Internet Identity
- ****: AccessControl/
- ****: 
- ****: /
- ****: Internet Identity
- ****: 

### 
- ****: hooks
- **AccessDeniedScreen**: AccessDeniedScreen
- ****: 
- ****: /

### AccessControl
- ****: AccessControl
- ****: 
- ****: 
- ****: 

### 
- ****: 
- ****: 
- ****: 
- ****: 

## 

### lflcModuleConnector
- ****: lflcModuleConnector
- ****: 
- ****: 
- ****: 

### 
- ****: 
- ****: 
- **NFT**: NFT
- **AI**: AI
- ****: ICP
- ****: 
- ****: 
- ****: 

### 
- ****: 
- ****: 
- ****: 
- ****: 

### 
- ****: 
- ****: 
- ****: 
- ****: 

## GPU

### 
- ****: GPU
- ****: UniverseEnergyDisplayEnergyParticleFlowMartialQiUnifiedDashboard
- ****: 
- ****: 

### 
- ****: UniverseEnergyDisplayExternalEnergyDisplayEnergyCoinBalanceTracker
- **GPU**: GPU
- ****: 
- ****: 

### 
- ****: 
- ****: 
- ****: GPU
- ****: 

## 

### 
- ****: LFLCEIDApp
- ****: ICP
- ****: 
- **NFT**: NFTICRC
- ****: main.mo
- ****: GPU

### 
- **Internet Identity**: Internet Identity 2.0
- ****: 
- ****: 
- ****: 
- **NFT**: NFT
- **AI**: AI

## Canister

### 
- **Canister**: CanisterCanister
- ****: Canister
- ****: 
- ****: 

### 
- ****: Canister
- ****: 
- ****: 
- ****: 

### 
- ****: 
- ****: 
- ****: 
- ****: 

### 
- ****: ICP
- **API**: API
- ****: 
- ****: 

## Canister

### 
- **Canister ID**: cerpu-yyaaa-aaaai-q4wuq-cai
- ****: 3D NFT
- ****: 
- Canister
- 3D NFT
- 

### Ledger Canister
- **Ledger Canister ID**: ryjl3-tyaaa-aaaaa-aaaba-cai
- **ICP**: ICP Ledger
- ****: allowanceapproval
- ****: pendingsuccessfailed

### LFLC Clicker Game Canister
- **Canister ID**: configLFLC Clicker Game canister ID
- ****: handleGameStart()ICP
- ****: 

## Internet Identity 2.0 

### Internet Identity 2.0 
- **Internet Identity 2.0 ID**: 2911215
- **Principal ID**: ssmgf-hhyda-pxtto-ozjbv-wxqbi-srswj-eabc5-2xzzf-ep6u5-psqp2-zqe
- ****:  / LEE YIHSUN (Johnnylee7912)
- Internet Identity 2.0
- 
- 
- 

### 
- **Plug**: PlugICP
- **NNS DApp**: NNS DApp
- ****: 
- ****: Internet Identity

### DApp
- **DApp (NNS DApp ID)**: yid4j-tfp2q-imv5l-buvfg-smdts-6tagk-7ppff-ftjeq-px5co-d7pg7-uae
- **ICP**: 98eddabcedfeb743163bf2c4c3e2f68f54c36287dc515eae95b1a8040d616188
- ****: 5 ICPNNS DApp
- ICP
- 5 ICPNNS DApp
- 

## 

### LFLC 
- ****: https://lflcei-engergy-gkn.caffeine.xyz
- ****: 
- ****: EnergyCoinPageUnifiedDashboardPage
- ****: 5
- ****: 

### NFT 
- **NFT**: https://lflc-nft-marketplace-tt9.caffeine.xyz
- ****: NFT
- ****: UnifiedDashboardPage"NFT "
- **ICRC**: ICRC-7/ICRC-37NFT
- ****: Internet Identity 2.0
- ****: NFT

### 
- ****: ModuleConnectionPageLFLCModuleConnectionMonitor
- ****: 
- ****: GPU
- ****: 

## DApp

### 
- ****: GachaAINFTNFT
- ****: 
- ****: 
- ****: 

### 
- ****: handleGameStart()ICP
- ****: ICPhandleGameStart()
- **Gacha**: NFT
- **AI**: AI
- ****: ICP
- **NFT**: NFT3D NFT
- ****: 
- ****: 
- ****: LFLC
- **NFT**: NFTICRC
- ****: 

### 
- ****: Ledger canistercanister
- ****: allowanceapproval
- ****: PaymentProgressTrackerSecurePaymentInterfacePaymentVerificationBadge
- ****: 
- ****: console/log

## 

### 
- 
- 
- 
- 
- 

### 
- 
- 
- 
- 
- 

## 

### 
- **UI**: 
- ****: 
- ****: 
- ****: 
- ****: LFLCEI

### GPU
- ****: GPU
- ****: 
- ****: 
- ****: 
- ****: GPU
- ****: GPU

## 

### 
- ****: 
- ****: 
- ****: 
- ****: 
- ****: LFLC

### 
- ****: 3
- ****: 
- ****: 
- ****: 
- ****: LFLC

## 

### 
- 1 ICPInternet Identity 2.0
- 
- 

### 
- **0.1 ICP**: 
- ****: 
- ****: 
- ****: 

## 

- Internet IdentityAccessControl
- hooksAccessDeniedScreen
- 
- lflcModuleConnector
- GPUGPU
- CanisterCanister
- 
- API
- Internet Identity 2.0
- PlugNNS DApp
- Ledger CanisterICPallowanceapproval
- LFLC Clicker Gamecanister
- LFLCNFTAPI
- 
- NFTNFTICRCNFT
- 
- 
- GachaAINFT
- 
- 
- 
- UI
- 
- 
- 
- 
- 

## 

- TailwindTypeScriptAPI
- Internet IdentityAccessControl
- hooksAccessDeniedScreen
- 
- lflcModuleConnector
- GPUGPU
- Internet Identity 2.0
- 
- allowanceapproval
- canister
- LFLCNFT
- 
- NFTNFTICRCNFT
- GPU
- 
- UINFT
- 
- 
- 
- 
- 
- 
- API
- 

## 
- TailwindTypeScriptAPI
- Internet IdentityAccessControl
- hooksAccessDeniedScreen
- 
- lflcModuleConnector
- GPUGPU
- CanisterCanister
- 
- API
- Internet Identity 2.0
- 
- ICPallowanceapproval
- canister
- LFLCNFT
- 
- NFTNFTICRCNFT
- GPU
- 
- NFTAI
- 
- 
- 
- 
- 
- 
- 
- 
- 
PK
frontend/src/pages/ModuleConnectionPage.tsximport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Network, Workflow, Shield, Database, Users, UserCog, Activity, Radio, Zap, ArrowLeftRight } from 'lucide-react';
import LFLCModuleConnectionMonitor from '../components/LFLCModuleConnectionMonitor';
import { Badge } from '@/components/ui/badge';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { useInternetIdentity } from '../hooks/useInternetIdentity';
import { useQuery } from '@tanstack/react-query';
import { useActor } from '../hooks/useActor';
import { Separator } from '@/components/ui/separator';

export default function ModuleConnectionPage() {
  const { identity } = useInternetIdentity();
  const { actor, isFetching } = useActor();

  // Check if user is admin
  const { data: isAdmin } = useQuery<boolean>({
    queryKey: ['isAdmin'],
    queryFn: async () => {
      if (!actor) return false;
      return actor.isCallerAdmin();
    },
    enabled: !!actor && !isFetching && !!identity,
  });

  return (
    <div className="container px-4 py-8 md:px-8 relative min-h-screen">
      {/* Animated Background */}
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-20">
        <div className="absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-blue-500/30 to-cyan-500/30 rounded-full blur-3xl animate-qi-pulse"></div>
        <div className="absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-br from-cyan-500/30 to-blue-500/30 rounded-full blur-3xl animate-qi-pulse" style={{ animationDelay: '1s' }}></div>
      </div>

      <div className="relative z-10 space-y-6">
        {/* Header */}
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="relative">
              <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-blue-600 via-cyan-500 to-green-600 flex items-center justify-center shadow-lg animate-fusion-sync-pulse">
                <Workflow className="h-8 w-8 text-white" />
              </div>
              <div className="absolute -top-1 -right-1 h-4 w-4 bg-green-500 rounded-full animate-qi-pulse border-2 border-background"></div>
            </div>
            <div>
              <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 via-cyan-500 to-green-600 bg-clip-text text-transparent">
                LFLC 
              </h1>
              <p className="text-sm md:text-base text-muted-foreground">
                      
              </p>
            </div>
          </div>

          {/* User Role Badge */}
          <div className="flex items-center gap-2">
            <Badge variant={isAdmin ? "default" : "secondary"} className="gap-2">
              {isAdmin ? <UserCog className="h-3 w-3" /> : <Users className="h-3 w-3" />}
              {isAdmin ? '' : ''}
            </Badge>
            <Badge variant="outline" className="gap-2">
              <Radio className="h-3 w-3 animate-qi-pulse" />
              
            </Badge>
          </div>
        </div>

        {/* Canister Permissions Configuration */}
        <Card className="border-2 border-purple-500/30 bg-gradient-to-br from-purple-500/5 to-pink-500/5">
          <CardHeader>
            <CardTitle className="flex items-center gap-2">
              <Shield className="h-5 w-5 text-purple-500" />
              Canister 
            </CardTitle>
            <CardDescription>
                  3D NFT   
            </CardDescription>
          </CardHeader>
          <CardContent>
            <div className="space-y-4">
              <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">
                <div className="flex items-start justify-between mb-3">
                  <div>
                    <h4 className="font-semibold text-lg mb-1"> Canister ID</h4>
                    <p className="text-sm text-muted-foreground mb-2"></p>
                  </div>
                  <Badge variant="default" className="bg-purple-500"></Badge>
                </div>
                <div className="font-mono text-sm bg-background/50 p-3 rounded border border-border/50">
                  cerpu-yyaaa-aaaai-q4wuq-cai
                </div>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-3 gap-3">
                <div className="p-3 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                  <div className="flex items-center gap-2 mb-2">
                    <Database className="h-4 w-4 text-blue-500" />
                    <p className="text-xs font-semibold"></p>
                  </div>
                  <p className="text-xs text-muted-foreground"></p>
                </div>

                <div className="p-3 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
                  <div className="flex items-center gap-2 mb-2">
                    <Shield className="h-4 w-4 text-green-500" />
                    <p className="text-xs font-semibold">3D NFT </p>
                  </div>
                  <p className="text-xs text-muted-foreground"></p>
                </div>

                <div className="p-3 rounded-lg bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/30">
                  <div className="flex items-center gap-2 mb-2">
                    <Network className="h-4 w-4 text-orange-500" />
                    <p className="text-xs font-semibold"></p>
                  </div>
                  <p className="text-xs text-muted-foreground"></p>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Main Content Tabs */}
        <Tabs defaultValue="monitor" className="space-y-4">
          <TabsList className="grid w-full grid-cols-3">
            <TabsTrigger value="monitor"></TabsTrigger>
            <TabsTrigger value="architecture"></TabsTrigger>
            <TabsTrigger value="coordination"></TabsTrigger>
          </TabsList>

          {/* Connection Monitor Tab */}
          <TabsContent value="monitor" className="space-y-4">
            <LFLCModuleConnectionMonitor />
          </TabsContent>

          {/* Architecture Integration Tab */}
          <TabsContent value="architecture" className="space-y-4">
            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Network className="h-5 w-5 text-blue-500" />
                  
                </CardTitle>
                <CardDescription>
                   LFLC 
                </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="space-y-4">
                  <div className="p-4 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                    <h4 className="font-semibold mb-2 flex items-center gap-2">
                      <span className="h-2 w-2 rounded-full bg-blue-500 animate-qi-pulse"></span>
                      
                    </h4>
                    <p className="text-sm text-muted-foreground leading-relaxed">
                        Anima      AI                DCDN  
                    </p>
                  </div>

                  <div className="flex items-center justify-center">
                    <div className="relative">
                      <div className="h-12 w-12 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center">
                        <Workflow className="h-6 w-6 text-white" />
                      </div>
                      <div className="absolute -top-1 -right-1 h-3 w-3 bg-green-500 rounded-full animate-qi-pulse border border-background"></div>
                    </div>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
                    <h4 className="font-semibold mb-2 flex items-center gap-2">
                      <span className="h-2 w-2 rounded-full bg-green-500 animate-qi-pulse"></span>
                      
                    </h4>
                    <p className="text-sm text-muted-foreground leading-relaxed">
                                  AI   
                    </p>
                  </div>

                  <Separator />

                  <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">
                    <h4 className="font-semibold mb-2 flex items-center gap-2">
                      <Network className="h-4 w-4 text-purple-500" />
                      
                    </h4>
                    <p className="text-sm text-muted-foreground leading-relaxed mb-3">
                       DApp         
                    </p>
                    <div className="grid grid-cols-2 gap-3">
                      <div className="p-3 rounded-lg bg-background/50 border border-border/50">
                        <div className="flex items-center gap-2 mb-1">
                          <Users className="h-3 w-3 text-blue-500" />
                          <p className="text-xs font-semibold"></p>
                        </div>
                        <p className="text-xs text-muted-foreground">    </p>
                      </div>
                      <div className="p-3 rounded-lg bg-background/50 border border-border/50">
                        <div className="flex items-center gap-2 mb-1">
                          <UserCog className="h-3 w-3 text-purple-500" />
                          <p className="text-xs font-semibold"></p>
                        </div>
                        <p className="text-xs text-muted-foreground">    </p>
                      </div>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>

            {/* Bidirectional Data Flow */}
            <Card className="border-2 border-cyan-500/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <ArrowLeftRight className="h-5 w-5 text-cyan-500" />
                  
                </CardTitle>
                <CardDescription>
                        
                </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div className="p-4 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                    <div className="flex items-center gap-2 mb-3">
                      <ArrowLeftRight className="h-5 w-5 text-blue-500" />
                      <p className="font-semibold"></p>
                    </div>
                    <div className="space-y-2 text-sm">
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground">  </span>
                        <Badge variant="default" className="text-xs"></Badge>
                      </div>
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground">  </span>
                        <Badge variant="default" className="text-xs"></Badge>
                      </div>
                    </div>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
                    <div className="flex items-center gap-2 mb-3">
                      <Activity className="h-5 w-5 text-green-500" />
                      <p className="font-semibold"></p>
                    </div>
                    <div className="space-y-2 text-sm">
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground"></span>
                        <Badge variant="default" className="text-xs"></Badge>
                      </div>
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground"></span>
                        <Badge variant="default" className="text-xs"></Badge>
                      </div>
                    </div>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">
                    <div className="flex items-center gap-2 mb-3">
                      <Zap className="h-5 w-5 text-purple-500" />
                      <p className="font-semibold"></p>
                    </div>
                    <div className="space-y-2 text-sm">
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground">GPU </span>
                        <Badge variant="default" className="text-xs"></Badge>
                      </div>
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground"></span>
                        <Badge variant="default" className="text-xs"></Badge>
                      </div>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>
          </TabsContent>

          {/* Ecosystem Coordination Tab */}
          <TabsContent value="coordination" className="space-y-4">
            <Card className="border-2 border-green-500/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Activity className="h-5 w-5 text-green-500" />
                  
                </CardTitle>
                <CardDescription>
                      
                </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="relative h-[400px] bg-gradient-to-br from-muted/20 to-muted/5 rounded-lg border border-border/50 overflow-hidden">
                  {/* Central Coordination Hub */}
                  <div className="absolute inset-0 flex items-center justify-center">
                    <div className="relative">
                      <div className="absolute inset-0 rounded-full blur-2xl animate-fusion-sync-pulse bg-gradient-to-br from-green-500/40 via-emerald-500/40 to-cyan-500/40"></div>
                      <div className="relative h-32 w-32 rounded-full bg-gradient-to-br from-green-600 via-emerald-600 to-cyan-600 flex items-center justify-center shadow-2xl border-4 border-white/20">
                        <div className="text-center">
                          <p className="text-white font-bold text-xl"></p>
                          <p className="text-white/90 text-xs"></p>
                        </div>
                      </div>
                    </div>
                  </div>

                  {/* Sender Nodes (Frontend) */}
                  {[0, 1, 2, 3].map((index) => {
                    const angle = (index / 4) * Math.PI - Math.PI / 2;
                    const radius = 38;
                    const x = 50 + radius * Math.cos(angle);
                    const y = 50 + radius * Math.sin(angle);

                    return (
                      <div
                        key={`sender-${index}`}
                        className="absolute"
                        style={{
                          left: `${x}%`,
                          top: `${y}%`,
                          transform: 'translate(-50%, -50%)'
                        }}
                      >
                        <div className="relative group">
                          <div className="h-14 w-14 rounded-lg bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center shadow-xl border-2 border-white/30 animate-qi-pulse">
                            <span className="text-white text-xs font-bold"></span>
                          </div>
                          <div className="absolute -top-1 -right-1 h-3 w-3 rounded-full bg-green-500 animate-qi-pulse border-2 border-background"></div>
                        </div>
                      </div>
                    );
                  })}

                  {/* Receiver Nodes (Backend) */}
                  {[0, 1, 2, 3].map((index) => {
                    const angle = (index / 4) * Math.PI + Math.PI / 2;
                    const radius = 38;
                    const x = 50 + radius * Math.cos(angle);
                    const y = 50 + radius * Math.sin(angle);

                    return (
                      <div
                        key={`receiver-${index}`}
                        className="absolute"
                        style={{
                          left: `${x}%`,
                          top: `${y}%`,
                          transform: 'translate(-50%, -50%)'
                        }}
                      >
                        <div className="relative group">
                          <div className="h-14 w-14 rounded-lg bg-gradient-to-br from-green-600 to-emerald-600 flex items-center justify-center shadow-xl border-2 border-white/30 animate-qi-pulse">
                            <span className="text-white text-xs font-bold"></span>
                          </div>
                          <div className="absolute -top-1 -right-1 h-3 w-3 rounded-full bg-blue-500 animate-qi-pulse border-2 border-background"></div>
                        </div>
                      </div>
                    );
                  })}

                  {/* Connection Lines */}
                  <svg className="absolute inset-0 w-full h-full pointer-events-none">
                    <defs>
                      <linearGradient id="coordGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stopColor="oklch(0.65 0.26 200 / 0.5)" />
                        <stop offset="50%" stopColor="oklch(0.70 0.24 180 / 0.7)" />
                        <stop offset="100%" stopColor="oklch(0.65 0.26 200 / 0.5)" />
                      </linearGradient>
                    </defs>
                    
                    {[0, 1, 2, 3].map((index) => {
                      const senderAngle = (index / 4) * Math.PI - Math.PI / 2;
                      const receiverAngle = (index / 4) * Math.PI + Math.PI / 2;
                      const radius = 38;
                      const sx = 50 + radius * Math.cos(senderAngle);
                      const sy = 50 + radius * Math.sin(senderAngle);
                      const rx = 50 + radius * Math.cos(receiverAngle);
                      const ry = 50 + radius * Math.sin(receiverAngle);

                      return (
                        <g key={`line-${index}`}>
                          <line
                            x1={`${sx}%`}
                            y1={`${sy}%`}
                            x2="50%"
                            y2="50%"
                            stroke="url(#coordGradient)"
                            strokeWidth={2}
                            strokeDasharray="5,5"
                            className="animate-data-flow"
                          />
                          <line
                            x1="50%"
                            y1="50%"
                            x2={`${rx}%`}
                            y2={`${ry}%`}
                            stroke="url(#coordGradient)"
                            strokeWidth={2}
                            strokeDasharray="5,5"
                            className="animate-data-flow"
                          />
                        </g>
                      );
                    })}
                  </svg>

                  {/* Legend */}
                  <div className="absolute bottom-4 left-4 right-4 flex items-center justify-center gap-6 text-xs">
                    <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-background/80 backdrop-blur-sm border border-border/50">
                      <div className="h-3 w-3 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600"></div>
                      <span></span>
                    </div>
                    <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-background/80 backdrop-blur-sm border border-border/50">
                      <div className="h-3 w-3 rounded-full bg-gradient-to-br from-green-600 to-emerald-600"></div>
                      <span></span>
                    </div>
                    <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-background/80 backdrop-blur-sm border border-border/50">
                      <ArrowLeftRight className="h-3 w-3" />
                      <span></span>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>

            {/* Player vs Admin Interface */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <Card className="border-2 border-blue-500/30">
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <Users className="h-5 w-5 text-blue-500" />
                    
                  </CardTitle>
                  <CardDescription>    </CardDescription>
                </CardHeader>
                <CardContent>
                  <ul className="space-y-2 text-sm">
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-blue-500"></div>
                      <span></span>
                    </li>
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-blue-500"></div>
                      <span></span>
                    </li>
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-blue-500"></div>
                      <span></span>
                    </li>
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-blue-500"></div>
                      <span></span>
                    </li>
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-blue-500"></div>
                      <span></span>
                    </li>
                  </ul>
                </CardContent>
              </Card>

              <Card className="border-2 border-purple-500/30">
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <UserCog className="h-5 w-5 text-purple-500" />
                    
                  </CardTitle>
                  <CardDescription>    </CardDescription>
                </CardHeader>
                <CardContent>
                  <ul className="space-y-2 text-sm">
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-purple-500"></div>
                      <span></span>
                    </li>
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-purple-500"></div>
                      <span></span>
                    </li>
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-purple-500"></div>
                      <span></span>
                    </li>
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-purple-500"></div>
                      <span></span>
                    </li>
                    <li className="flex items-center gap-2">
                      <div className="h-1.5 w-1.5 rounded-full bg-purple-500"></div>
                      <span></span>
                    </li>
                  </ul>
                </CardContent>
              </Card>
            </div>
          </TabsContent>
        </Tabs>
      </div>
    </div>
  );
}
PK
frontend/src/components/UniverseEnergyDisplay.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Sparkles, TrendingUp, Zap, AlertCircle, Loader2 } from 'lucide-react';
import { useGetUniverseEnergy } from '../hooks/useQueries';

export default function UniverseEnergyDisplay() {
  const { data: universeEnergy, isLoading, isError, isFetching } = useGetUniverseEnergy();
  const [previousScore, setPreviousScore] = useState<number>(0);
  const [isIncreasing, setIsIncreasing] = useState(false);
  const [hasLoadedOnce, setHasLoadedOnce] = useState(false);

  useEffect(() => {
    if (universeEnergy && universeEnergy.status === 'success') {
      setHasLoadedOnce(true);
      
      if (universeEnergy.score !== previousScore && previousScore > 0) {
        if (universeEnergy.score > previousScore) {
          setIsIncreasing(true);
          setTimeout(() => setIsIncreasing(false), 1200);
        }
      }
      setPreviousScore(universeEnergy.score);
    }
  }, [universeEnergy, previousScore]);

  // Show intermediate loading state only on first load
  const showLoadingState = isLoading && !hasLoadedOnce;
  
  // Determine current score with fallback
  const currentScore = universeEnergy?.score ?? 0;
  const isTimeout = universeEnergy?.status === 'timeout';
  const hasError = isError || universeEnergy?.status === 'error';

  return (
    <Card className={`border-2 transition-all duration-500 no-flicker ${
      isIncreasing 
        ? 'border-cyan-500/60 shadow-glow-md animate-smooth-glow' 
        : hasError
        ? 'border-red-500/30'
        : 'border-cyan-500/30'
    }`}>
      <CardHeader className="pb-3">
        <CardTitle className="flex items-center gap-2 text-sm">
          <div className={`h-9 w-9 rounded-lg bg-gradient-to-br from-cyan-600 via-blue-600 to-purple-600 flex items-center justify-center transition-transform duration-300 ${
            isIncreasing ? 'scale-110' : 'scale-100'
          }`}>
            <Sparkles className="h-4 w-4 text-white" />
          </div>
          <div className="flex-1 min-w-0">
            <p className="text-sm font-bold chinese-optimized"></p>
            <p className="text-xs text-muted-foreground font-normal">Universe Energy</p>
          </div>
        </CardTitle>
      </CardHeader>
      <CardContent className="space-y-3 pt-0">
        <div className="relative">
          <div className={`text-center p-4 rounded-lg bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-purple-500/10 border border-cyan-500/30 transition-all duration-500 no-flicker ${
            isIncreasing ? 'scale-105 border-cyan-500/50' : 'scale-100'
          }`}>
            {showLoadingState ? (
              <div className="space-y-2">
                <div className="flex items-center justify-center gap-2">
                  <Loader2 className="h-6 w-6 animate-spin text-cyan-500" />
                </div>
                <p className="text-xs text-muted-foreground chinese-optimized">...</p>
              </div>
            ) : hasError && !hasLoadedOnce ? (
              <div className="space-y-2">
                <div className="flex items-center justify-center gap-2">
                  <AlertCircle className="h-6 w-6 text-destructive" />
                </div>
                <p className="text-sm font-bold text-destructive chinese-optimized">
                  {isTimeout ? '' : ''}
                </p>
                <p className="text-xs text-muted-foreground chinese-optimized">
                  {isTimeout ? '...' : ''}
                </p>
              </div>
            ) : (
              <>
                <div className="relative">
                  <p className={`text-4xl font-bold bg-gradient-to-r from-cyan-600 via-blue-600 to-purple-600 bg-clip-text text-transparent transition-all duration-500 no-flicker ${
                    isIncreasing ? 'scale-110' : 'scale-100'
                  }`}>
                    {currentScore.toLocaleString()}
                  </p>
                  {isIncreasing && (
                    <div className="absolute inset-0 flex items-center justify-center pointer-events-none">
                      <div className="absolute inset-0 rounded-full bg-cyan-500/25 blur-xl animate-smooth-glow"></div>
                      <TrendingUp className="h-7 w-7 text-cyan-500 animate-smooth-pulse" />
                    </div>
                  )}
                </div>
                <p className="text-sm text-muted-foreground mt-2 chinese-optimized"></p>
                {hasError && hasLoadedOnce && (
                  <p className="text-xs text-amber-600 chinese-optimized mt-1">
                     
                  </p>
                )}
              </>
            )}
          </div>
        </div>

        <div className="flex items-center justify-between p-2.5 rounded-lg bg-muted/30">
          <div className="flex items-center gap-2">
            <Zap className={`h-4 w-4 text-cyan-500 ${isFetching && !showLoadingState ? 'animate-smooth-pulse' : ''}`} />
            <span className="text-sm font-medium chinese-optimized"></span>
          </div>
          <Badge variant={isIncreasing ? "default" : "secondary"} className={`gap-1 text-xs ${
            isIncreasing ? 'bg-gradient-to-r from-cyan-600 to-blue-600' : ''
          }`}>
            {isFetching && !showLoadingState ? (
              <>
                <Loader2 className="h-3 w-3 animate-spin" />
                
              </>
            ) : isIncreasing ? (
              <>
                <TrendingUp className="h-3 w-3" />
                
              </>
            ) : (
              ' 3 '
            )}
          </Badge>
        </div>

        {isIncreasing && (
          <div className="text-center p-2 rounded-lg bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30 animate-fade-in">
            <p className="text-xs font-medium text-cyan-600 chinese-optimized"> </p>
          </div>
        )}
      </CardContent>
    </Card>
  );
}
PK
frontend/src/components/MultiWalletDistributionVisualizer.tsximport { useEffect, useState } from 'react';
import { Wallet, ArrowRight, CheckCircle2 } from 'lucide-react';
import { Badge } from '@/components/ui/badge';

interface MultiWalletDistributionVisualizerProps {
  isDistributing: boolean;
  wallet1Amount: number;
  wallet2Amount: number;
}

export default function MultiWalletDistributionVisualizer({
  isDistributing,
  wallet1Amount,
  wallet2Amount,
}: MultiWalletDistributionVisualizerProps) {
  const [stage, setStage] = useState<'idle' | 'processing' | 'distributing' | 'completed'>('idle');

  useEffect(() => {
    if (isDistributing) {
      setStage('processing');
      const timer1 = setTimeout(() => setStage('distributing'), 500);
      const timer2 = setTimeout(() => setStage('completed'), 2000);
      return () => {
        clearTimeout(timer1);
        clearTimeout(timer2);
      };
    } else {
      setStage('idle');
    }
  }, [isDistributing]);

  return (
    <div className="relative w-full">
      <div className="flex items-center justify-between gap-4">
        {/* Source */}
        <div className="flex-1 p-4 rounded-lg bg-gradient-to-br from-primary/20 to-accent/20 border-2 border-primary/40">
          <div className="flex items-center gap-2 mb-2">
            <div className={`h-3 w-3 rounded-full ${
              stage === 'processing' || stage === 'distributing' ? 'bg-primary animate-qi-pulse' : 'bg-primary/50'
            }`}></div>
            <span className="text-sm font-semibold"></span>
          </div>
          <div className="text-2xl font-bold">{wallet1Amount + wallet2Amount} ICP</div>
          <Badge variant="outline" className="mt-2 text-xs">
            {stage === 'processing' ? '' : stage === 'distributing' ? '' : stage === 'completed' ? '' : ''}
          </Badge>
        </div>

        {/* Arrow Animation */}
        <div className="flex flex-col gap-2">
          <div className={`flex items-center gap-1 transition-all duration-500 ${
            stage === 'distributing' || stage === 'completed' ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-4'
          }`}>
            <ArrowRight className="h-5 w-5 text-primary animate-pulse" />
            <span className="text-xs font-medium">{wallet1Amount} ICP</span>
          </div>
          <div className={`flex items-center gap-1 transition-all duration-500 ${
            stage === 'distributing' || stage === 'completed' ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-4'
          }`} style={{ transitionDelay: '200ms' }}>
            <ArrowRight className="h-5 w-5 text-accent animate-pulse" />
            <span className="text-xs font-medium">{wallet2Amount} ICP</span>
          </div>
        </div>

        {/* Destinations */}
        <div className="flex-1 space-y-3">
          <div className={`p-3 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 border transition-all duration-500 ${
            stage === 'distributing' || stage === 'completed' ? 'border-primary/40 scale-105' : 'border-border/50'
          }`}>
            <div className="flex items-center justify-between mb-1">
              <div className="flex items-center gap-2">
                <Wallet className="h-4 w-4 text-primary" />
                <span className="text-xs font-semibold"> 1</span>
              </div>
              {stage === 'completed' && (
                <CheckCircle2 className="h-4 w-4 text-green-500 animate-qi-pulse" />
              )}
            </div>
            <div className="text-lg font-bold">{wallet1Amount} ICP</div>
          </div>

          <div className={`p-3 rounded-lg bg-gradient-to-br from-accent/10 to-accent/5 border transition-all duration-500 ${
            stage === 'distributing' || stage === 'completed' ? 'border-accent/40 scale-105' : 'border-border/50'
          }`} style={{ transitionDelay: '200ms' }}>
            <div className="flex items-center justify-between mb-1">
              <div className="flex items-center gap-2">
                <Wallet className="h-4 w-4 text-accent" />
                <span className="text-xs font-semibold"> 2</span>
              </div>
              {stage === 'completed' && (
                <CheckCircle2 className="h-4 w-4 text-green-500 animate-qi-pulse" />
              )}
            </div>
            <div className="text-lg font-bold">{wallet2Amount} ICP</div>
          </div>
        </div>
      </div>

      {/* Status Message */}
      {stage !== 'idle' && (
        <div className="mt-4 text-center">
          <p className="text-sm text-muted-foreground">
            {stage === 'processing' && '...'}
            {stage === 'distributing' && '...'}
            {stage === 'completed' && ' '}
          </p>
        </div>
      )}
    </div>
  );
}
PK
frontend/src/pages/AwakeningPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Eye, Sparkle, Star } from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

export default function AwakeningPage() {
  const [moduleState, setModuleState] = useState(unifiedArchitecture.getModuleState('awakening'));
  const [spiritualLevel, setSpiritualLevel] = useState(52);
  const [awakenedAbilities, setAwakenedAbilities] = useState(7);

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const state = unifiedArchitecture.getModuleState('awakening');
      setModuleState(state);
      
      setSpiritualLevel(prev => Math.min(100, prev + Math.random() * 0.25));
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  return (
    <div className="container px-4 py-8 md:px-8 relative">
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-30">
        <div className="absolute top-1/3 right-1/4 w-96 h-96 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-full blur-3xl animate-qi-pulse"></div>
      </div>

      <div className="relative z-10 space-y-8">
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-lg animate-qi-pulse">
              <Eye className="h-8 w-8 text-white" />
            </div>
            <div>
              <h1 className="text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-500 to-indigo-600 bg-clip-text text-transparent">
                
              </h1>
              <p className="text-muted-foreground">  </p>
            </div>
          </div>

          {moduleState && (
            <div className="flex items-center gap-3">
              <Badge variant={moduleState.isActive ? "default" : "secondary"} className="gap-2">
                <div className={`h-2 w-2 rounded-full ${moduleState.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'}`}></div>
                {moduleState.isActive ? '' : ''}
              </Badge>
              <Badge variant="outline">: {Math.round(moduleState.healthScore * 100)}%</Badge>
              <Badge variant="outline">: {Math.round(moduleState.syncQuality * 100)}%</Badge>
            </div>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Sparkle className="h-4 w-4 text-indigo-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{Math.round(spiritualLevel)}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={spiritualLevel} className="mt-2 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-shadow">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Star className="h-4 w-4 text-purple-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold">{awakenedAbilities}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={(awakenedAbilities / 20) * 100} className="mt-2 h-2" />
            </CardContent>
          </Card>
        </div>

        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="relative h-64 bg-muted/20 rounded-lg border border-border/50 overflow-hidden">
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="relative">
                  <div className="absolute inset-0 bg-gradient-to-br from-indigo-500/40 to-purple-500/40 rounded-full blur-2xl animate-qi-pulse"></div>
                  <div className="relative h-32 w-32 rounded-full bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-2xl border-4 border-white/20">
                    <div className="text-center text-white">
                      <Eye className="h-12 w-12 mx-auto mb-1 animate-qi-pulse" />
                      <p className="text-xs font-bold"></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
build-template/src/frontend/eslint.config.jsimport typescript from '@typescript-eslint/eslint-plugin';
import typescriptParser from '@typescript-eslint/parser';
import reactHooks from 'eslint-plugin-react-hooks';
import globals from 'globals';
import pluginRouter from '@tanstack/eslint-plugin-router';
import noBigIntInQueryKeys from './eslint-rules/no-bigint-in-query-keys.js';
import requireInternetIdentityProvider from './eslint-rules/require-internet-identity-provider.js';
import pluginTailwindcss from 'eslint-plugin-tailwindcss';

const customRules = {
    rules: {
        'no-bigint-in-query-keys': noBigIntInQueryKeys,
        'require-internet-identity-provider': requireInternetIdentityProvider
    }
};

export default [
    {
        ignores: [
            '**/backend.ts',
            '**/backend.d.ts',
            'dist/**',
            'node_modules/**',
            'build/**',
            '*.config.js',
            'eslint-rules/**'
            // 'components/ui/**'
        ]
    },
    ...pluginRouter.configs['flat/recommended'],
    ...pluginTailwindcss.configs['flat/recommended'],
    {
        files: ['**/*.ts', '**/*.tsx'],
        languageOptions: {
            parser: typescriptParser,
            parserOptions: {
                ecmaVersion: 2022,
                sourceType: 'module',
                project: './tsconfig.json',
                tsconfigRootDir: import.meta.dirname,
                ecmaFeatures: {
                    jsx: true
                }
            },
            globals: {
                ...globals.browser,
                ...globals.node,
                ...globals.es2021
            }
        },
        plugins: {
            '@typescript-eslint': typescript,
            'react-hooks': reactHooks,
            tailwindcss: pluginTailwindcss,
            custom: customRules
        },
        rules: {
            ...typescript.configs.recommended.rules,
            // Having warns pollutes in case of errors.
            'react-hooks/rules-of-hooks': 'error',
            'react-hooks/exhaustive-deps': 'off',
            '@typescript-eslint/no-explicit-any': 'off',
            '@typescript-eslint/no-unused-vars': ['off', { argsIgnorePattern: '^_' }],
            // '@typescript-eslint/no-floating-promises': 'error', -- enable in the future
            // Additional AI-friendly rules
            'no-useless-escape': 'off',
            '@typescript-eslint/ban-ts-comment': 'off', // Allow @ts-ignore when needed
            '@typescript-eslint/no-non-null-assertion': 'off', // Allow ! operator
            'no-console': 'off', // Allow console.log for debugging
            'prefer-const': 'off', // Warn instead of error for let vs const
            // tailwindcss rules
            'tailwindcss/no-custom-classname': 'off', // Allow custom classes
            'tailwindcss/classnames-order': 'off',
            'tailwindcss/no-unnecessary-arbitrary-value': 'off',
            'tailwindcss/enforces-shorthand': 'off',
            // custom rules
            'custom/no-bigint-in-query-keys': 'error',
            'custom/require-internet-identity-provider': 'error'
        },
        settings: {
            tailwindcss: {
                callees: ['cn', 'cva'],
                config: './tailwind.config.js'
            }
        }
    }
];
PK
frontend/src/pages/UnifiedDashboardPage.tsximport { useEffect, useState } from 'react';
import { Link } from '@tanstack/react-router';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Progress } from '@/components/ui/progress';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { ScrollArea } from '@/components/ui/scroll-area';
import { Separator } from '@/components/ui/separator';
import {
  Database,
  Zap,
  Network,
  Layers,
  Activity,
  TrendingUp,
  Sparkles,
  Coins,
  CreditCard,
  Trophy,
  MousePointer2,
  BookOpen,
  Wind,
  Gauge,
  Eye,
  Cpu,
  Globe,
  ArrowRight,
  CheckCircle2,
  AlertCircle,
  Radio,
  Workflow,
  BarChart3,
  Settings,
  Users,
  Shield,
  ShoppingBag
} from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';
import { useActor } from '../hooks/useActor';
import { useQuery } from '@tanstack/react-query';
import type { UserSubscription } from '../backend';
import UniverseEnergyDisplay from '../components/UniverseEnergyDisplay';
import ExternalEnergyDisplay from '../components/ExternalEnergyDisplay';

export default function UnifiedDashboardPage() {
  const { actor, isFetching } = useActor();
  const [systemState, setSystemState] = useState(unifiedArchitecture.getSystemState());

  const { data: subscription } = useQuery<UserSubscription | null>({
    queryKey: ['callerSubscriptionStatus'],
    queryFn: async () => {
      if (!actor) throw new Error('Actor not available');
      return actor.getCallerSubscriptionStatus();
    },
    enabled: !!actor && !isFetching,
  });

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const newState = unifiedArchitecture.getSystemState();
      setSystemState(newState);
    }, 1000);

    return () => clearInterval(updateInterval);
  }, []);

  const modules = Array.from(systemState.modules.values());
  const activeModules = modules.filter(m => m.isActive);
  const healthScore = Math.round(systemState.systemHealth * 100);
  const isSubscribed = subscription?.status === 'active';

  // Submodule definitions (updated with NFT marketplace)
  const submodules = [
    {
      id: 'lucky-draw',
      name: '',
      description: '',
      icon: Trophy,
      color: 'from-amber-600 to-orange-600',
      path: '/lucky-draw',
      status: 'active' as const,
    },
    {
      id: 'clicker-game',
      name: '',
      description: '',
      icon: MousePointer2,
      color: 'from-purple-600 to-pink-600',
      path: '/clicker-game',
      status: 'active' as const,
    },
    {
      id: 'energy-coin',
      name: 'ICP ',
      description: '',
      icon: Coins,
      color: 'from-blue-600 to-cyan-600',
      path: '/energy-coin',
      status: 'active' as const,
    },
    {
      id: 'subscription',
      name: '',
      description: '1 ICP/',
      icon: CreditCard,
      color: 'from-green-600 to-emerald-600',
      path: '/subscription',
      status: 'active' as const,
    },
    {
      id: 'wu-dao',
      name: '',
      description: '',
      icon: BookOpen,
      color: 'from-indigo-600 to-purple-600',
      path: '/wu-dao',
      status: 'active' as const,
    },
    {
      id: 'martial-qi',
      name: '',
      description: '',
      icon: Wind,
      color: 'from-cyan-600 to-blue-600',
      path: '/martial-qi',
      status: 'active' as const,
    },
    {
      id: 'wu-dian',
      name: '',
      description: '',
      icon: Zap,
      color: 'from-pink-600 to-rose-600',
      path: '/wu-dian',
      status: 'active' as const,
    },
    {
      id: 'integration',
      name: '',
      description: 'LFLC ',
      icon: Database,
      color: 'from-teal-600 to-green-600',
      path: '/integration-dashboard',
      status: 'active' as const,
    },
    {
      id: 'module-connection',
      name: '',
      description: 'LFLC ',
      icon: Network,
      color: 'from-violet-600 to-purple-600',
      path: '/module-connection',
      status: 'active' as const,
    },
    {
      id: 'nft-marketplace',
      name: 'NFT ',
      description: 'NFT   ICRC-7/37',
      icon: ShoppingBag,
      color: 'from-rose-600 to-pink-600',
      path: 'https://lflc-nft-marketplace-tt9.caffeine.xyz',
      status: 'active' as const,
      external: true,
    },
  ];

  return (
    <div className="container px-4 py-8 md:px-8 relative min-h-screen">
      {/* Animated Background */}
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-20">
        <div className="absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-blue-500/30 to-cyan-500/30 rounded-full blur-3xl animate-qi-pulse"></div>
        <div className="absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-br from-cyan-500/30 to-green-500/30 rounded-full blur-3xl animate-qi-pulse" style={{ animationDelay: '1s' }}></div>
        <div className="absolute top-1/2 left-1/2 w-64 h-64 bg-gradient-to-br from-purple-600/20 to-pink-600/20 rounded-full blur-2xl animate-qi-pulse" style={{ animationDelay: '2s' }}></div>
      </div>

      <div className="relative z-10 space-y-6">
        {/* Header */}
        <div className="space-y-4">
          <div className="flex items-center justify-between flex-wrap gap-4">
            <div className="flex items-center gap-4">
              <div className="relative">
                <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-blue-600 via-cyan-500 to-green-600 flex items-center justify-center shadow-lg animate-fusion-sync-pulse">
                  <Layers className="h-8 w-8 text-white" />
                </div>
                <div className="absolute -top-1 -right-1 h-4 w-4 bg-green-500 rounded-full animate-qi-pulse border-2 border-background"></div>
              </div>
              <div>
                <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 via-cyan-500 to-green-600 bg-clip-text text-transparent animate-fusion-sync-flow">
                  LFLCEI 
                </h1>
                <p className="text-sm md:text-base text-muted-foreground">  DApp  </p>
              </div>
            </div>
            <div className="flex items-center gap-2 flex-wrap">
              <Badge variant={isSubscribed ? "default" : "secondary"} className="gap-2">
                <Shield className="h-3 w-3" />
                {isSubscribed ? '' : ''}
              </Badge>
              <Badge variant={healthScore >= 80 ? "default" : healthScore >= 60 ? "secondary" : "destructive"} className="gap-2">
                <CheckCircle2 className="h-3 w-3" />
                 {healthScore}%
              </Badge>
              <Badge variant="default" className="gap-2 bg-gradient-to-r from-blue-600 to-cyan-600">
                <Radio className="h-3 w-3 animate-qi-pulse" />
                
              </Badge>
            </div>
          </div>
        </div>

        {/* Quick Stats */}
        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4">
          <Card className="hover:shadow-lg transition-all border-blue-500/20 bg-gradient-to-br from-card to-card/50">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Layers className="h-4 w-4 text-blue-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-3xl font-bold">{activeModules.length}/{modules.length}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={(activeModules.length / modules.length) * 100} className="mt-3 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-all border-cyan-500/20 bg-gradient-to-br from-card to-card/50">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Activity className="h-4 w-4 text-cyan-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-3xl font-bold">{submodules.length}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={100} className="mt-3 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-all border-green-500/20 bg-gradient-to-br from-card to-card/50">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <TrendingUp className="h-4 w-4 text-green-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-3xl font-bold">{Math.round(systemState.performance.fusionSyncQuality * 100)}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={systemState.performance.fusionSyncQuality * 100} className="mt-3 h-2" />
            </CardContent>
          </Card>

          {/* Universe Energy Card */}
          <UniverseEnergyDisplay />

          {/* External Energy Card */}
          <ExternalEnergyDisplay />
        </div>

        {/* Main Content Tabs */}
        <Tabs defaultValue="submodules" className="space-y-4">
          <TabsList className="grid w-full grid-cols-4">
            <TabsTrigger value="submodules"></TabsTrigger>
            <TabsTrigger value="cultivation"></TabsTrigger>
            <TabsTrigger value="system"></TabsTrigger>
            <TabsTrigger value="admin"></TabsTrigger>
          </TabsList>

          {/* Submodules Tab */}
          <TabsContent value="submodules" className="space-y-4">
            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Network className="h-5 w-5 text-blue-500" />
                  
                </CardTitle>
                <CardDescription>      </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                  {submodules.map((submodule) => {
                    const isExternal = 'external' in submodule && submodule.external;
                    const Component = isExternal ? 'a' : Link;
                    const linkProps = isExternal 
                      ? { href: submodule.path, target: '_blank', rel: 'noopener noreferrer' }
                      : { to: submodule.path };

                    return (
                      <Component key={submodule.id} {...linkProps}>
                        <Card className="border-2 hover:shadow-lg transition-all cursor-pointer hover:border-primary/50 h-full">
                          <CardHeader>
                            <CardTitle className="flex items-center gap-3">
                              <div className={`h-12 w-12 rounded-lg bg-gradient-to-br ${submodule.color} flex items-center justify-center shrink-0`}>
                                <submodule.icon className="h-6 w-6 text-white" />
                              </div>
                              <div className="flex-1 min-w-0">
                                <p className="text-base font-bold truncate">{submodule.name}</p>
                                <p className="text-xs text-muted-foreground truncate">{submodule.description}</p>
                              </div>
                            </CardTitle>
                          </CardHeader>
                          <CardContent>
                            <div className="flex items-center justify-between">
                              <Badge variant="default" className="gap-1">
                                <CheckCircle2 className="h-3 w-3" />
                                {submodule.status === 'active' ? '' : ''}
                              </Badge>
                              <Button variant="ghost" size="sm" className="gap-1">
                                {isExternal ? '' : ''}
                                <ArrowRight className="h-3 w-3" />
                              </Button>
                            </div>
                          </CardContent>
                        </Card>
                      </Component>
                    );
                  })}
                </div>
              </CardContent>
            </Card>

            {/* Unified Architecture Visualization */}
            <Card className="border-2 border-cyan-500/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Workflow className="h-5 w-5 text-cyan-500" />
                  
                </CardTitle>
                <CardDescription>      </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="relative h-[400px] bg-gradient-to-br from-muted/20 to-muted/5 rounded-lg border border-border/50 overflow-hidden">
                  {/* Central Core */}
                  <div className="absolute inset-0 flex items-center justify-center">
                    <div className="relative">
                      <div className="absolute inset-0 rounded-full blur-2xl animate-fusion-sync-pulse bg-gradient-to-br from-blue-500/40 via-cyan-500/40 to-green-500/40"></div>
                      <div className="relative h-32 w-32 rounded-full bg-gradient-to-br from-blue-600 via-cyan-600 to-green-600 flex items-center justify-center shadow-2xl border-4 border-white/20">
                        <div className="text-center">
                          <p className="text-white font-bold text-xl"></p>
                          <p className="text-white/90 text-xs"></p>
                        </div>
                      </div>
                    </div>
                  </div>

                  {/* Submodule Nodes */}
                  {submodules.slice(0, 10).map((submodule, index) => {
                    const angle = (index / 10) * 2 * Math.PI - Math.PI / 2;
                    const radius = 38;
                    const x = 50 + radius * Math.cos(angle);
                    const y = 50 + radius * Math.sin(angle);

                    return (
                      <div
                        key={submodule.id}
                        className="absolute"
                        style={{
                          left: `${x}%`,
                          top: `${y}%`,
                          transform: 'translate(-50%, -50%)'
                        }}
                      >
                        <div className="relative group">
                          <div className={`h-14 w-14 rounded-lg flex items-center justify-center shadow-xl border-2 border-white/30 transition-all bg-gradient-to-br ${submodule.color} animate-qi-pulse hover:scale-110`}>
                            <submodule.icon className="h-6 w-6 text-white" />
                          </div>
                          <div className="absolute -top-1 -right-1 h-3 w-3 rounded-full bg-green-500 animate-qi-pulse border-2 border-background"></div>
                          
                          <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-popover text-popover-foreground text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10 border border-border">
                            {submodule.name}
                          </div>
                        </div>
                      </div>
                    );
                  })}

                  {/* Connection Lines */}
                  <svg className="absolute inset-0 w-full h-full pointer-events-none">
                    <defs>
                      <linearGradient id="connectionGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stopColor="oklch(0.65 0.26 200 / 0.4)" />
                        <stop offset="50%" stopColor="oklch(0.70 0.24 180 / 0.6)" />
                        <stop offset="100%" stopColor="oklch(0.65 0.26 200 / 0.4)" />
                      </linearGradient>
                    </defs>
                    
                    {submodules.slice(0, 10).map((_, index) => {
                      const angle = (index / 10) * 2 * Math.PI - Math.PI / 2;
                      const radius = 38;
                      const x = 50 + radius * Math.cos(angle);
                      const y = 50 + radius * Math.sin(angle);

                      return (
                        <line
                          key={`line-${index}`}
                          x1="50%"
                          y1="50%"
                          x2={`${x}%`}
                          y2={`${y}%`}
                          stroke="url(#connectionGradient)"
                          strokeWidth={2}
                          strokeDasharray="5,5"
                          className="animate-data-flow"
                        />
                      );
                    })}
                  </svg>

                  {/* Legend */}
                  <div className="absolute bottom-4 left-4 right-4 flex items-center justify-center gap-6 text-xs flex-wrap">
                    <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-background/80 backdrop-blur-sm border border-border/50">
                      <div className="h-3 w-3 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600"></div>
                      <span></span>
                    </div>
                    <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-background/80 backdrop-blur-sm border border-border/50">
                      <div className="h-3 w-3 rounded-full bg-gradient-to-br from-rose-600 to-pink-600"></div>
                      <span></span>
                    </div>
                    <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-background/80 backdrop-blur-sm border border-border/50">
                      <Radio className="h-3 w-3 animate-qi-pulse" />
                      <span></span>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>
          </TabsContent>

          {/* Cultivation System Tab */}
          <TabsContent value="cultivation" className="space-y-4">
            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Sparkles className="h-5 w-5 text-purple-500" />
                  
                </CardTitle>
                <CardDescription>    </CardDescription>
              </CardHeader>
              <CardContent>
                <ScrollArea className="h-[500px] pr-4">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {modules.map((module) => (
                      <div 
                        key={module.moduleId}
                        className="p-4 rounded-lg border border-border/50 hover:border-primary/50 transition-all space-y-3 bg-gradient-to-br from-card to-card/50"
                      >
                        <div className="flex items-center justify-between">
                          <div className="flex items-center gap-2">
                            <div className={`h-2 w-2 rounded-full ${
                              module.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' :
                              module.realTimeState === 'syncing' ? 'bg-blue-500 animate-spin' :
                              module.realTimeState === 'error' ? 'bg-red-500' :
                              'bg-gray-400'
                            }`}></div>
                            <p className="font-semibold">{module.moduleName}</p>
                          </div>
                          <Badge variant={module.isActive ? "default" : "secondary"} className="text-xs">
                            {module.isActive ? '' : ''}
                          </Badge>
                        </div>

                        <div className="space-y-2">
                          <div className="flex justify-between text-sm">
                            <span className="text-muted-foreground"></span>
                            <span className="font-medium">{Math.round(module.healthScore * 100)}%</span>
                          </div>
                          <Progress value={module.healthScore * 100} className="h-1.5" />

                          <div className="flex justify-between text-sm">
                            <span className="text-muted-foreground"></span>
                            <span className="font-medium">{Math.round(module.syncQuality * 100)}%</span>
                          </div>
                          <Progress value={module.syncQuality * 100} className="h-1.5" />

                          <div className="flex justify-between text-sm">
                            <span className="text-muted-foreground"></span>
                            <span className="font-medium">{Math.round(module.energyLevel)}%</span>
                          </div>
                          <Progress value={module.energyLevel} className="h-1.5" />

                          <div className="flex justify-between text-sm">
                            <span className="text-muted-foreground"></span>
                            <span className="font-medium">{Math.round(module.cultivationProgress)}%</span>
                          </div>
                          <Progress value={module.cultivationProgress} className="h-1.5" />
                        </div>
                      </div>
                    ))}
                  </div>
                </ScrollArea>
              </CardContent>
            </Card>
          </TabsContent>

          {/* System Status Tab */}
          <TabsContent value="system" className="space-y-4">
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
              {/* Performance Metrics */}
              <Card>
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <BarChart3 className="h-5 w-5" />
                    
                  </CardTitle>
                  <CardDescription></CardDescription>
                </CardHeader>
                <CardContent>
                  <div className="grid grid-cols-2 gap-4">
                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <p className="text-xs text-muted-foreground mb-1">FPS</p>
                      <p className="text-2xl font-bold">{Math.round(systemState.performance.fps)}</p>
                      <Progress value={Math.min((systemState.performance.fps / 60) * 100, 100)} className="mt-2 h-1" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <p className="text-xs text-muted-foreground mb-1"></p>
                      <p className="text-2xl font-bold">{systemState.performance.syncLatency.toFixed(0)}ms</p>
                      <Progress value={Math.min((systemState.performance.syncLatency / 1000) * 100, 100)} className="mt-2 h-1" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <p className="text-xs text-muted-foreground mb-1">API </p>
                      <p className="text-2xl font-bold">{systemState.performance.apiResponseTime.toFixed(0)}ms</p>
                      <Progress value={Math.min((systemState.performance.apiResponseTime / 500) * 100, 100)} className="mt-2 h-1" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <p className="text-xs text-muted-foreground mb-1"></p>
                      <p className="text-2xl font-bold">{Math.round(systemState.performance.energyFlowRate * 100)}%</p>
                      <Progress value={systemState.performance.energyFlowRate * 100} className="mt-2 h-1" />
                    </div>
                  </div>
                </CardContent>
              </Card>

              {/* GPU Rendering Status */}
              <Card>
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <Eye className="h-5 w-5" />
                    GPU 
                  </CardTitle>
                  <CardDescription></CardDescription>
                </CardHeader>
                <CardContent className="space-y-4">
                  <div className="flex items-center justify-between p-3 rounded-lg bg-muted/30">
                    <div className="flex items-center gap-2">
                      <Zap className="h-4 w-4 text-amber-500" />
                      <span className="text-sm font-medium">GPU </span>
                    </div>
                    <Badge variant={systemState.visualStatus.enabled ? "default" : "secondary"}>
                      {systemState.visualStatus.enabled ? '' : ''}
                    </Badge>
                  </div>

                  <div className="flex items-center justify-between p-3 rounded-lg bg-muted/30">
                    <div className="flex items-center gap-2">
                      <Activity className="h-4 w-4 text-blue-500" />
                      <span className="text-sm font-medium"></span>
                    </div>
                    <span className="text-lg font-bold">{systemState.visualStatus.particleCount}</span>
                  </div>

                  <div className="flex items-center justify-between p-3 rounded-lg bg-muted/30">
                    <div className="flex items-center gap-2">
                      <Sparkles className="h-4 w-4 text-purple-500" />
                      <span className="text-sm font-medium"></span>
                    </div>
                    <span className="text-lg font-bold">{systemState.visualStatus.animationCount}</span>
                  </div>

                  <div className="flex items-center justify-between p-3 rounded-lg bg-muted/30">
                    <div className="flex items-center gap-2">
                      <TrendingUp className="h-4 w-4 text-green-500" />
                      <span className="text-sm font-medium"></span>
                    </div>
                    <Badge>{systemState.visualStatus.qualityMode}</Badge>
                  </div>
                </CardContent>
              </Card>
            </div>

            {/* Sync Status */}
            <Card className="border-2 border-blue-500/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Workflow className="h-5 w-5 text-blue-500" />
                  
                </CardTitle>
                <CardDescription>  </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div className="p-4 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                    <div className="flex items-center gap-2 mb-3">
                      <Cpu className="h-5 w-5 text-blue-500" />
                      <p className="font-semibold"></p>
                    </div>
                    <div className="space-y-2 text-sm">
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground"></span>
                        <Badge variant={systemState.syncStatus.enabled ? "default" : "secondary"} className="text-xs">
                          {systemState.syncStatus.enabled ? '' : ''}
                        </Badge>
                      </div>
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground"></span>
                        <span className="font-medium">{systemState.syncStatus.activeModules}</span>
                      </div>
                    </div>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
                    <div className="flex items-center gap-2 mb-3">
                      <Gauge className="h-5 w-5 text-green-500" />
                      <p className="font-semibold"></p>
                    </div>
                    <div className="space-y-2">
                      <div className="flex justify-between text-sm">
                        <span className="text-muted-foreground"></span>
                        <span className="font-medium">{Math.round(systemState.syncStatus.syncQuality * 100)}%</span>
                      </div>
                      <Progress value={systemState.syncStatus.syncQuality * 100} className="h-2" />
                    </div>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">
                    <div className="flex items-center gap-2 mb-3">
                      <Globe className="h-5 w-5 text-purple-500" />
                      <p className="font-semibold">API </p>
                    </div>
                    <div className="space-y-2 text-sm">
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground"></span>
                        <span className="font-medium">{systemState.apiStatus.activeRequests}</span>
                      </div>
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground"></span>
                        <span className="font-medium">{systemState.apiStatus.queuedRequests}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>
          </TabsContent>

          {/* Admin Control Tab */}
          <TabsContent value="admin" className="space-y-4">
            <Card className="border-2 border-amber-500/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Settings className="h-5 w-5 text-amber-500" />
                  
                </CardTitle>
                <CardDescription>    </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="space-y-4">
                  <div className="p-4 rounded-lg bg-muted/30 border border-border/50">
                    <div className="flex items-center justify-between mb-3">
                      <div className="flex items-center gap-2">
                        <Users className="h-5 w-5 text-blue-500" />
                        <span className="font-semibold"></span>
                      </div>
                      <Badge variant="outline"></Badge>
                    </div>
                    <p className="text-sm text-muted-foreground mb-3">
                      
                    </p>
                    <Button variant="outline" size="sm" className="w-full">
                      
                    </Button>
                  </div>

                  <div className="p-4 rounded-lg bg-muted/30 border border-border/50">
                    <div className="flex items-center justify-between mb-3">
                      <div className="flex items-center gap-2">
                        <Shield className="h-5 w-5 text-green-500" />
                        <span className="font-semibold"></span>
                      </div>
                      <Badge variant="outline"></Badge>
                    </div>
                    <p className="text-sm text-muted-foreground mb-3">
                      
                    </p>
                    <Button variant="outline" size="sm" className="w-full">
                      
                    </Button>
                  </div>

                  <div className="p-4 rounded-lg bg-muted/30 border border-border/50">
                    <div className="flex items-center justify-between mb-3">
                      <div className="flex items-center gap-2">
                        <Settings className="h-5 w-5 text-purple-500" />
                        <span className="font-semibold"></span>
                      </div>
                      <Badge variant="outline"></Badge>
                    </div>
                    <p className="text-sm text-muted-foreground mb-3">
                      
                    </p>
                    <Button variant="outline" size="sm" className="w-full">
                      
                    </Button>
                  </div>

                  <Separator />

                  <div className="p-4 rounded-lg bg-gradient-to-br from-amber-500/10 to-orange-500/10 border border-amber-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <AlertCircle className="h-5 w-5 text-amber-500" />
                      <span className="font-semibold text-amber-600 dark:text-amber-400"></span>
                    </div>
                    <p className="text-sm text-muted-foreground">
                       Internet Identity 2.0 
                    </p>
                  </div>
                </div>
              </CardContent>
            </Card>
          </TabsContent>
        </Tabs>
      </div>
    </div>
  );
}
PK
frontend/src/pages/DeploymentStatusPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Progress } from '@/components/ui/progress';
import { Separator } from '@/components/ui/separator';
import {
  CheckCircle2,
  Circle,
  AlertCircle,
  Loader2,
  Database,
  Zap,
  Network,
  Shield,
  Coins,
  ShoppingBag,
  Globe,
  Server,
  Activity,
  Sparkles,
} from 'lucide-react';
import { useActor } from '../hooks/useActor';
import { useQuery } from '@tanstack/react-query';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';

interface DeploymentCheck {
  id: string;
  name: string;
  description: string;
  status: 'pending' | 'checking' | 'success' | 'warning' | 'error';
  icon: any;
  details?: string;
}

export default function DeploymentStatusPage() {
  const { actor, isFetching } = useActor();
  const [checks, setChecks] = useState<DeploymentCheck[]>([]);
  const [overallStatus, setOverallStatus] = useState<'checking' | 'success' | 'warning' | 'error'>('checking');

  const { data: subscription } = useQuery({
    queryKey: ['callerSubscriptionStatus'],
    queryFn: async () => {
      if (!actor) return null;
      return actor.getCallerSubscriptionStatus();
    },
    enabled: !!actor && !isFetching,
  });

  const { data: energyBalance } = useQuery({
    queryKey: ['energyBalance'],
    queryFn: async () => {
      if (!actor) return BigInt(0);
      return actor.getCallerEnergyBalance();
    },
    enabled: !!actor && !isFetching,
  });

  useEffect(() => {
    performDeploymentChecks();
  }, [actor, subscription, energyBalance]);

  const performDeploymentChecks = async () => {
    const deploymentChecks: DeploymentCheck[] = [
      {
        id: 'backend',
        name: '',
        description: 'Motoko  Canister ',
        status: 'checking',
        icon: Server,
      },
      {
        id: 'internet-identity',
        name: 'Internet Identity 2.0',
        description: '',
        status: 'checking',
        icon: Shield,
      },
      {
        id: 'subscription',
        name: '',
        description: '1 ICP/',
        status: 'checking',
        icon: Coins,
      },
      {
        id: 'energy-coin',
        name: 'ICP ',
        description: '',
        status: 'checking',
        icon: Zap,
      },
      {
        id: 'external-energy',
        name: '',
        description: 'LFLC ',
        status: 'checking',
        icon: Activity,
      },
      {
        id: 'nft-marketplace',
        name: 'NFT ',
        description: 'NFT  (ICRC-7/37)',
        status: 'checking',
        icon: ShoppingBag,
      },
      {
        id: 'unified-architecture',
        name: '',
        description: '',
        status: 'checking',
        icon: Database,
      },
      {
        id: 'gpu-rendering',
        name: 'GPU ',
        description: '',
        status: 'checking',
        icon: Sparkles,
      },
      {
        id: 'module-connection',
        name: '',
        description: '',
        status: 'checking',
        icon: Network,
      },
      {
        id: 'external-modules',
        name: '',
        description: '',
        status: 'checking',
        icon: Globe,
      },
    ];

    setChecks(deploymentChecks);

    // Perform checks sequentially
    for (let i = 0; i < deploymentChecks.length; i++) {
      await new Promise(resolve => setTimeout(resolve, 300));
      
      const check = deploymentChecks[i];
      let status: 'success' | 'warning' | 'error' = 'success';
      let details = '';

      switch (check.id) {
        case 'backend':
          if (actor) {
            status = 'success';
            details = ' Canister ';
          } else {
            status = 'error';
            details = ' Canister';
          }
          break;

        case 'internet-identity':
          status = 'success';
          details = 'Internet Identity 2.0 ';
          break;

        case 'subscription':
          if (subscription) {
            if (subscription.status === 'active') {
              status = 'success';
              details = '';
            } else {
              status = 'warning';
              details = `${subscription.status}`;
            }
          } else {
            status = 'warning';
            details = '';
          }
          break;

        case 'energy-coin':
          if (energyBalance !== undefined) {
            status = 'success';
            details = `${energyBalance.toString()}`;
          } else {
            status = 'warning';
            details = '';
          }
          break;

        case 'external-energy':
          try {
            const response = await fetch('https://lflcei-engergy-gkn.caffeine.xyz/health', { 
              method: 'HEAD',
              mode: 'no-cors'
            });
            status = 'success';
            details = '';
          } catch {
            status = 'warning';
            details = '';
          }
          break;

        case 'nft-marketplace':
          try {
            const response = await fetch('https://lflc-nft-marketplace-tt9.caffeine.xyz/health', { 
              method: 'HEAD',
              mode: 'no-cors'
            });
            status = 'success';
            details = 'NFT ';
          } catch {
            status = 'warning';
            details = 'NFT ';
          }
          break;

        case 'unified-architecture':
          const systemState = unifiedArchitecture.getSystemState();
          if (systemState.systemHealth > 0.8) {
            status = 'success';
            details = `${Math.round(systemState.systemHealth * 100)}%`;
          } else if (systemState.systemHealth > 0.6) {
            status = 'warning';
            details = `${Math.round(systemState.systemHealth * 100)}%`;
          } else {
            status = 'error';
            details = `${Math.round(systemState.systemHealth * 100)}%`;
          }
          break;

        case 'gpu-rendering':
          const visualStatus = unifiedArchitecture.getSystemState().visualStatus;
          if (visualStatus.enabled && visualStatus.fps > 30) {
            status = 'success';
            details = `GPU FPS: ${Math.round(visualStatus.fps)}`;
          } else if (visualStatus.enabled) {
            status = 'warning';
            details = `GPU FPS : ${Math.round(visualStatus.fps)}`;
          } else {
            status = 'error';
            details = 'GPU ';
          }
          break;

        case 'module-connection':
          const modules = unifiedArchitecture.getAllModuleStates();
          const activeModules = modules.filter(m => m.isActive).length;
          if (activeModules === modules.length) {
            status = 'success';
            details = ` ${modules.length} `;
          } else if (activeModules > modules.length * 0.7) {
            status = 'warning';
            details = `${activeModules}/${modules.length} `;
          } else {
            status = 'error';
            details = ` ${activeModules}/${modules.length} `;
          }
          break;

        case 'external-modules':
          status = 'success';
          details = '';
          break;
      }

      check.status = status;
      check.details = details;
      setChecks([...deploymentChecks]);
    }

    // Determine overall status
    const hasError = deploymentChecks.some(c => c.status === 'error');
    const hasWarning = deploymentChecks.some(c => c.status === 'warning');
    
    if (hasError) {
      setOverallStatus('error');
    } else if (hasWarning) {
      setOverallStatus('warning');
    } else {
      setOverallStatus('success');
    }
  };

  const getStatusIcon = (status: DeploymentCheck['status']) => {
    switch (status) {
      case 'success':
        return <CheckCircle2 className="h-5 w-5 text-green-500" />;
      case 'warning':
        return <AlertCircle className="h-5 w-5 text-amber-500" />;
      case 'error':
        return <AlertCircle className="h-5 w-5 text-red-500" />;
      case 'checking':
        return <Loader2 className="h-5 w-5 text-blue-500 animate-spin" />;
      default:
        return <Circle className="h-5 w-5 text-muted-foreground" />;
    }
  };

  const getStatusBadge = (status: DeploymentCheck['status']) => {
    switch (status) {
      case 'success':
        return <Badge variant="default" className="bg-green-600"></Badge>;
      case 'warning':
        return <Badge variant="secondary" className="bg-amber-600 text-white"></Badge>;
      case 'error':
        return <Badge variant="destructive"></Badge>;
      case 'checking':
        return <Badge variant="outline"></Badge>;
      default:
        return <Badge variant="outline"></Badge>;
    }
  };

  const successCount = checks.filter(c => c.status === 'success').length;
  const totalCount = checks.length;
  const progress = totalCount > 0 ? (successCount / totalCount) * 100 : 0;

  return (
    <div className="container px-4 py-8 md:px-8 max-w-6xl mx-auto">
      <div className="space-y-6">
        {/* Header */}
        <div className="space-y-4">
          <div className="flex items-center justify-between flex-wrap gap-4">
            <div>
              <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 via-cyan-500 to-green-600 bg-clip-text text-transparent">
                LFLCEI 
              </h1>
              <p className="text-muted-foreground mt-2"> DApp </p>
            </div>
            <Badge 
              variant={overallStatus === 'success' ? 'default' : overallStatus === 'warning' ? 'secondary' : 'destructive'}
              className="text-lg px-4 py-2"
            >
              {overallStatus === 'checking' && '...'}
              {overallStatus === 'success' && ''}
              {overallStatus === 'warning' && ''}
              {overallStatus === 'error' && ''}
            </Badge>
          </div>

          {/* Progress */}
          <Card>
            <CardContent className="pt-6">
              <div className="space-y-2">
                <div className="flex items-center justify-between text-sm">
                  <span className="text-muted-foreground"></span>
                  <span className="font-medium">{successCount}/{totalCount} </span>
                </div>
                <Progress value={progress} className="h-2" />
              </div>
            </CardContent>
          </Card>
        </div>

        {/* Deployment Checks */}
        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="space-y-4">
              {checks.map((check, index) => (
                <div key={check.id}>
                  {index > 0 && <Separator className="my-4" />}
                  <div className="flex items-start gap-4">
                    <div className="shrink-0 mt-1">
                      {getStatusIcon(check.status)}
                    </div>
                    <div className="flex-1 min-w-0 space-y-2">
                      <div className="flex items-center justify-between gap-4 flex-wrap">
                        <div className="flex items-center gap-3">
                          <check.icon className="h-5 w-5 text-muted-foreground shrink-0" />
                          <div>
                            <p className="font-semibold">{check.name}</p>
                            <p className="text-sm text-muted-foreground">{check.description}</p>
                          </div>
                        </div>
                        {getStatusBadge(check.status)}
                      </div>
                      {check.details && (
                        <p className="text-sm text-muted-foreground pl-8">{check.details}</p>
                      )}
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>

        {/* Actions */}
        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription></CardDescription>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="flex flex-wrap gap-3">
              <Button onClick={performDeploymentChecks} disabled={overallStatus === 'checking'}>
                {overallStatus === 'checking' ? (
                  <>
                    <Loader2 className="h-4 w-4 mr-2 animate-spin" />
                    ...
                  </>
                ) : (
                  ''
                )}
              </Button>
              <Button variant="outline" onClick={() => window.location.href = '/'}>
                
              </Button>
            </div>

            {overallStatus === 'success' && (
              <div className="p-4 rounded-lg bg-green-500/10 border border-green-500/20">
                <div className="flex items-start gap-3">
                  <CheckCircle2 className="h-5 w-5 text-green-500 shrink-0 mt-0.5" />
                  <div>
                    <p className="font-semibold text-green-600 dark:text-green-400"></p>
                    <p className="text-sm text-muted-foreground mt-1">
                      LFLCEI  DApp 
                      NFT 
                    </p>
                  </div>
                </div>
              </div>
            )}

            {overallStatus === 'warning' && (
              <div className="p-4 rounded-lg bg-amber-500/10 border border-amber-500/20">
                <div className="flex items-start gap-3">
                  <AlertCircle className="h-5 w-5 text-amber-500 shrink-0 mt-0.5" />
                  <div>
                    <p className="font-semibold text-amber-600 dark:text-amber-400"></p>
                    <p className="text-sm text-muted-foreground mt-1">
                      
                    </p>
                  </div>
                </div>
              </div>
            )}

            {overallStatus === 'error' && (
              <div className="p-4 rounded-lg bg-red-500/10 border border-red-500/20">
                <div className="flex items-start gap-3">
                  <AlertCircle className="h-5 w-5 text-red-500 shrink-0 mt-0.5" />
                  <div>
                    <p className="font-semibold text-red-600 dark:text-red-400"></p>
                    <p className="text-sm text-muted-foreground mt-1">
                      
                    </p>
                  </div>
                </div>
              </div>
            )}
          </CardContent>
        </Card>

        {/* System Information */}
        <Card>
          <CardHeader>
            <CardTitle></CardTitle>
            <CardDescription></CardDescription>
          </CardHeader>
          <CardContent>
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
              <div>
                <p className="text-muted-foreground"></p>
                <p className="font-medium">LFLCEI v2.0</p>
              </div>
              <div>
                <p className="text-muted-foreground"></p>
                <p className="font-medium">Internet Computer</p>
              </div>
              <div>
                <p className="text-muted-foreground"> Canister</p>
                <p className="font-mono text-xs">cerpu-yyaaa-aaaai-q4wuq-cai</p>
              </div>
              <div>
                <p className="text-muted-foreground">Ledger Canister</p>
                <p className="font-mono text-xs">ryjl3-tyaaa-aaaaa-aaaba-cai</p>
              </div>
              <div>
                <p className="text-muted-foreground"></p>
                <p className="font-medium"> / LEE YIHSUN</p>
              </div>
              <div>
                <p className="text-muted-foreground">Internet Identity</p>
                <p className="font-medium">2911215</p>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
PK
frontend/tailwind.config.jsimport typography from '@tailwindcss/typography';
import containerQueries from '@tailwindcss/container-queries';
import animate from 'tailwindcss-animate';

/** @type {import('tailwindcss').Config} */
export default {
    darkMode: ['class'],
    content: ['index.html', 'src/**/*.{js,ts,jsx,tsx,html,css}'],
    theme: {
        container: {
            center: true,
            padding: '2rem',
            screens: {
                '2xl': '1400px'
            }
        },
        extend: {
            colors: {
                border: 'oklch(var(--border))',
                input: 'oklch(var(--input))',
                ring: 'oklch(var(--ring) / <alpha-value>)',
                background: 'oklch(var(--background))',
                foreground: 'oklch(var(--foreground))',
                primary: {
                    DEFAULT: 'oklch(var(--primary) / <alpha-value>)',
                    foreground: 'oklch(var(--primary-foreground))'
                },
                secondary: {
                    DEFAULT: 'oklch(var(--secondary) / <alpha-value>)',
                    foreground: 'oklch(var(--secondary-foreground))'
                },
                destructive: {
                    DEFAULT: 'oklch(var(--destructive) / <alpha-value>)',
                    foreground: 'oklch(var(--destructive-foreground))'
                },
                muted: {
                    DEFAULT: 'oklch(var(--muted) / <alpha-value>)',
                    foreground: 'oklch(var(--muted-foreground) / <alpha-value>)'
                },
                accent: {
                    DEFAULT: 'oklch(var(--accent) / <alpha-value>)',
                    foreground: 'oklch(var(--accent-foreground))'
                },
                popover: {
                    DEFAULT: 'oklch(var(--popover))',
                    foreground: 'oklch(var(--popover-foreground))'
                },
                card: {
                    DEFAULT: 'oklch(var(--card))',
                    foreground: 'oklch(var(--card-foreground))'
                },
                chart: {
                    1: 'oklch(var(--chart-1))',
                    2: 'oklch(var(--chart-2))',
                    3: 'oklch(var(--chart-3))',
                    4: 'oklch(var(--chart-4))',
                    5: 'oklch(var(--chart-5))'
                },
                sidebar: {
                    DEFAULT: 'oklch(var(--sidebar))',
                    foreground: 'oklch(var(--sidebar-foreground))',
                    primary: 'oklch(var(--sidebar-primary))',
                    'primary-foreground': 'oklch(var(--sidebar-primary-foreground))',
                    accent: 'oklch(var(--sidebar-accent))',
                    'accent-foreground': 'oklch(var(--sidebar-accent-foreground))',
                    border: 'oklch(var(--sidebar-border))',
                    ring: 'oklch(var(--sidebar-ring))'
                }
            },
            borderRadius: {
                lg: 'var(--radius)',
                md: 'calc(var(--radius) - 2px)',
                sm: 'calc(var(--radius) - 4px)'
            },
            boxShadow: {
                xs: '0 1px 2px 0 rgba(0,0,0,0.05)',
                'glow-sm': '0 0 12px oklch(0.70 0.24 200 / 0.3)',
                'glow-md': '0 0 20px oklch(0.70 0.24 200 / 0.4)',
                'glow-lg': '0 0 32px oklch(0.70 0.24 200 / 0.5)'
            },
            fontSize: {
                'chinese-xs': ['0.75rem', { lineHeight: '1.5', letterSpacing: '0.02em' }],
                'chinese-sm': ['0.875rem', { lineHeight: '1.5', letterSpacing: '0.02em' }],
                'chinese-base': ['1rem', { lineHeight: '1.6', letterSpacing: '0.02em' }],
                'chinese-lg': ['1.125rem', { lineHeight: '1.65', letterSpacing: '0.02em' }],
                'chinese-xl': ['1.25rem', { lineHeight: '1.7', letterSpacing: '0.02em' }],
            },
            spacing: {
                'consistent-sm': '0.875rem',
                'consistent-md': '1rem',
                'consistent-lg': '1.25rem',
            },
            keyframes: {
                'accordion-down': {
                    from: { height: '0' },
                    to: { height: 'var(--radix-accordion-content-height)' }
                },
                'accordion-up': {
                    from: { height: 'var(--radix-accordion-content-height)' },
                    to: { height: '0' }
                },
                'smooth-pulse': {
                    '0%, 100%': { opacity: '1', transform: 'scale(1)' },
                    '50%': { opacity: '0.85', transform: 'scale(1.03)' }
                },
                'smooth-glow': {
                    '0%, 100%': { boxShadow: '0 0 16px oklch(0.70 0.24 200 / 0.35)' },
                    '50%': { boxShadow: '0 0 28px oklch(0.70 0.24 200 / 0.52)' }
                }
            },
            animation: {
                'accordion-down': 'accordion-down 0.2s ease-out',
                'accordion-up': 'accordion-up 0.2s ease-out',
                'smooth-pulse': 'smooth-pulse 2.2s ease-in-out infinite',
                'smooth-glow': 'smooth-glow 2.2s ease-in-out infinite'
            },
            transitionDuration: {
                'smooth': '280ms',
                'smooth-slow': '350ms'
            }
        }
    },
    plugins: [typography, containerQueries, animate]
};

PK
frontend/src/index.css@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: oklch(0.98 0.01 240);
    --foreground: oklch(0.15 0.02 240);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.15 0.02 240);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.15 0.02 240);
    --primary: oklch(0.45 0.22 264);
    --primary-foreground: oklch(0.98 0.01 264);
    --secondary: oklch(0.92 0.01 240);
    --secondary-foreground: oklch(0.15 0.02 240);
    --muted: oklch(0.92 0.01 240);
    --muted-foreground: oklch(0.48 0.02 240);
    --accent: oklch(0.92 0.01 240);
    --accent-foreground: oklch(0.15 0.02 240);
    --destructive: oklch(0.55 0.24 25);
    --destructive-foreground: oklch(0.98 0.01 25);
    --border: oklch(0.88 0.01 240);
    --input: oklch(0.88 0.01 240);
    --ring: oklch(0.45 0.22 264);
    --radius: 0.5rem;
    --chart-1: oklch(0.65 0.24 25);
    --chart-2: oklch(0.75 0.22 120);
    --chart-3: oklch(0.70 0.26 200);
    --chart-4: oklch(0.75 0.24 280);
    --chart-5: oklch(0.70 0.24 40);
  }

  .dark {
    --background: oklch(0.12 0.02 240);
    --foreground: oklch(0.95 0.01 240);
    --card: oklch(0.12 0.02 240);
    --card-foreground: oklch(0.95 0.01 240);
    --popover: oklch(0.12 0.02 240);
    --popover-foreground: oklch(0.95 0.01 240);
    --primary: oklch(0.65 0.24 264);
    --primary-foreground: oklch(0.15 0.02 264);
    --secondary: oklch(0.20 0.02 240);
    --secondary-foreground: oklch(0.95 0.01 240);
    --muted: oklch(0.20 0.02 240);
    --muted-foreground: oklch(0.62 0.02 240);
    --accent: oklch(0.20 0.02 240);
    --accent-foreground: oklch(0.95 0.01 240);
    --destructive: oklch(0.55 0.24 25);
    --destructive-foreground: oklch(0.95 0.01 25);
    --border: oklch(0.20 0.02 240);
    --input: oklch(0.20 0.02 240);
    --ring: oklch(0.65 0.24 264);
    --chart-1: oklch(0.70 0.24 40);
    --chart-2: oklch(0.75 0.22 120);
    --chart-3: oklch(0.70 0.26 200);
    --chart-4: oklch(0.75 0.24 280);
    --chart-5: oklch(0.65 0.24 25);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

/* Chinese Text Optimization */
.chinese-optimized {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif;
  letter-spacing: 0.02em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Unified Animation Constants for GPU Seven-Color Energy */
@keyframes qi-pulse {
  0%, 100% {
    opacity: 0.85;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.08);
  }
}

@keyframes smooth-glow {
  0%, 100% {
    box-shadow: 0 0 12px oklch(0.70 0.26 200 / 0.4), 0 0 24px oklch(0.70 0.26 200 / 0.2);
  }
  50% {
    box-shadow: 0 0 20px oklch(0.70 0.26 200 / 0.6), 0 0 40px oklch(0.70 0.26 200 / 0.3);
  }
}

@keyframes smooth-pulse {
  0%, 100% {
    opacity: 0.7;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.15);
  }
}

@keyframes energy-particle {
  0% {
    transform: translateY(0) translateX(0);
    opacity: 0;
  }
  10% {
    opacity: 0.8;
  }
  90% {
    opacity: 0.8;
  }
  100% {
    transform: translateY(-100px) translateX(20px);
    opacity: 0;
  }
}

@keyframes fusion-sync-flow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes code-glow {
  0%, 100% {
    box-shadow: 0 0 15px oklch(0.65 0.24 264 / 0.5), 0 0 30px oklch(0.65 0.24 264 / 0.3);
  }
  50% {
    box-shadow: 0 0 25px oklch(0.65 0.24 264 / 0.7), 0 0 50px oklch(0.65 0.24 264 / 0.4);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Unified Animation Classes */
.animate-qi-pulse {
  animation: qi-pulse 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-smooth-glow {
  animation: smooth-glow 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-smooth-pulse {
  animation: smooth-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-energy-particle {
  animation: energy-particle 4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

.animate-fusion-sync-flow {
  background-size: 200% 200%;
  animation: fusion-sync-flow 8s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-code-glow {
  animation: code-glow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-fade-in {
  animation: fade-in 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* No Flicker Optimization */
.no-flicker {
  backface-visibility: hidden;
  transform: translateZ(0);
  will-change: transform, opacity;
}

/* Shadow Glow Utilities */
.shadow-glow-sm {
  box-shadow: 0 0 8px oklch(0.70 0.26 200 / 0.3), 0 0 16px oklch(0.70 0.26 200 / 0.15);
}

.shadow-glow-md {
  box-shadow: 0 0 12px oklch(0.70 0.26 200 / 0.4), 0 0 24px oklch(0.70 0.26 200 / 0.2);
}

.shadow-glow-lg {
  box-shadow: 0 0 20px oklch(0.70 0.26 200 / 0.5), 0 0 40px oklch(0.70 0.26 200 / 0.25);
}

/* Accessibility: Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  :root {
    --border: oklch(0.50 0.02 240);
  }
  .dark {
    --border: oklch(0.50 0.02 240);
  }
}
PK
frontend/src/pages/ClickerGamePage.tsximport { useState, useEffect, useCallback } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Separator } from '@/components/ui/separator';
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog';
import { 
  MousePointer2, 
  Zap, 
  TrendingUp, 
  Award,
  Sparkles,
  Target,
  Trophy,
  Coins,
  Activity,
  CheckCircle2,
  AlertCircle,
  Wallet
} from 'lucide-react';
import { useActor } from '../hooks/useActor';
import { useInternetIdentity } from '../hooks/useInternetIdentity';
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { toast } from 'sonner';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';
import { icpPaymentModule, type PaymentStatus, GAME_ENTRY_FEE_E8S } from '../lib/icpPaymentModule';
import SecurePaymentInterface from '../components/SecurePaymentInterface';
import PaymentConsoleViewer from '../components/PaymentConsoleViewer';

interface ClickerGameState {
  totalClicks: number;
  energyEarned: number;
  clickPower: number;
  multiplier: number;
  level: number;
  achievements: Achievement[];
  lastClickTime: number;
  comboCount: number;
  highScore: number;
}

interface Achievement {
  id: string;
  name: string;
  description: string;
  unlocked: boolean;
  reward: number;
  icon: string;
}

const CLICK_ENERGY_BASE = 10;
const COMBO_TIMEOUT = 2000;
const LEVEL_THRESHOLD = 100;
const GAME_CANISTER_ID = 'your-clicker-game-canister-id'; // TODO: Load from config

export default function ClickerGamePage() {
  const { actor, isFetching } = useActor();
  const { identity } = useInternetIdentity();
  const queryClient = useQueryClient();

  const [showPaymentDialog, setShowPaymentDialog] = useState(false);
  const [showConsoleDialog, setShowConsoleDialog] = useState(false);
  const [paymentStatus, setPaymentStatus] = useState<PaymentStatus>({
    stage: 'idle',
    message: '',
    timestamp: Date.now(),
  });
  const [isProcessingPayment, setIsProcessingPayment] = useState(false);
  const [gameStarted, setGameStarted] = useState(false);

  const [gameState, setGameState] = useState<ClickerGameState>({
    totalClicks: 0,
    energyEarned: 0,
    clickPower: 1,
    multiplier: 1,
    level: 1,
    achievements: [
      { id: 'first-click', name: '', description: '', unlocked: false, reward: 50, icon: '' },
      { id: 'hundred-clicks', name: '', description: '100', unlocked: false, reward: 200, icon: '' },
      { id: 'combo-master', name: '', description: '10', unlocked: false, reward: 300, icon: '' },
      { id: 'energy-collector', name: '', description: '1000', unlocked: false, reward: 500, icon: '' },
      { id: 'level-five', name: '', description: '5', unlocked: false, reward: 1000, icon: '' },
    ],
    lastClickTime: 0,
    comboCount: 0,
    highScore: 0,
  });

  const [clickAnimation, setClickAnimation] = useState(false);
  const [comboAnimation, setComboAnimation] = useState(false);
  const [levelUpAnimation, setLevelUpAnimation] = useState(false);

  const { data: energyBalance } = useQuery<bigint>({
    queryKey: ['energyBalance'],
    queryFn: async () => {
      if (!actor) throw new Error('Actor not available');
      return actor.getCallerEnergyBalance();
    },
    enabled: !!actor && !isFetching,
    refetchInterval: 5000,
  });

  const awardEnergyMutation = useMutation({
    mutationFn: async (amount: number) => {
      if (!actor || !identity) throw new Error('Actor or identity not available');
      const principal = identity.getPrincipal();
      await actor.adminAwardEnergy(
        principal,
        BigInt(amount),
        ` - ${amount} `
      );
    },
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['energyBalance'] });
    },
  });

  // Handle game start with payment
  const handleGameStart = async () => {
    if (!identity) {
      toast.error(' Internet Identity');
      return;
    }

    setShowPaymentDialog(true);
    setIsProcessingPayment(true);

    const result = await icpPaymentModule.handleGameStart(
      identity.getPrincipal(),
      GAME_CANISTER_ID,
      'LFLC ',
      setPaymentStatus
    );

    setIsProcessingPayment(false);

    if (result.success) {
      toast.success('', {
        description: `ID: ${result.transactionId}`,
      });
      
      setTimeout(() => {
        setShowPaymentDialog(false);
        setGameStarted(true);
      }, 2000);
    } else {
      toast.error('', {
        description: result.error,
      });
    }
  };

  useEffect(() => {
    const savedState = localStorage.getItem('clickerGameState');
    if (savedState) {
      try {
        const parsed = JSON.parse(savedState);
        setGameState(prev => ({ ...prev, ...parsed }));
      } catch (error) {
        console.error('Failed to load game state:', error);
      }
    }
  }, []);

  useEffect(() => {
    localStorage.setItem('clickerGameState', JSON.stringify(gameState));
  }, [gameState]);

  useEffect(() => {
    const interval = setInterval(() => {
      const now = Date.now();
      if (now - gameState.lastClickTime > COMBO_TIMEOUT && gameState.comboCount > 0) {
        setGameState(prev => ({ ...prev, comboCount: 0 }));
      }
    }, 500);

    return () => clearInterval(interval);
  }, [gameState.lastClickTime, gameState.comboCount]);

  const checkAchievements = useCallback((state: ClickerGameState) => {
    const newAchievements = [...state.achievements];
    let rewardTotal = 0;

    newAchievements.forEach(achievement => {
      if (!achievement.unlocked) {
        let shouldUnlock = false;

        switch (achievement.id) {
          case 'first-click':
            shouldUnlock = state.totalClicks >= 1;
            break;
          case 'hundred-clicks':
            shouldUnlock = state.totalClicks >= 100;
            break;
          case 'combo-master':
            shouldUnlock = state.comboCount >= 10;
            break;
          case 'energy-collector':
            shouldUnlock = state.energyEarned >= 1000;
            break;
          case 'level-five':
            shouldUnlock = state.level >= 5;
            break;
        }

        if (shouldUnlock) {
          achievement.unlocked = true;
          rewardTotal += achievement.reward;
          toast.success(``, {
            description: `${achievement.icon} ${achievement.name} -  ${achievement.reward} `,
          });
        }
      }
    });

    if (rewardTotal > 0) {
      awardEnergyMutation.mutate(rewardTotal);
    }

    return newAchievements;
  }, [awardEnergyMutation]);

  const handleClick = useCallback(() => {
    if (!gameStarted) {
      toast.warning('');
      return;
    }

    const now = Date.now();
    const timeSinceLastClick = now - gameState.lastClickTime;

    setClickAnimation(true);
    setTimeout(() => setClickAnimation(false), 300);

    setGameState(prev => {
      const isCombo = timeSinceLastClick < COMBO_TIMEOUT;
      const newComboCount = isCombo ? prev.comboCount + 1 : 1;
      const comboMultiplier = Math.min(1 + (newComboCount - 1) * 0.1, 3);
      
      const energyGained = Math.floor(
        CLICK_ENERGY_BASE * prev.clickPower * prev.multiplier * comboMultiplier
      );

      const newTotalClicks = prev.totalClicks + 1;
      const newEnergyEarned = prev.energyEarned + energyGained;
      const newLevel = Math.floor(newTotalClicks / LEVEL_THRESHOLD) + 1;

      if (newLevel > prev.level) {
        setLevelUpAnimation(true);
        setTimeout(() => setLevelUpAnimation(false), 2000);
        toast.success('', {
          description: ` ${newLevel}`,
        });
      }

      if (newComboCount >= 5 && newComboCount % 5 === 0) {
        setComboAnimation(true);
        setTimeout(() => setComboAnimation(false), 500);
      }

      const newState: ClickerGameState = {
        ...prev,
        totalClicks: newTotalClicks,
        energyEarned: newEnergyEarned,
        clickPower: 1 + Math.floor(newLevel / 2),
        multiplier: 1 + (newLevel - 1) * 0.1,
        level: newLevel,
        lastClickTime: now,
        comboCount: newComboCount,
        highScore: Math.max(prev.highScore, newComboCount),
        achievements: checkAchievements({
          ...prev,
          totalClicks: newTotalClicks,
          energyEarned: newEnergyEarned,
          level: newLevel,
          comboCount: newComboCount,
        }),
      };

      if (newTotalClicks % 50 === 0) {
        awardEnergyMutation.mutate(energyGained);
      }

      unifiedArchitecture.emit('clicker-game:click', {
        clicks: newTotalClicks,
        energy: energyGained,
        combo: newComboCount,
      });

      return newState;
    });
  }, [gameState.lastClickTime, checkAchievements, awardEnergyMutation, gameStarted]);

  const resetGame = () => {
    if (confirm('')) {
      setGameState({
        totalClicks: 0,
        energyEarned: 0,
        clickPower: 1,
        multiplier: 1,
        level: 1,
        achievements: gameState.achievements.map(a => ({ ...a, unlocked: false })),
        lastClickTime: 0,
        comboCount: 0,
        highScore: gameState.highScore,
      });
      setGameStarted(false);
      localStorage.removeItem('clickerGameState');
      toast.info('');
    }
  };

  const unlockedAchievements = gameState.achievements.filter(a => a.unlocked).length;
  const totalAchievements = gameState.achievements.length;
  const progressToNextLevel = ((gameState.totalClicks % LEVEL_THRESHOLD) / LEVEL_THRESHOLD) * 100;
  const comboMultiplier = Math.min(1 + (gameState.comboCount - 1) * 0.1, 3);
  const entryFeeICP = Number(GAME_ENTRY_FEE_E8S) / 100_000_000;

  return (
    <div className="container px-4 py-8 md:px-8 relative min-h-screen">
      {/* Animated Background */}
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-20">
        <div className="absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-amber-500/30 to-orange-500/30 rounded-full blur-3xl animate-qi-pulse"></div>
        <div className="absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-br from-orange-500/30 to-amber-500/30 rounded-full blur-3xl animate-qi-pulse" style={{ animationDelay: '1s' }}></div>
      </div>

      <div className="relative z-10 space-y-6">
        {/* Header */}
        <div className="space-y-4">
          <div className="flex items-center justify-between flex-wrap gap-4">
            <div className="flex items-center gap-4">
              <div className="relative">
                <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-amber-600 to-orange-600 flex items-center justify-center shadow-lg animate-qi-pulse">
                  <MousePointer2 className="h-8 w-8 text-white" />
                </div>
                <div className="absolute -top-1 -right-1 h-4 w-4 bg-green-500 rounded-full animate-qi-pulse border-2 border-background"></div>
              </div>
              <div>
                <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent">
                  LFLC 
                </h1>
                <p className="text-sm md:text-base text-muted-foreground">ICP      </p>
              </div>
            </div>
            <div className="flex items-center gap-2 flex-wrap">
              {!gameStarted && (
                <Button
                  onClick={handleGameStart}
                  size="lg"
                  className="bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 gap-2"
                >
                  <Wallet className="h-5 w-5" />
                   {entryFeeICP} ICP 
                </Button>
              )}
              <Button
                onClick={() => setShowConsoleDialog(true)}
                variant="outline"
                size="sm"
              >
                
              </Button>
              <Badge variant="outline" className="gap-2">
                <Trophy className="h-3 w-3" />
                 {gameState.level}
              </Badge>
              <Badge variant="default" className="gap-2 bg-gradient-to-r from-amber-600 to-orange-600">
                <Coins className="h-3 w-3" />
                {Number(energyBalance || 0n)} 
              </Badge>
              <Badge variant="secondary" className="gap-2">
                <Award className="h-3 w-3" />
                {unlockedAchievements}/{totalAchievements} 
              </Badge>
            </div>
          </div>
        </div>

        {/* Payment Required Alert */}
        {!gameStarted && (
          <Alert className="border-amber-500/50 bg-gradient-to-r from-amber-500/10 to-orange-500/10">
            <Wallet className="h-4 w-4 text-amber-500" />
            <AlertTitle></AlertTitle>
            <AlertDescription>
               {entryFeeICP} ICP  ICP Ledger 
            </AlertDescription>
          </Alert>
        )}

        {/* Level Up Animation */}
        {levelUpAnimation && (
          <Alert className="border-2 border-amber-500 bg-gradient-to-r from-amber-500/10 to-orange-500/10 animate-qi-pulse">
            <Sparkles className="h-4 w-4 text-amber-500" />
            <AlertTitle></AlertTitle>
            <AlertDescription>
               {gameState.level}
            </AlertDescription>
          </Alert>
        )}

        {/* Main Game Area */}
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
          {/* Click Button Area */}
          <div className="lg:col-span-2 space-y-6">
            <Card className="border-2 border-amber-500/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Target className="h-5 w-5 text-amber-500" />
                  
                </CardTitle>
                <CardDescription>  </CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                {/* Click Button */}
                <div className="flex items-center justify-center py-12">
                  <Button
                    onClick={handleClick}
                    size="lg"
                    disabled={!gameStarted}
                    className={`h-64 w-64 rounded-full text-4xl font-bold shadow-2xl transition-all ${
                      clickAnimation ? 'scale-95' : 'scale-100'
                    } ${
                      comboAnimation ? 'animate-qi-pulse' : ''
                    } bg-gradient-to-br from-amber-600 via-orange-600 to-amber-600 hover:from-amber-700 hover:via-orange-700 hover:to-amber-700 disabled:opacity-50 disabled:cursor-not-allowed`}
                  >
                    <div className="flex flex-col items-center gap-2">
                      <MousePointer2 className="h-16 w-16" />
                      <span className="text-2xl">{gameStarted ? '' : ''}</span>
                      {gameState.comboCount > 0 && gameStarted && (
                        <Badge variant="secondary" className="text-lg">
                          {gameState.comboCount}x 
                        </Badge>
                      )}
                    </div>
                  </Button>
                </div>

                {/* Stats */}
                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                  <div className="p-4 rounded-lg bg-gradient-to-br from-amber-500/10 to-orange-500/10 border border-amber-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <MousePointer2 className="h-4 w-4 text-amber-500" />
                      <p className="text-xs text-muted-foreground"></p>
                    </div>
                    <p className="text-2xl font-bold">{gameState.totalClicks}</p>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <Zap className="h-4 w-4 text-green-500" />
                      <p className="text-xs text-muted-foreground"></p>
                    </div>
                    <p className="text-2xl font-bold">{gameState.energyEarned}</p>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <TrendingUp className="h-4 w-4 text-blue-500" />
                      <p className="text-xs text-muted-foreground"></p>
                    </div>
                    <p className="text-2xl font-bold">{gameState.clickPower}x</p>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <Activity className="h-4 w-4 text-purple-500" />
                      <p className="text-xs text-muted-foreground"></p>
                    </div>
                    <p className="text-2xl font-bold">{gameState.multiplier.toFixed(1)}x</p>
                  </div>
                </div>

                {/* Combo Info */}
                {gameState.comboCount > 0 && gameStarted && (
                  <Alert className="border-amber-500/50 bg-gradient-to-r from-amber-500/10 to-orange-500/10">
                    <Zap className="h-4 w-4 text-amber-500" />
                    <AlertTitle></AlertTitle>
                    <AlertDescription>
                      : {gameState.comboCount}x  : {comboMultiplier.toFixed(1)}x  
                       {Math.floor(CLICK_ENERGY_BASE * gameState.clickPower * gameState.multiplier * comboMultiplier)} 
                    </AlertDescription>
                  </Alert>
                )}

                {/* Level Progress */}
                <div className="space-y-2">
                  <div className="flex justify-between text-sm">
                    <span className="text-muted-foreground"> {gameState.level} </span>
                    <span className="font-medium">{gameState.totalClicks % LEVEL_THRESHOLD}/{LEVEL_THRESHOLD}</span>
                  </div>
                  <Progress value={progressToNextLevel} className="h-3" />
                </div>
              </CardContent>
            </Card>
          </div>

          {/* Side Panel */}
          <div className="space-y-6">
            {/* Achievements */}
            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Award className="h-5 w-5 text-amber-500" />
                  
                </CardTitle>
                <CardDescription>{unlockedAchievements}/{totalAchievements} </CardDescription>
              </CardHeader>
              <CardContent className="space-y-3">
                {gameState.achievements.map(achievement => (
                  <div
                    key={achievement.id}
                    className={`p-3 rounded-lg border transition-all ${
                      achievement.unlocked
                        ? 'bg-gradient-to-r from-amber-500/10 to-orange-500/10 border-amber-500/30'
                        : 'bg-muted/30 border-border/50 opacity-60'
                    }`}
                  >
                    <div className="flex items-start gap-3">
                      <div className="text-2xl">{achievement.icon}</div>
                      <div className="flex-1 min-w-0">
                        <div className="flex items-center gap-2 mb-1">
                          <p className="font-semibold text-sm">{achievement.name}</p>
                          {achievement.unlocked && (
                            <CheckCircle2 className="h-4 w-4 text-green-500 shrink-0" />
                          )}
                        </div>
                        <p className="text-xs text-muted-foreground mb-1">{achievement.description}</p>
                        <Badge variant="outline" className="text-xs">
                          <Coins className="h-3 w-3 mr-1" />
                          {achievement.reward} 
                        </Badge>
                      </div>
                    </div>
                  </div>
                ))}
              </CardContent>
            </Card>

            {/* Records */}
            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Trophy className="h-5 w-5 text-amber-500" />
                  
                </CardTitle>
              </CardHeader>
              <CardContent className="space-y-3">
                <div className="flex justify-between items-center p-3 rounded-lg bg-muted/30">
                  <span className="text-sm text-muted-foreground"></span>
                  <span className="text-lg font-bold">{gameState.highScore}x</span>
                </div>
                <div className="flex justify-between items-center p-3 rounded-lg bg-muted/30">
                  <span className="text-sm text-muted-foreground"></span>
                  <span className="text-lg font-bold">Lv.{gameState.level}</span>
                </div>
                <div className="flex justify-between items-center p-3 rounded-lg bg-muted/30">
                  <span className="text-sm text-muted-foreground"></span>
                  <span className="text-lg font-bold">{gameState.totalClicks}</span>
                </div>
                <div className="flex justify-between items-center p-3 rounded-lg bg-muted/30">
                  <span className="text-sm text-muted-foreground"></span>
                  <span className="text-lg font-bold">{gameState.energyEarned}</span>
                </div>

                <Separator />

                <Button
                  onClick={resetGame}
                  variant="outline"
                  size="sm"
                  className="w-full"
                >
                  <AlertCircle className="h-4 w-4 mr-2" />
                  
                </Button>
              </CardContent>
            </Card>
          </div>
        </div>

        {/* Game Tips */}
        <Card className="border-blue-500/30 bg-gradient-to-r from-blue-500/5 to-cyan-500/5">
          <CardHeader>
            <CardTitle className="flex items-center gap-2 text-lg">
              <Sparkles className="h-5 w-5 text-blue-500" />
              
            </CardTitle>
          </CardHeader>
          <CardContent>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
              <div className="flex items-start gap-2">
                <Wallet className="h-4 w-4 text-amber-500 mt-0.5 shrink-0" />
                <div>
                  <p className="font-medium mb-1">ICP</p>
                  <p className="text-muted-foreground text-xs"> {entryFeeICP} ICP </p>
                </div>
              </div>
              <div className="flex items-start gap-2">
                <Zap className="h-4 w-4 text-amber-500 mt-0.5 shrink-0" />
                <div>
                  <p className="font-medium mb-1"></p>
                  <p className="text-muted-foreground text-xs">23</p>
                </div>
              </div>
              <div className="flex items-start gap-2">
                <TrendingUp className="h-4 w-4 text-green-500 mt-0.5 shrink-0" />
                <div>
                  <p className="font-medium mb-1"></p>
                  <p className="text-muted-foreground text-xs">1001</p>
                </div>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Payment Dialog */}
      <Dialog open={showPaymentDialog} onOpenChange={setShowPaymentDialog}>
        <DialogContent className="max-w-2xl">
          <DialogHeader>
            <DialogTitle></DialogTitle>
            <DialogDescription>
               ICP Ledger 
            </DialogDescription>
          </DialogHeader>
          <SecurePaymentInterface
            gameName="LFLC "
            onPaymentComplete={(transactionId) => {
              console.log('Payment completed:', transactionId);
            }}
            onPaymentCancel={() => {
              setShowPaymentDialog(false);
              setPaymentStatus({ stage: 'idle', message: '', timestamp: Date.now() });
            }}
            paymentStatus={paymentStatus}
            isProcessing={isProcessingPayment}
          />
        </DialogContent>
      </Dialog>

      {/* Console Dialog */}
      <Dialog open={showConsoleDialog} onOpenChange={setShowConsoleDialog}>
        <DialogContent className="max-w-4xl max-h-[80vh]">
          <DialogHeader>
            <DialogTitle></DialogTitle>
            <DialogDescription>
              
            </DialogDescription>
          </DialogHeader>
          <PaymentConsoleViewer />
        </DialogContent>
      </Dialog>
    </div>
  );
}
PK
frontend/src/pages/LuckyDrawPage.tsximport { useState, useRef, useEffect } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog';
import { 
  Sparkles, 
  Zap, 
  Trophy, 
  Gift, 
  Star,
  CheckCircle2,
  AlertCircle,
  Loader2,
  Radio,
  TrendingUp,
  Wallet
} from 'lucide-react';
import { useInternetIdentity } from '../hooks/useInternetIdentity';
import { LFLCConnector } from '../lib/externalBackendConnector';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';
import { icpPaymentModule, type PaymentStatus, GAME_ENTRY_FEE_E8S } from '../lib/icpPaymentModule';
import SecurePaymentInterface from '../components/SecurePaymentInterface';
import PaymentConsoleViewer from '../components/PaymentConsoleViewer';
import { toast } from 'sonner';

interface Prize {
  id: string;
  name: string;
  color: string;
  probability: number;
  energyReward: number;
  icon: typeof Gift;
}

interface SpinResult {
  prize: Prize;
  timestamp: number;
  energySynced: boolean;
  syncError?: string;
}

const GAME_CANISTER_ID = 'your-lucky-draw-canister-id'; // TODO: Load from config

export default function LuckyDrawPage() {
  const { identity } = useInternetIdentity();
  const [isSpinning, setIsSpinning] = useState(false);
  const [currentRotation, setCurrentRotation] = useState(0);
  const [spinHistory, setSpinHistory] = useState<SpinResult[]>([]);
  const [lastResult, setLastResult] = useState<SpinResult | null>(null);
  const [isSyncingEnergy, setIsSyncingEnergy] = useState(false);
  const [connectionStatus, setConnectionStatus] = useState<'connected' | 'disconnected' | 'checking'>('checking');
  const [showPaymentDialog, setShowPaymentDialog] = useState(false);
  const [showConsoleDialog, setShowConsoleDialog] = useState(false);
  const [paymentStatus, setPaymentStatus] = useState<PaymentStatus>({
    stage: 'idle',
    message: '',
    timestamp: Date.now(),
  });
  const [isProcessingPayment, setIsProcessingPayment] = useState(false);
  const [gameStarted, setGameStarted] = useState(false);
  const wheelRef = useRef<HTMLDivElement>(null);

  const prizes: Prize[] = [
    { id: '1', name: 'Grand Prize', color: 'from-yellow-500 to-amber-600', probability: 0.05, energyReward: 100, icon: Trophy },
    { id: '2', name: 'Major Prize', color: 'from-purple-500 to-pink-600', probability: 0.10, energyReward: 100, icon: Star },
    { id: '3', name: 'Standard Prize', color: 'from-blue-500 to-cyan-600', probability: 0.25, energyReward: 100, icon: Gift },
    { id: '4', name: 'Minor Prize', color: 'from-green-500 to-emerald-600', probability: 0.30, energyReward: 100, icon: Sparkles },
    { id: '5', name: 'Consolation', color: 'from-orange-500 to-red-600', probability: 0.30, energyReward: 100, icon: Zap },
  ];

  useEffect(() => {
    checkExternalBackendConnection();
    const interval = setInterval(checkExternalBackendConnection, 30000);
    return () => clearInterval(interval);
  }, []);

  const checkExternalBackendConnection = async () => {
    setConnectionStatus('checking');
    const isConnected = await LFLCConnector.testConnection();
    setConnectionStatus(isConnected ? 'connected' : 'disconnected');
  };

  const selectWinningPrize = (): Prize => {
    const random = Math.random();
    let cumulativeProbability = 0;

    for (const prize of prizes) {
      cumulativeProbability += prize.probability;
      if (random <= cumulativeProbability) {
        return prize;
      }
    }

    return prizes[prizes.length - 1];
  };

  // Handle game start with payment
  const handleGameStart = async () => {
    if (!identity) {
      toast.error(' Internet Identity');
      return;
    }

    setShowPaymentDialog(true);
    setIsProcessingPayment(true);

    const result = await icpPaymentModule.handleGameStart(
      identity.getPrincipal(),
      GAME_CANISTER_ID,
      'LFLC Lucky Draw',
      setPaymentStatus
    );

    setIsProcessingPayment(false);

    if (result.success) {
      toast.success('', {
        description: `ID: ${result.transactionId}`,
      });
      
      setTimeout(() => {
        setShowPaymentDialog(false);
        setGameStarted(true);
      }, 2000);
    } else {
      toast.error('', {
        description: result.error,
      });
    }
  };

  const handleSpin = async () => {
    if (isSpinning) return;
    
    if (!gameStarted) {
      toast.warning('');
      return;
    }

    setIsSpinning(true);
    setLastResult(null);

    // Select winning prize
    const winningPrize = selectWinningPrize();
    const winningIndex = prizes.findIndex(p => p.id === winningPrize.id);
    
    // Calculate rotation
    const segmentAngle = 360 / prizes.length;
    const targetAngle = winningIndex * segmentAngle;
    const spins = 5 + Math.random() * 3; // 5-8 full rotations
    const finalRotation = currentRotation + (spins * 360) + targetAngle;

    // Animate wheel
    setCurrentRotation(finalRotation);

    // Wait for animation to complete
    await new Promise(resolve => setTimeout(resolve, 4000));

    // Show result optimistically (UI updates immediately)
    const result: SpinResult = {
      prize: winningPrize,
      timestamp: Date.now(),
      energySynced: false,
    };
    setLastResult(result);
    setIsSpinning(false);

    // Trigger energy sync asynchronously (non-blocking)
    syncEnergyToExternalBackend(winningPrize, result);

    // Emit event to unified architecture
    unifiedArchitecture.emit('lucky-draw:win', {
      prize: winningPrize.name,
      energyReward: winningPrize.energyReward,
      timestamp: Date.now(),
    });
  };

  const syncEnergyToExternalBackend = async (prize: Prize, result: SpinResult) => {
    setIsSyncingEnergy(true);

    try {
      console.log(`[Lucky Draw] Winner confirmed: ${prize.name}. Triggering energy sync...`);
      
      // Call external backend with retry logic
      const response = await LFLCConnector.dispatch(prize.energyReward);

      if (response.success) {
        console.log(`[Lucky Draw] Energy sync successful:`, response.message);
        result.energySynced = true;
        
        // Update result in history
        setSpinHistory(prev => [result, ...prev.slice(0, 9)]);
        setLastResult({ ...result });
      } else {
        console.error(`[Lucky Draw] Energy sync failed:`, response.error);
        result.energySynced = false;
        result.syncError = response.error;
        
        setSpinHistory(prev => [result, ...prev.slice(0, 9)]);
        setLastResult({ ...result });
      }
    } catch (error) {
      console.error('[Lucky Draw] Unexpected error during energy sync:', error);
      result.energySynced = false;
      result.syncError = error instanceof Error ? error.message : 'Unknown error';
      
      setSpinHistory(prev => [result, ...prev.slice(0, 9)]);
      setLastResult({ ...result });
    } finally {
      setIsSyncingEnergy(false);
    }
  };

  const entryFeeICP = Number(GAME_ENTRY_FEE_E8S) / 100_000_000;

  return (
    <div className="container px-4 py-8 md:px-8 relative min-h-screen">
      {/* Animated Background */}
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-20">
        <div className="absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-amber-500/30 to-orange-500/30 rounded-full blur-3xl animate-qi-pulse"></div>
        <div className="absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-br from-purple-500/30 to-pink-500/30 rounded-full blur-3xl animate-qi-pulse" style={{ animationDelay: '1s' }}></div>
      </div>

      <div className="relative z-10 space-y-6">
        {/* Header */}
        <div className="space-y-4">
          <div className="flex items-center justify-between flex-wrap gap-4">
            <div className="flex items-center gap-4">
              <div className="relative">
                <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-amber-600 via-orange-500 to-red-600 flex items-center justify-center shadow-lg animate-fusion-sync-pulse">
                  <Trophy className="h-8 w-8 text-white" />
                </div>
                <div className="absolute -top-1 -right-1 h-4 w-4 bg-green-500 rounded-full animate-qi-pulse border-2 border-background"></div>
              </div>
              <div>
                <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-amber-600 via-orange-500 to-red-600 bg-clip-text text-transparent">
                  LFLC Lucky Draw Games
                </h1>
                <p className="text-sm md:text-base text-muted-foreground">ICP  Spin to Win  Energy Rewards  External Backend Integration</p>
              </div>
            </div>
            <div className="flex items-center gap-2 flex-wrap">
              {!gameStarted && (
                <Button
                  onClick={handleGameStart}
                  size="lg"
                  className="bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 gap-2"
                >
                  <Wallet className="h-5 w-5" />
                   {entryFeeICP} ICP 
                </Button>
              )}
              <Button
                onClick={() => setShowConsoleDialog(true)}
                variant="outline"
                size="sm"
              >
                
              </Button>
              <Badge variant={connectionStatus === 'connected' ? 'default' : connectionStatus === 'checking' ? 'secondary' : 'destructive'} className="gap-2">
                {connectionStatus === 'checking' ? (
                  <>
                    <Loader2 className="h-3 w-3 animate-spin" />
                    Checking...
                  </>
                ) : connectionStatus === 'connected' ? (
                  <>
                    <Radio className="h-3 w-3 animate-qi-pulse" />
                    Backend Connected
                  </>
                ) : (
                  <>
                    <AlertCircle className="h-3 w-3" />
                    Backend Offline
                  </>
                )}
              </Badge>
              {isSyncingEnergy && (
                <Badge variant="secondary" className="gap-2">
                  <Loader2 className="h-3 w-3 animate-spin" />
                  Syncing Energy...
                </Badge>
              )}
            </div>
          </div>
        </div>

        {/* Payment Required Alert */}
        {!gameStarted && (
          <Alert className="border-amber-500/50 bg-gradient-to-r from-amber-500/10 to-orange-500/10">
            <Wallet className="h-4 w-4 text-amber-500" />
            <AlertTitle></AlertTitle>
            <AlertDescription>
               {entryFeeICP} ICP  ICP Ledger 
            </AlertDescription>
          </Alert>
        )}

        {/* Connection Alert */}
        {connectionStatus === 'disconnected' && (
          <Alert variant="destructive">
            <AlertCircle className="h-4 w-4" />
            <AlertTitle>External Backend Disconnected</AlertTitle>
            <AlertDescription>
              Unable to connect to https://lflc-ei-75z.caffeine.xyz/. Energy rewards may not sync properly.
            </AlertDescription>
          </Alert>
        )}

        {/* Last Result Alert */}
        {lastResult && (
          <Alert variant={lastResult.energySynced ? 'default' : 'destructive'}>
            {lastResult.energySynced ? (
              <CheckCircle2 className="h-4 w-4" />
            ) : (
              <AlertCircle className="h-4 w-4" />
            )}
            <AlertTitle>
              {lastResult.energySynced ? 'Congratulations!' : 'Prize Won (Energy Sync Pending)'}
            </AlertTitle>
            <AlertDescription>
              You won {lastResult.prize.name}! 
              {lastResult.energySynced ? (
                <> Energy reward of {lastResult.prize.energyReward} has been synced to external backend.</>
              ) : (
                <> Energy sync {lastResult.syncError ? `failed: ${lastResult.syncError}` : 'in progress...'}</>
              )}
            </AlertDescription>
          </Alert>
        )}

        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
          {/* Lucky Wheel */}
          <Card className="lg:col-span-2 border-2 border-amber-500/30">
            <CardHeader>
              <CardTitle className="flex items-center gap-2">
                <Sparkles className="h-5 w-5 text-amber-500" />
                Lucky Wheel
              </CardTitle>
              <CardDescription>Spin the wheel to win prizes and energy rewards</CardDescription>
            </CardHeader>
            <CardContent className="flex flex-col items-center space-y-6">
              {/* Wheel Container */}
              <div className="relative w-full max-w-md aspect-square">
                {/* Pointer */}
                <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-2 z-20">
                  <div className="w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-t-[40px] border-t-red-600 drop-shadow-lg"></div>
                </div>

                {/* Wheel */}
                <div
                  ref={wheelRef}
                  className="relative w-full h-full rounded-full shadow-2xl overflow-hidden border-8 border-white/20"
                  style={{
                    transform: `rotate(${currentRotation}deg)`,
                    transition: isSpinning ? 'transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99)' : 'none',
                  }}
                >
                  {prizes.map((prize, index) => {
                    const segmentAngle = 360 / prizes.length;
                    const rotation = index * segmentAngle;
                    
                    return (
                      <div
                        key={prize.id}
                        className="absolute inset-0 origin-center"
                        style={{
                          transform: `rotate(${rotation}deg)`,
                          clipPath: `polygon(50% 50%, 50% 0%, ${50 + 50 * Math.sin((segmentAngle * Math.PI) / 180)}% ${50 - 50 * Math.cos((segmentAngle * Math.PI) / 180)}%)`,
                        }}
                      >
                        <div className={`w-full h-full bg-gradient-to-br ${prize.color} flex items-start justify-center pt-8`}>
                          <div className="text-center text-white font-bold text-sm -rotate-90">
                            <prize.icon className="h-6 w-6 mx-auto mb-1" />
                            <p className="text-xs">{prize.name}</p>
                          </div>
                        </div>
                      </div>
                    );
                  })}

                  {/* Center Circle */}
                  <div className="absolute inset-0 m-auto w-20 h-20 rounded-full bg-gradient-to-br from-white to-gray-200 shadow-lg flex items-center justify-center">
                    <Sparkles className="h-8 w-8 text-amber-600" />
                  </div>
                </div>
              </div>

              {/* Spin Button */}
              <Button
                onClick={handleSpin}
                disabled={isSpinning || connectionStatus === 'checking' || !gameStarted}
                size="lg"
                className="w-full max-w-xs bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white font-bold text-lg py-6"
              >
                {isSpinning ? (
                  <>
                    <Loader2 className="h-5 w-5 mr-2 animate-spin" />
                    Spinning...
                  </>
                ) : !gameStarted ? (
                  <>
                    <Wallet className="h-5 w-5 mr-2" />
                    
                  </>
                ) : (
                  <>
                    <Zap className="h-5 w-5 mr-2" />
                    Spin the Wheel
                  </>
                )}
              </Button>

              {/* Prize List */}
              <div className="w-full max-w-md space-y-2">
                <p className="text-sm font-semibold text-muted-foreground">Prize Probabilities:</p>
                {prizes.map(prize => (
                  <div key={prize.id} className="flex items-center justify-between p-2 rounded-lg bg-muted/50">
                    <div className="flex items-center gap-2">
                      <div className={`h-3 w-3 rounded-full bg-gradient-to-br ${prize.color}`}></div>
                      <span className="text-sm font-medium">{prize.name}</span>
                    </div>
                    <div className="flex items-center gap-3">
                      <Badge variant="outline" className="text-xs">
                        {(prize.probability * 100).toFixed(0)}%
                      </Badge>
                      <Badge variant="secondary" className="text-xs gap-1">
                        <Zap className="h-3 w-3" />
                        +{prize.energyReward}
                      </Badge>
                    </div>
                  </div>
                ))}
              </div>
            </CardContent>
          </Card>

          {/* Spin History */}
          <Card className="border-2 border-purple-500/30">
            <CardHeader>
              <CardTitle className="flex items-center gap-2">
                <TrendingUp className="h-5 w-5 text-purple-500" />
                Recent Spins
              </CardTitle>
              <CardDescription>Your latest lucky draw results</CardDescription>
            </CardHeader>
            <CardContent>
              {spinHistory.length === 0 ? (
                <div className="text-center py-8 text-muted-foreground">
                  <Trophy className="h-12 w-12 mx-auto mb-3 opacity-50" />
                  <p className="text-sm">No spins yet</p>
                  <p className="text-xs">Spin the wheel to get started!</p>
                </div>
              ) : (
                <div className="space-y-3">
                  {spinHistory.map((result, index) => (
                    <div
                      key={`${result.timestamp}-${index}`}
                      className="p-3 rounded-lg border border-border/50 bg-gradient-to-br from-card to-card/50 space-y-2"
                    >
                      <div className="flex items-center justify-between">
                        <div className="flex items-center gap-2">
                          <div className={`h-8 w-8 rounded-full bg-gradient-to-br ${result.prize.color} flex items-center justify-center`}>
                            <result.prize.icon className="h-4 w-4 text-white" />
                          </div>
                          <div>
                            <p className="text-sm font-semibold">{result.prize.name}</p>
                            <p className="text-xs text-muted-foreground">
                              {new Date(result.timestamp).toLocaleTimeString()}
                            </p>
                          </div>
                        </div>
                        {result.energySynced ? (
                          <CheckCircle2 className="h-5 w-5 text-green-500" />
                        ) : (
                          <AlertCircle className="h-5 w-5 text-amber-500" />
                        )}
                      </div>
                      <div className="flex items-center justify-between text-xs">
                        <span className="text-muted-foreground">Energy Reward:</span>
                        <Badge variant="secondary" className="gap-1">
                          <Zap className="h-3 w-3" />
                          +{result.prize.energyReward}
                        </Badge>
                      </div>
                      <div className="flex items-center justify-between text-xs">
                        <span className="text-muted-foreground">Backend Sync:</span>
                        <Badge variant={result.energySynced ? 'default' : 'destructive'} className="text-xs">
                          {result.energySynced ? 'Synced' : result.syncError ? 'Failed' : 'Pending'}
                        </Badge>
                      </div>
                      {result.syncError && (
                        <p className="text-xs text-destructive mt-1">{result.syncError}</p>
                      )}
                    </div>
                  ))}
                </div>
              )}
            </CardContent>
          </Card>
        </div>

        {/* Integration Info */}
        <Card className="border-2 border-blue-500/30">
          <CardHeader>
            <CardTitle className="flex items-center gap-2">
              <Radio className="h-5 w-5 text-blue-500" />
              External Backend Integration
            </CardTitle>
            <CardDescription>Real-time energy synchronization with LFLC external canister</CardDescription>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div className="p-4 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                <div className="flex items-center gap-2 mb-2">
                  <Radio className="h-4 w-4 text-blue-500" />
                  <p className="text-sm font-medium">Backend URL</p>
                </div>
                <p className="text-xs text-muted-foreground break-all">https://lflc-ei-75z.caffeine.xyz/</p>
              </div>

              <div className="p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
                <div className="flex items-center gap-2 mb-2">
                  <Zap className="h-4 w-4 text-green-500" />
                  <p className="text-sm font-medium">Energy per Win</p>
                </div>
                <p className="text-2xl font-bold">+100</p>
              </div>

              <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">
                <div className="flex items-center gap-2 mb-2">
                  <TrendingUp className="h-4 w-4 text-purple-500" />
                  <p className="text-sm font-medium">Retry Attempts</p>
                </div>
                <p className="text-2xl font-bold">3x</p>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Payment Dialog */}
      <Dialog open={showPaymentDialog} onOpenChange={setShowPaymentDialog}>
        <DialogContent className="max-w-2xl">
          <DialogHeader>
            <DialogTitle></DialogTitle>
            <DialogDescription>
               ICP Ledger 
            </DialogDescription>
          </DialogHeader>
          <SecurePaymentInterface
            gameName="LFLC Lucky Draw"
            onPaymentComplete={(transactionId) => {
              console.log('Payment completed:', transactionId);
            }}
            onPaymentCancel={() => {
              setShowPaymentDialog(false);
              setPaymentStatus({ stage: 'idle', message: '', timestamp: Date.now() });
            }}
            paymentStatus={paymentStatus}
            isProcessing={isProcessingPayment}
          />
        </DialogContent>
      </Dialog>

      {/* Console Dialog */}
      <Dialog open={showConsoleDialog} onOpenChange={setShowConsoleDialog}>
        <DialogContent className="max-w-4xl max-h-[80vh]">
          <DialogHeader>
            <DialogTitle></DialogTitle>
            <DialogDescription>
              
            </DialogDescription>
          </DialogHeader>
          <PaymentConsoleViewer />
        </DialogContent>
      </Dialog>
    </div>
  );
}
PK
frontend/src/pages/SubscriptionDashboardPage.tsximport { useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';
import { Progress } from '@/components/ui/progress';
import { Separator } from '@/components/ui/separator';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { ScrollArea } from '@/components/ui/scroll-area';
import { 
  CreditCard, 
  CheckCircle2, 
  Clock, 
  AlertCircle, 
  Sparkles,
  Calendar,
  Wallet,
  TrendingUp,
  Shield,
  Zap,
  Gift,
  DollarSign,
  Timer
} from 'lucide-react';
import { useGetCallerSubscriptionStatus, useProcessSubscriptionPayment, useGetHourlyPayoutHistory } from '../hooks/useQueries';
import { SubscriptionStatus } from '../backend';
import { toast } from 'sonner';
import MultiWalletDistributionVisualizer from '../components/MultiWalletDistributionVisualizer';

export default function SubscriptionDashboardPage() {
  const { data: subscription, isLoading } = useGetCallerSubscriptionStatus();
  const { data: hourlyPayouts = [] } = useGetHourlyPayoutHistory(20);
  const processPayment = useProcessSubscriptionPayment();
  const [transactionHash, setTransactionHash] = useState('');
  const [isProcessing, setIsProcessing] = useState(false);
  const [showDistributionAnimation, setShowDistributionAnimation] = useState(false);

  const SUBSCRIPTION_FEE_ICP = 1;
  const HOURLY_REWARD_ICP = 0.1;
  const DEVELOPER_WALLET_1 = "38614da9d6625a2c38eebb8870e842c2fecb21bdf3688bada26a01d24042e7d5";
  const DEVELOPER_WALLET_2 = "gwzao-dhzdc-6vi6v-cikxi-meydb-eii5s-ve2wa-kze56-vosk7-cukek-xae";

  const handlePayment = async () => {
    if (!transactionHash.trim()) {
      toast.error('');
      return;
    }

    setIsProcessing(true);
    try {
      await processPayment.mutateAsync({
        transactionHash: transactionHash.trim(),
        amount: BigInt(SUBSCRIPTION_FEE_ICP * 100_000_000),
      });
      setShowDistributionAnimation(true);
      setTimeout(() => setShowDistributionAnimation(false), 3000);
      toast.success(' 1000 ');
      setTransactionHash('');
    } catch (error: any) {
      toast.error(error.message || '');
    } finally {
      setIsProcessing(false);
    }
  };

  const getStatusBadge = (status?: SubscriptionStatus) => {
    if (!status) return <Badge variant="secondary"></Badge>;
    
    switch (status) {
      case SubscriptionStatus.active:
        return <Badge variant="default" className="gap-1.5"><CheckCircle2 className="h-3 w-3" /></Badge>;
      case SubscriptionStatus.expired:
        return <Badge variant="destructive" className="gap-1.5"><AlertCircle className="h-3 w-3" /></Badge>;
      case SubscriptionStatus.pending:
        return <Badge variant="secondary" className="gap-1.5"><Clock className="h-3 w-3" /></Badge>;
      default:
        return <Badge variant="secondary"></Badge>;
    }
  };

  const getRemainingDays = () => {
    if (!subscription || subscription.status !== SubscriptionStatus.active) return 0;
    const now = Date.now();
    const expiry = Number(subscription.expiryDate) / 1_000_000;
    const remaining = Math.max(0, Math.ceil((expiry - now) / (1000 * 60 * 60 * 24)));
    return remaining;
  };

  const getExpiryDate = () => {
    if (!subscription) return '-';
    const expiry = Number(subscription.expiryDate) / 1_000_000;
    return new Date(expiry).toLocaleDateString('zh-CN');
  };

  const getNextHourlyReward = () => {
    if (!subscription || !subscription.lastHourlyRewardDistribution) return '';
    const lastDistribution = Number(subscription.lastHourlyRewardDistribution) / 1_000_000;
    const nextDistribution = lastDistribution + (60 * 60 * 1000);
    const now = Date.now();
    if (now >= nextDistribution) return '';
    const remaining = Math.ceil((nextDistribution - now) / (1000 * 60));
    return `${remaining} `;
  };

  const remainingDays = getRemainingDays();
  const isActive = subscription?.status === SubscriptionStatus.active;

  if (isLoading) {
    return (
      <div className="container px-4 py-8 md:px-8">
        <div className="flex items-center justify-center min-h-[400px]">
          <div className="text-center space-y-4">
            <div className="h-12 w-12 mx-auto rounded-full border-4 border-primary border-t-transparent animate-spin"></div>
            <p className="text-muted-foreground">...</p>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="container px-4 py-6 md:py-8 md:px-8 relative min-h-screen">
      {/* Animated Background */}
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-20 dark:opacity-30">
        <div className="absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-primary/30 to-accent/30 rounded-full blur-3xl animate-qi-pulse"></div>
        <div className="absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-br from-accent/30 to-primary/30 rounded-full blur-3xl animate-qi-pulse" style={{ animationDelay: '1s' }}></div>
      </div>

      <div className="relative z-10 space-y-6">
        {/* Header */}
        <div className="space-y-4">
          <div className="flex items-center gap-4">
            <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-primary via-accent to-primary flex items-center justify-center shadow-lg animate-code-glow">
              <CreditCard className="h-8 w-8 text-primary-foreground" />
            </div>
            <div>
              <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent">
                
              </h1>
              <p className="text-sm text-muted-foreground mt-1"> 1 ICP   0.1 ICP   </p>
            </div>
          </div>
        </div>

        {/* Status Alert */}
        {!isActive && (
          <Alert variant="destructive">
            <AlertCircle className="h-4 w-4" />
            <AlertTitle></AlertTitle>
            <AlertDescription>
              
            </AlertDescription>
          </Alert>
        )}

        {isActive && remainingDays <= 7 && (
          <Alert>
            <Clock className="h-4 w-4" />
            <AlertTitle></AlertTitle>
            <AlertDescription>
               {remainingDays} 
            </AlertDescription>
          </Alert>
        )}

        <Tabs defaultValue="overview" className="space-y-6">
          <TabsList className="grid w-full grid-cols-4">
            <TabsTrigger value="overview"></TabsTrigger>
            <TabsTrigger value="payment"></TabsTrigger>
            <TabsTrigger value="history"></TabsTrigger>
            <TabsTrigger value="rewards"></TabsTrigger>
          </TabsList>

          {/* Overview Tab */}
          <TabsContent value="overview" className="space-y-6">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {/* Subscription Status Card */}
              <Card className="border-2 border-primary/30">
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <Shield className="h-5 w-5 text-primary" />
                    
                  </CardTitle>
                  <CardDescription></CardDescription>
                </CardHeader>
                <CardContent className="space-y-4">
                  <div className="flex items-center justify-between">
                    <span className="text-sm text-muted-foreground"></span>
                    {getStatusBadge(subscription?.status)}
                  </div>
                  <Separator />
                  <div className="flex items-center justify-between">
                    <span className="text-sm text-muted-foreground"></span>
                    <span className="font-semibold">{SUBSCRIPTION_FEE_ICP} ICP/</span>
                  </div>
                  <div className="flex items-center justify-between">
                    <span className="text-sm text-muted-foreground"></span>
                    <span className="font-semibold">{getExpiryDate()}</span>
                  </div>
                  <div className="flex items-center justify-between">
                    <span className="text-sm text-muted-foreground"></span>
                    <span className="font-semibold">{remainingDays} </span>
                  </div>
                  {isActive && (
                    <>
                      <Separator />
                      <div className="space-y-2">
                        <div className="flex items-center justify-between text-sm">
                          <span className="text-muted-foreground"></span>
                          <span className="font-medium">{Math.max(0, 100 - Math.round((remainingDays / 30) * 100))}%</span>
                        </div>
                        <Progress value={Math.max(0, 100 - Math.round((remainingDays / 30) * 100))} className="h-2" />
                      </div>
                    </>
                  )}
                </CardContent>
              </Card>

              {/* Hourly Developer Reward Card */}
              <Card className="border-2 border-accent/30 bg-gradient-to-br from-accent/5 to-accent/10">
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <Gift className="h-5 w-5 text-accent" />
                    
                  </CardTitle>
                  <CardDescription> 0.1 ICP </CardDescription>
                </CardHeader>
                <CardContent className="space-y-4">
                  <div className="p-4 rounded-lg bg-gradient-to-r from-accent/20 to-primary/20 border border-accent/30">
                    <div className="flex items-center justify-between mb-2">
                      <div className="flex items-center gap-2">
                        <Timer className="h-5 w-5 text-accent" />
                        <span className="font-semibold"></span>
                      </div>
                      <span className="text-2xl font-bold">{HOURLY_REWARD_ICP} ICP</span>
                    </div>
                    <p className="text-xs text-muted-foreground"></p>
                  </div>

                  <Separator />

                  <div className="space-y-3">
                    <div className="flex items-center justify-between text-sm">
                      <span className="text-muted-foreground"></span>
                      <Badge variant="outline" className="gap-1">
                        <Clock className="h-3 w-3" />
                        {getNextHourlyReward()}
                      </Badge>
                    </div>
                    <div className="flex items-center justify-between text-sm">
                      <span className="text-muted-foreground"></span>
                      <span className="font-semibold">{hourlyPayouts.length} </span>
                    </div>
                    <div className="flex items-center justify-between text-sm">
                      <span className="text-muted-foreground"></span>
                      <span className="font-semibold">{(hourlyPayouts.length * HOURLY_REWARD_ICP).toFixed(1)} ICP</span>
                    </div>
                  </div>

                  <Separator />

                  <div className="p-3 rounded-lg bg-muted/30 text-center">
                    <p className="text-xs text-muted-foreground mb-1"></p>
                    <Badge variant={isActive ? "default" : "secondary"} className="gap-1">
                      {isActive ? (
                        <>
                          <CheckCircle2 className="h-3 w-3" />
                          
                        </>
                      ) : (
                        <>
                          <AlertCircle className="h-3 w-3" />
                          
                        </>
                      )}
                    </Badge>
                  </div>
                </CardContent>
              </Card>

              {/* Benefits Card */}
              <Card>
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <Sparkles className="h-5 w-5 text-accent" />
                    
                  </CardTitle>
                  <CardDescription></CardDescription>
                </CardHeader>
                <CardContent>
                  <ul className="space-y-3">
                    <li className="flex items-start gap-2">
                      <CheckCircle2 className="h-5 w-5 text-green-500 mt-0.5 shrink-0" />
                      <div>
                        <p className="font-medium"></p>
                        <p className="text-sm text-muted-foreground"></p>
                      </div>
                    </li>
                    <li className="flex items-start gap-2">
                      <CheckCircle2 className="h-5 w-5 text-green-500 mt-0.5 shrink-0" />
                      <div>
                        <p className="font-medium">1000 </p>
                        <p className="text-sm text-muted-foreground"></p>
                      </div>
                    </li>
                    <li className="flex items-start gap-2">
                      <CheckCircle2 className="h-5 w-5 text-green-500 mt-0.5 shrink-0" />
                      <div>
                        <p className="font-medium"></p>
                        <p className="text-sm text-muted-foreground">AI </p>
                      </div>
                    </li>
                    <li className="flex items-start gap-2">
                      <CheckCircle2 className="h-5 w-5 text-green-500 mt-0.5 shrink-0" />
                      <div>
                        <p className="font-medium"></p>
                        <p className="text-sm text-muted-foreground"> 0.1 ICP </p>
                      </div>
                    </li>
                  </ul>
                </CardContent>
              </Card>
            </div>

            {/* Wallet Distribution with Animation */}
            <Card className="border-2 border-accent/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Wallet className="h-5 w-5 text-accent" />
                  
                </CardTitle>
                <CardDescription> 50/50 </CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div className="p-4 rounded-lg bg-muted/50 border border-border/50 space-y-2">
                    <div className="flex items-center gap-2">
                      <Wallet className="h-4 w-4 text-primary" />
                      <span className="text-sm font-medium"> 1</span>
                    </div>
                    <p className="text-xs text-muted-foreground break-all font-mono">{DEVELOPER_WALLET_1}</p>
                    <div className="flex items-center justify-between pt-2 border-t border-border/30">
                      <span className="text-xs text-muted-foreground"></span>
                      <span className="font-semibold">0.5 ICP</span>
                    </div>
                  </div>
                  <div className="p-4 rounded-lg bg-muted/50 border border-border/50 space-y-2">
                    <div className="flex items-center gap-2">
                      <Wallet className="h-4 w-4 text-accent" />
                      <span className="text-sm font-medium"> 2</span>
                    </div>
                    <p className="text-xs text-muted-foreground break-all font-mono">{DEVELOPER_WALLET_2}</p>
                    <div className="flex items-center justify-between pt-2 border-t border-border/30">
                      <span className="text-xs text-muted-foreground"></span>
                      <span className="font-semibold">0.5 ICP</span>
                    </div>
                  </div>
                </div>

                {/* Distribution Visualizer */}
                {showDistributionAnimation && (
                  <div className="p-6 rounded-lg bg-gradient-to-br from-primary/10 to-accent/10 border-2 border-primary/30">
                    <MultiWalletDistributionVisualizer 
                      isDistributing={true}
                      wallet1Amount={0.5}
                      wallet2Amount={0.5}
                    />
                  </div>
                )}

                <div className="p-3 rounded-lg bg-primary/10 border border-primary/20">
                  <p className="text-sm text-muted-foreground">
                    <Zap className="h-4 w-4 inline mr-1 text-primary" />
                     1000 
                  </p>
                </div>
              </CardContent>
            </Card>
          </TabsContent>

          {/* Payment Tab */}
          <TabsContent value="payment" className="space-y-6">
            <Card className="border-2 border-primary/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <CreditCard className="h-5 w-5 text-primary" />
                  
                </CardTitle>
                <CardDescription> ICP </CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <Alert>
                  <AlertCircle className="h-4 w-4" />
                  <AlertTitle></AlertTitle>
                  <AlertDescription className="space-y-2">
                    <p>1.  {SUBSCRIPTION_FEE_ICP} ICP</p>
                    <p>2. </p>
                    <p>3. </p>
                    <p>4. </p>
                  </AlertDescription>
                </Alert>

                <div className="space-y-4">
                  <div className="space-y-2">
                    <Label htmlFor="transaction-hash"></Label>
                    <Input
                      id="transaction-hash"
                      placeholder=" ICP "
                      value={transactionHash}
                      onChange={(e) => setTransactionHash(e.target.value)}
                      disabled={isProcessing}
                    />
                  </div>

                  <Button
                    onClick={handlePayment}
                    disabled={isProcessing || !transactionHash.trim()}
                    className="w-full"
                    size="lg"
                  >
                    {isProcessing ? (
                      <>
                        <div className="h-4 w-4 mr-2 rounded-full border-2 border-primary-foreground border-t-transparent animate-spin"></div>
                        ...
                      </>
                    ) : (
                      <>
                        <CheckCircle2 className="h-4 w-4 mr-2" />
                        
                      </>
                    )}
                  </Button>
                </div>

                <Separator />

                <div className="space-y-3">
                  <h4 className="text-sm font-semibold"></h4>
                  <div className="grid grid-cols-2 gap-4 text-sm">
                    <div className="space-y-1">
                      <p className="text-muted-foreground"></p>
                      <p className="font-semibold">{SUBSCRIPTION_FEE_ICP} ICP</p>
                    </div>
                    <div className="space-y-1">
                      <p className="text-muted-foreground"></p>
                      <p className="font-semibold">30 </p>
                    </div>
                    <div className="space-y-1">
                      <p className="text-muted-foreground"> 1 </p>
                      <p className="font-semibold">0.5 ICP</p>
                    </div>
                    <div className="space-y-1">
                      <p className="text-muted-foreground"> 2 </p>
                      <p className="font-semibold">0.5 ICP</p>
                    </div>
                    <div className="space-y-1">
                      <p className="text-muted-foreground"></p>
                      <p className="font-semibold">1000 </p>
                    </div>
                    <div className="space-y-1">
                      <p className="text-muted-foreground"></p>
                      <p className="font-semibold">0.1 ICP/</p>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>
          </TabsContent>

          {/* History Tab */}
          <TabsContent value="history" className="space-y-6">
            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <TrendingUp className="h-5 w-5 text-primary" />
                  
                </CardTitle>
                <CardDescription></CardDescription>
              </CardHeader>
              <CardContent>
                {subscription && subscription.paymentHistory.length > 0 ? (
                  <div className="space-y-4">
                    {subscription.paymentHistory.map((payment, index) => (
                      <div key={index} className="p-4 rounded-lg border border-border/50 bg-muted/30 space-y-3">
                        <div className="flex items-center justify-between">
                          <div className="flex items-center gap-2">
                            <CheckCircle2 className="h-4 w-4 text-green-500" />
                            <span className="font-medium"></span>
                          </div>
                          <Badge variant={payment.verified ? "default" : "secondary"}>
                            {payment.verified ? '' : ''}
                          </Badge>
                        </div>
                        <div className="grid grid-cols-2 gap-3 text-sm">
                          <div>
                            <p className="text-muted-foreground"></p>
                            <p className="font-semibold">{Number(payment.amount) / 100_000_000} ICP</p>
                          </div>
                          <div>
                            <p className="text-muted-foreground"></p>
                            <p className="font-semibold">
                              {new Date(Number(payment.timestamp) / 1_000_000).toLocaleDateString('zh-CN')}
                            </p>
                          </div>
                          <div>
                            <p className="text-muted-foreground"> 1</p>
                            <p className="font-semibold">{Number(payment.wallet1Amount) / 100_000_000} ICP</p>
                          </div>
                          <div>
                            <p className="text-muted-foreground"> 2</p>
                            <p className="font-semibold">{Number(payment.wallet2Amount) / 100_000_000} ICP</p>
                          </div>
                        </div>
                        <Separator />
                        <div>
                          <p className="text-xs text-muted-foreground mb-1"></p>
                          <p className="text-xs font-mono break-all bg-background/50 p-2 rounded">
                            {payment.transactionHash}
                          </p>
                        </div>
                      </div>
                    ))}
                  </div>
                ) : (
                  <div className="text-center py-12">
                    <Calendar className="h-12 w-12 mx-auto text-muted-foreground/50 mb-4" />
                    <p className="text-muted-foreground"></p>
                    <p className="text-sm text-muted-foreground mt-2"></p>
                  </div>
                )}
              </CardContent>
            </Card>
          </TabsContent>

          {/* Developer Rewards Tab */}
          <TabsContent value="rewards" className="space-y-6">
            <Card className="border-2 border-accent/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <DollarSign className="h-5 w-5 text-accent" />
                  
                </CardTitle>
                <CardDescription> 0.1 ICP </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                  <div className="p-4 rounded-lg bg-gradient-to-br from-accent/10 to-primary/10 border border-accent/30">
                    <div className="flex items-center gap-2 mb-2">
                      <Gift className="h-5 w-5 text-accent" />
                      <p className="text-sm font-medium"></p>
                    </div>
                    <p className="text-3xl font-bold">{hourlyPayouts.length}</p>
                    <p className="text-xs text-muted-foreground mt-1"></p>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <TrendingUp className="h-5 w-5 text-green-500" />
                      <p className="text-sm font-medium"></p>
                    </div>
                    <p className="text-3xl font-bold">{(hourlyPayouts.length * HOURLY_REWARD_ICP).toFixed(1)}</p>
                    <p className="text-xs text-muted-foreground mt-1">ICP </p>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <Timer className="h-5 w-5 text-blue-500" />
                      <p className="text-sm font-medium"></p>
                    </div>
                    <p className="text-3xl font-bold">{HOURLY_REWARD_ICP}</p>
                    <p className="text-xs text-muted-foreground mt-1">ICP / </p>
                  </div>
                </div>

                <Separator className="my-6" />

                <ScrollArea className="h-[400px] pr-4">
                  {hourlyPayouts.length > 0 ? (
                    <div className="space-y-3">
                      {hourlyPayouts.map((payout, index) => (
                        <div 
                          key={index}
                          className="p-4 rounded-lg border border-border/50 hover:border-accent/50 transition-all bg-gradient-to-br from-card to-card/50"
                        >
                          <div className="flex items-center justify-between mb-3">
                            <div className="flex items-center gap-2">
                              <div className={`h-2 w-2 rounded-full ${
                                payout.status === 'completed' ? 'bg-green-500 animate-qi-pulse' : 'bg-gray-400'
                              }`}></div>
                              <span className="font-medium"></span>
                            </div>
                            <Badge variant={payout.status === 'completed' ? "default" : "secondary"} className="gap-1">
                              <CheckCircle2 className="h-3 w-3" />
                              {payout.status === 'completed' ? '' : ''}
                            </Badge>
                          </div>

                          <div className="grid grid-cols-2 gap-3 text-sm mb-3">
                            <div>
                              <p className="text-muted-foreground"></p>
                              <p className="font-semibold">{Number(payout.amount) / 100_000_000} ICP</p>
                            </div>
                            <div>
                              <p className="text-muted-foreground"></p>
                              <p className="font-semibold">
                                {new Date(Number(payout.timestamp) / 1_000_000).toLocaleString('zh-CN')}
                              </p>
                            </div>
                          </div>

                          <Separator className="my-2" />

                          <div className="space-y-2">
                            <p className="text-xs text-muted-foreground"></p>
                            {payout.recipients.map((recipient, idx) => (
                              <div key={idx} className="flex items-center gap-2 text-xs">
                                <Wallet className="h-3 w-3 text-muted-foreground" />
                                <span className="font-mono break-all">{recipient}</span>
                              </div>
                            ))}
                          </div>
                        </div>
                      ))}
                    </div>
                  ) : (
                    <div className="text-center py-12">
                      <Gift className="h-12 w-12 mx-auto text-muted-foreground/50 mb-4" />
                      <p className="text-muted-foreground"></p>
                      <p className="text-sm text-muted-foreground mt-2">
                         0.1 ICP 
                      </p>
                    </div>
                  )}
                </ScrollArea>
              </CardContent>
            </Card>

            {/* Reward Mechanism Explanation */}
            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Sparkles className="h-5 w-5 text-accent" />
                  
                </CardTitle>
                <CardDescription></CardDescription>
              </CardHeader>
              <CardContent>
                <div className="space-y-4">
                  <div className="p-4 rounded-lg bg-muted/30 border border-border/50">
                    <h4 className="font-semibold mb-2 flex items-center gap-2">
                      <CheckCircle2 className="h-4 w-4 text-green-500" />
                      
                    </h4>
                    <p className="text-sm text-muted-foreground">
                       0.1 ICP 
                    </p>
                  </div>

                  <div className="p-4 rounded-lg bg-muted/30 border border-border/50">
                    <h4 className="font-semibold mb-2 flex items-center gap-2">
                      <Wallet className="h-4 w-4 text-blue-500" />
                      
                    </h4>
                    <p className="text-sm text-muted-foreground">
                       0.1 ICP 
                    </p>
                  </div>

                  <div className="p-4 rounded-lg bg-muted/30 border border-border/50">
                    <h4 className="font-semibold mb-2 flex items-center gap-2">
                      <TrendingUp className="h-4 w-4 text-purple-500" />
                      
                    </h4>
                    <p className="text-sm text-muted-foreground">
                       hourly_developer_reward 
                    </p>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-r from-accent/10 to-primary/10 border border-accent/30">
                    <h4 className="font-semibold mb-2 flex items-center gap-2">
                      <Sparkles className="h-4 w-4 text-accent" />
                      
                    </h4>
                    <p className="text-sm text-muted-foreground">
                      
                    </p>
                  </div>
                </div>
              </CardContent>
            </Card>
          </TabsContent>
        </Tabs>
      </div>
    </div>
  );
}
PK
frontend/src/lib/unifiedArchitecture.ts/**
 *    - 
 * Unified Holistic Architecture Controller - LFLCEI 
 * 
 *      API   GPU 
 *       
 * 
 *   LFLC     
 *       
 * 
 * 
 * -  API UniverseEnergyConnector  LuckyDraw 
 * - GPU 
 * - UnifiedErrorBoundary
 * - 
 * - 
 */

export interface UnifiedCoreDataController {
  moduleStates: Map<string, ModuleState>;
  syncScheduler: AutoSyncScheduler;
  apiFlow: UnifiedAPIFlow;
  visualRenderer: GPUVisualRenderer;
  performanceMonitor: PerformanceMonitor;
  errorHandler: UnifiedErrorHandler;
  naturalAutoBalance: NaturalAutoBalanceController;
  externalAPIOptimizer: ExternalAPIOptimizer;
}

export interface ExternalAPIOptimizer {
  enabled: boolean;
  cacheStrategy: 'aggressive' | 'balanced' | 'minimal';
  retryPolicy: RetryPolicy;
  connectionPool: ConnectionPool;
  latencyMonitor: LatencyMonitor;
  prefetchEnabled: boolean;
}

export interface RetryPolicy {
  maxRetries: number;
  baseDelay: number;
  maxDelay: number;
  exponentialBackoff: boolean;
  jitterEnabled: boolean;
}

export interface ConnectionPool {
  maxConnections: number;
  activeConnections: number;
  idleTimeout: number;
  keepAlive: boolean;
}

export interface LatencyMonitor {
  averageLatency: number;
  peakLatency: number;
  latencyHistory: number[];
  targetLatency: number;
}

export interface NaturalAutoBalanceController {
  enabled: boolean;
  mode: 'natural' | 'manual';
  adaptiveOptimization: AdaptiveOptimization;
  selfHealing: SelfHealingProcessor;
  performanceEquilibrium: PerformanceEquilibrium;
  learningEngine: LearningEngine;
  balanceHistory: BalanceRecord[];
}

export interface AdaptiveOptimization {
  enabled: boolean;
  optimizationLevel: number;
  adaptiveThreshold: number;
  optimizationHistory: OptimizationRecord[];
  autoAdjustInterval: number;
  lastOptimization: number;
}

export interface OptimizationRecord {
  timestamp: number;
  metric: string;
  beforeValue: number;
  afterValue: number;
  improvement: number;
  action: string;
}

export interface SelfHealingProcessor {
  enabled: boolean;
  healingStrategies: Map<string, HealingStrategy>;
  activeHealing: HealingProcess[];
  healingHistory: HealingRecord[];
  autoDetect: boolean;
  autoRecover: boolean;
}

export interface HealingStrategy {
  name: string;
  condition: (state: any) => boolean;
  action: (state: any) => Promise<boolean>;
  priority: number;
  cooldown: number;
  lastExecuted: number;
}

export interface HealingProcess {
  id: string;
  strategy: string;
  startTime: number;
  status: 'detecting' | 'healing' | 'completed' | 'failed';
  progress: number;
  target: string;
}

export interface HealingRecord {
  id: string;
  timestamp: number;
  issue: string;
  strategy: string;
  success: boolean;
  duration: number;
  impact: number;
}

export interface PerformanceEquilibrium {
  enabled: boolean;
  dataFlowBalance: number;
  energyFlowBalance: number;
  renderingBalance: number;
  overallBalance: number;
  balanceTarget: number;
  autoAdjust: boolean;
  adjustmentHistory: BalanceAdjustment[];
}

export interface BalanceAdjustment {
  timestamp: number;
  component: 'data' | 'energy' | 'rendering';
  beforeBalance: number;
  afterBalance: number;
  action: string;
}

export interface LearningEngine {
  enabled: boolean;
  learningRate: number;
  patterns: Map<string, UsagePattern>;
  predictions: Map<string, Prediction>;
  adaptiveRules: AdaptiveRule[];
}

export interface UsagePattern {
  pattern: string;
  frequency: number;
  lastOccurrence: number;
  confidence: number;
  associatedActions: string[];
}

export interface Prediction {
  metric: string;
  predictedValue: number;
  confidence: number;
  timestamp: number;
  actualValue?: number;
}

export interface AdaptiveRule {
  id: string;
  condition: string;
  action: string;
  priority: number;
  enabled: boolean;
  successRate: number;
  executionCount: number;
}

export interface BalanceRecord {
  timestamp: number;
  dataFlowBalance: number;
  energyFlowBalance: number;
  renderingBalance: number;
  overallBalance: number;
  systemHealth: number;
  optimizationLevel: number;
}

export interface ModuleState {
  moduleId: string;
  moduleName: string;
  moduleType: 'wu-dao' | 'dao-fa' | 'artifact-cultivation' | 'awakening' | 'invocation' | 'energy-coin' | 'subscription';
  isActive: boolean;
  lastSync: number;
  dataVolume: number;
  healthScore: number;
  syncQuality: number;
  dependencies: string[];
  realTimeState: 'active' | 'idle' | 'syncing' | 'error';
  energyLevel: number;
  cultivationProgress: number;
}

export interface AutoSyncScheduler {
  enabled: boolean;
  interval: number;
  lastSync: number;
  nextSync: number;
  syncQueue: SyncTask[];
  conflictResolver: ConflictResolver;
  autoRetry: boolean;
  maxRetries: number;
}

export interface SyncTask {
  moduleId: string;
  priority: number;
  timestamp: number;
  operation: string;
  status: 'pending' | 'processing' | 'completed' | 'failed';
  retryCount: number;
  data?: any;
}

export interface ConflictResolver {
  detectConflicts: () => Conflict[];
  resolveConflict: (conflict: Conflict) => void;
  conflictHistory: Conflict[];
  autoResolve: boolean;
}

export interface Conflict {
  id: string;
  moduleIds: string[];
  type: 'data' | 'state' | 'sync';
  severity: 'low' | 'medium' | 'high';
  timestamp: number;
  resolved: boolean;
  resolution?: string;
}

export interface UnifiedAPIFlow {
  protocol: 'unified-rest' | 'unified-websocket';
  endpoints: Map<string, APIEndpoint>;
  requestQueue: APIRequest[];
  responseCache: Map<string, APIResponse>;
  errorHandler: APIErrorHandler;
  rateLimiter: RateLimiter;
}

export interface APIEndpoint {
  path: string;
  method: 'GET' | 'POST' | 'PUT' | 'DELETE';
  moduleId: string;
  rateLimit: number;
  timeout: number;
  retryable: boolean;
}

export interface APIRequest {
  id: string;
  endpoint: string;
  payload: any;
  timestamp: number;
  priority: number;
  status: 'queued' | 'processing' | 'completed' | 'failed';
  retryCount: number;
}

export interface APIResponse {
  requestId: string;
  data: any;
  timestamp: number;
  cached: boolean;
  duration: number;
}

export interface APIErrorHandler {
  handleError: (error: Error, context: string) => void;
  retryStrategy: RetryStrategy;
  errorLog: ErrorLog[];
}

export interface RetryStrategy {
  maxRetries: number;
  backoffMultiplier: number;
  initialDelay: number;
  maxDelay: number;
}

export interface ErrorLog {
  id: string;
  error: Error;
  context: string;
  timestamp: number;
  severity: 'low' | 'medium' | 'high' | 'critical';
  resolved: boolean;
}

export interface RateLimiter {
  maxRequestsPerSecond: number;
  currentRequests: number;
  resetTime: number;
}

export interface GPUVisualRenderer {
  enabled: boolean;
  qualityMode: 'high' | 'balanced' | 'low';
  particleSystem: ParticleSystem;
  animationEngine: AnimationEngine;
  renderPipeline: RenderPipeline;
  adaptiveQuality: boolean;
  renderRecovery: RenderRecoverySystem;
  deviceOptimization: DeviceOptimization;
}

export interface DeviceOptimization {
  deviceType: 'desktop' | 'tablet' | 'mobile';
  gpuTier: 'high' | 'medium' | 'low';
  screenDensity: number;
  maxParticles: number;
  targetFPS: number;
  enabledOptimizations: string[];
}

export interface RenderRecoverySystem {
  enabled: boolean;
  lastRecovery: number;
  recoveryAttempts: number;
  maxRecoveryAttempts: number;
  recoveryHistory: RecoveryRecord[];
  autoRecover: boolean;
}

export interface RecoveryRecord {
  timestamp: number;
  issue: string;
  action: string;
  success: boolean;
  duration: number;
}

export interface ParticleSystem {
  particles: Particle[];
  maxParticles: number;
  emissionRate: number;
  pooling: boolean;
  activeParticles: number;
}

export interface Particle {
  id: string;
  x: number;
  y: number;
  vx: number;
  vy: number;
  life: number;
  maxLife: number;
  color: string;
  size: number;
  opacity: number;
}

export interface AnimationEngine {
  animations: Map<string, Animation>;
  fps: number;
  deltaTime: number;
  running: boolean;
  frameCount: number;
}

export interface Animation {
  id: string;
  duration: number;
  easing: string;
  progress: number;
  loop: boolean;
  paused: boolean;
}

export interface RenderPipeline {
  stages: RenderStage[];
  currentStage: number;
  performance: RenderPerformance;
  optimizations: RenderOptimization[];
}

export interface RenderStage {
  name: string;
  execute: () => void;
  duration: number;
  priority: number;
}

export interface RenderPerformance {
  fps: number;
  frameTime: number;
  gpuUtilization: number;
  drawCalls: number;
}

export interface RenderOptimization {
  name: string;
  enabled: boolean;
  impact: number;
}

export interface PerformanceMonitor {
  metrics: PerformanceMetrics;
  history: PerformanceMetrics[];
  thresholds: PerformanceThresholds;
  alerts: PerformanceAlert[];
  autoOptimize: boolean;
}

export interface PerformanceMetrics {
  fps: number;
  cpuLoad: number;
  memoryUsage: number;
  syncLatency: number;
  apiResponseTime: number;
  renderTime: number;
  stateConsistency: number;
  fusionSyncQuality: number;
  energyFlowRate: number;
  cultivationEfficiency: number;
  externalAPILatency: number;
}

export interface PerformanceThresholds {
  minFps: number;
  maxCpuLoad: number;
  maxMemoryUsage: number;
  maxSyncLatency: number;
  minStateConsistency: number;
  minFusionSyncQuality: number;
  maxExternalAPILatency: number;
}

export interface PerformanceAlert {
  id: string;
  metric: string;
  value: number;
  threshold: number;
  timestamp: number;
  severity: 'warning' | 'critical';
  acknowledged: boolean;
}

export interface UnifiedErrorHandler {
  errors: ErrorLog[];
  maxErrors: number;
  autoRecover: boolean;
  recoveryStrategies: Map<string, RecoveryStrategy>;
}

export interface RecoveryStrategy {
  name: string;
  execute: (error: Error) => Promise<boolean>;
  priority: number;
}

export interface UnifiedSystemState {
  timestamp: number;
  modules: Map<string, ModuleState>;
  performance: PerformanceMetrics;
  syncStatus: SyncStatus;
  apiStatus: APIStatus;
  visualStatus: VisualStatus;
  errorStatus: ErrorStatus;
  systemHealth: number;
  naturalAutoBalanceStatus: NaturalAutoBalanceStatus;
  externalAPIStatus: ExternalAPIStatus;
}

export interface ExternalAPIStatus {
  averageLatency: number;
  successRate: number;
  activeConnections: number;
  cacheHitRate: number;
  lastUpdate: number;
}

export interface NaturalAutoBalanceStatus {
  enabled: boolean;
  mode: 'natural' | 'manual';
  dataFlowBalance: number;
  energyFlowBalance: number;
  renderingBalance: number;
  overallBalance: number;
  optimizationLevel: number;
  activeHealingProcesses: number;
  lastOptimization: number;
  learningEnabled: boolean;
}

export interface SyncStatus {
  enabled: boolean;
  lastSync: number;
  nextSync: number;
  activeModules: number;
  syncQuality: number;
  conflictsDetected: number;
  conflictsResolved: number;
  autoRetry: boolean;
}

export interface APIStatus {
  activeRequests: number;
  queuedRequests: number;
  cacheHitRate: number;
  averageResponseTime: number;
  errorRate: number;
  rateLimitStatus: number;
}

export interface VisualStatus {
  enabled: boolean;
  fps: number;
  particleCount: number;
  animationCount: number;
  gpuUtilization: number;
  qualityMode: string;
  renderRecoveryActive: boolean;
  deviceOptimized: boolean;
}

export interface ErrorStatus {
  totalErrors: number;
  criticalErrors: number;
  unresolvedErrors: number;
  lastError: ErrorLog | null;
  autoRecoveryEnabled: boolean;
}

export class UnifiedArchitectureController {
  private coreController: UnifiedCoreDataController;
  private eventBus: Map<string, Array<(data: any) => void>>;
  private stateHistory: UnifiedSystemState[];
  private config: UnifiedConfig;
  private syncInterval: NodeJS.Timeout | null = null;
  private performanceInterval: NodeJS.Timeout | null = null;
  private renderLoopId: number | null = null;
  private naturalBalanceInterval: NodeJS.Timeout | null = null;
  private lastFrameTime: number = 0;
  private frameTimeBuffer: number[] = [];

  constructor(config?: Partial<UnifiedConfig>) {
    this.config = {
      syncInterval: config?.syncInterval || 15000,
      autoSync: config?.autoSync ?? true,
      gpuAcceleration: config?.gpuAcceleration ?? true,
      qualityMode: config?.qualityMode || 'balanced',
      maxRetries: config?.maxRetries || 3,
      cacheTimeout: config?.cacheTimeout || 60000,
      performanceMonitoring: config?.performanceMonitoring ?? true,
      autoOptimize: config?.autoOptimize ?? true,
      autoRecover: config?.autoRecover ?? true,
      adaptiveQuality: config?.adaptiveQuality ?? true,
      naturalAutoBalance: config?.naturalAutoBalance ?? false,
      externalAPIOptimization: config?.externalAPIOptimization ?? true,
    };

    this.eventBus = new Map();
    this.stateHistory = [];

    this.coreController = {
      moduleStates: new Map(),
      syncScheduler: {
        enabled: this.config.autoSync,
        interval: this.config.syncInterval,
        lastSync: 0,
        nextSync: Date.now() + this.config.syncInterval,
        syncQueue: [],
        conflictResolver: {
          detectConflicts: () => this.detectConflicts(),
          resolveConflict: (conflict) => this.resolveConflict(conflict),
          conflictHistory: [],
          autoResolve: true,
        },
        autoRetry: true,
        maxRetries: this.config.maxRetries,
      },
      apiFlow: {
        protocol: 'unified-rest',
        endpoints: new Map(),
        requestQueue: [],
        responseCache: new Map(),
        errorHandler: {
          handleError: (error, context) => this.handleError(error, context),
          retryStrategy: {
            maxRetries: this.config.maxRetries,
            backoffMultiplier: 2,
            initialDelay: 300,
            maxDelay: 10000,
          },
          errorLog: [],
        },
        rateLimiter: {
          maxRequestsPerSecond: 200,
          currentRequests: 0,
          resetTime: Date.now() + 1000,
        },
      },
      visualRenderer: {
        enabled: this.config.gpuAcceleration,
        qualityMode: this.config.qualityMode,
        particleSystem: {
          particles: [],
          maxParticles: this.getMaxParticles(this.config.qualityMode),
          emissionRate: 12,
          pooling: true,
          activeParticles: 0,
        },
        animationEngine: {
          animations: new Map(),
          fps: 60,
          deltaTime: 0,
          running: false,
          frameCount: 0,
        },
        renderPipeline: {
          stages: [],
          currentStage: 0,
          performance: {
            fps: 60,
            frameTime: 16.67,
            gpuUtilization: 0,
            drawCalls: 0,
          },
          optimizations: [
            { name: 'particle-pooling', enabled: true, impact: 0.30 },
            { name: 'batch-rendering', enabled: true, impact: 0.25 },
            { name: 'culling', enabled: true, impact: 0.20 },
            { name: 'frame-skip', enabled: false, impact: 0.35 },
            { name: 'instancing', enabled: true, impact: 0.25 },
          ],
        },
        adaptiveQuality: this.config.adaptiveQuality,
        renderRecovery: {
          enabled: true,
          lastRecovery: 0,
          recoveryAttempts: 0,
          maxRecoveryAttempts: 5,
          recoveryHistory: [],
          autoRecover: true,
        },
        deviceOptimization: this.detectDeviceCapabilities(),
      },
      performanceMonitor: {
        metrics: {
          fps: 60,
          cpuLoad: 0,
          memoryUsage: 0,
          syncLatency: 0,
          apiResponseTime: 0,
          renderTime: 0,
          stateConsistency: 1.0,
          fusionSyncQuality: 1.0,
          energyFlowRate: 1.0,
          cultivationEfficiency: 1.0,
          externalAPILatency: 0,
        },
        history: [],
        thresholds: {
          minFps: 30,
          maxCpuLoad: 70,
          maxMemoryUsage: 80,
          maxSyncLatency: 600,
          minStateConsistency: 0.8,
          minFusionSyncQuality: 0.75,
          maxExternalAPILatency: 500,
        },
        alerts: [],
        autoOptimize: this.config.autoOptimize,
      },
      errorHandler: {
        errors: [],
        maxErrors: 100,
        autoRecover: this.config.autoRecover,
        recoveryStrategies: new Map(),
      },
      naturalAutoBalance: {
        enabled: this.config.naturalAutoBalance,
        mode: this.config.naturalAutoBalance ? 'natural' : 'manual',
        adaptiveOptimization: {
          enabled: true,
          optimizationLevel: 0.5,
          adaptiveThreshold: 0.7,
          optimizationHistory: [],
          autoAdjustInterval: 2500,
          lastOptimization: 0,
        },
        selfHealing: {
          enabled: true,
          healingStrategies: new Map(),
          activeHealing: [],
          healingHistory: [],
          autoDetect: true,
          autoRecover: true,
        },
        performanceEquilibrium: {
          enabled: true,
          dataFlowBalance: 1.0,
          energyFlowBalance: 1.0,
          renderingBalance: 1.0,
          overallBalance: 1.0,
          balanceTarget: 1.0,
          autoAdjust: true,
          adjustmentHistory: [],
        },
        learningEngine: {
          enabled: true,
          learningRate: 0.12,
          patterns: new Map(),
          predictions: new Map(),
          adaptiveRules: [],
        },
        balanceHistory: [],
      },
      externalAPIOptimizer: {
        enabled: this.config.externalAPIOptimization,
        cacheStrategy: 'balanced',
        retryPolicy: {
          maxRetries: 4,
          baseDelay: 200,
          maxDelay: 5000,
          exponentialBackoff: true,
          jitterEnabled: true,
        },
        connectionPool: {
          maxConnections: 10,
          activeConnections: 0,
          idleTimeout: 30000,
          keepAlive: true,
        },
        latencyMonitor: {
          averageLatency: 0,
          peakLatency: 0,
          latencyHistory: [],
          targetLatency: 300,
        },
        prefetchEnabled: true,
      },
    };

    this.initializeSevenModules();
    this.initializeRecoveryStrategies();
    this.initializeHealingStrategies();
    this.initializeAdaptiveRules();
    this.optimizeForDevice();
    this.startAutoSync();
    this.startPerformanceMonitoring();
    
    if (this.config.naturalAutoBalance) {
      this.startNaturalAutoBalance();
    }
  }

  private detectDeviceCapabilities(): DeviceOptimization {
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    const isTablet = /iPad|Android/i.test(navigator.userAgent) && window.innerWidth >= 768;
    const screenDensity = window.devicePixelRatio || 1;
    const cores = navigator.hardwareConcurrency || 4;

    let deviceType: 'desktop' | 'tablet' | 'mobile' = 'desktop';
    let gpuTier: 'high' | 'medium' | 'low' = 'high';
    let maxParticles = 1500;
    let targetFPS = 60;

    if (isMobile && !isTablet) {
      deviceType = 'mobile';
      gpuTier = cores < 4 ? 'low' : 'medium';
      maxParticles = 400;
      targetFPS = 30;
    } else if (isTablet) {
      deviceType = 'tablet';
      gpuTier = 'medium';
      maxParticles = 800;
      targetFPS = 45;
    } else {
      deviceType = 'desktop';
      gpuTier = cores >= 8 ? 'high' : cores >= 4 ? 'medium' : 'low';
      maxParticles = gpuTier === 'high' ? 2000 : gpuTier === 'medium' ? 1200 : 600;
      targetFPS = 60;
    }

    return {
      deviceType,
      gpuTier,
      screenDensity,
      maxParticles,
      targetFPS,
      enabledOptimizations: [
        'particle-pooling',
        'batch-rendering',
        'culling',
        gpuTier === 'low' ? 'frame-skip' : '',
        'instancing',
      ].filter(Boolean),
    };
  }

  private optimizeForDevice() {
    const deviceOpt = this.coreController.visualRenderer.deviceOptimization;
    
    this.coreController.visualRenderer.particleSystem.maxParticles = deviceOpt.maxParticles;
    this.coreController.performanceMonitor.thresholds.minFps = deviceOpt.targetFPS * 0.8;
    
    if (deviceOpt.gpuTier === 'low') {
      this.coreController.visualRenderer.qualityMode = 'low';
      this.coreController.syncScheduler.interval = 20000;
      this.coreController.visualRenderer.renderPipeline.optimizations.find(
        o => o.name === 'frame-skip'
      )!.enabled = true;
    }

    this.emit('device:optimized', { deviceType: deviceOpt.deviceType, gpuTier: deviceOpt.gpuTier });
  }

  private getMaxParticles(quality: 'high' | 'balanced' | 'low'): number {
    const deviceOpt = this.coreController.visualRenderer.deviceOptimization;
    const baseMax = deviceOpt?.maxParticles || 1000;
    
    switch (quality) {
      case 'high': return Math.min(baseMax * 1.5, 2500);
      case 'balanced': return baseMax;
      case 'low': return Math.max(baseMax * 0.5, 300);
    }
  }

  // =====  =====
  private initializeSevenModules() {
    const modules: Array<{ id: string; name: string; type: ModuleState['moduleType'] }> = [
      { id: 'wu-dao', name: '', type: 'wu-dao' },
      { id: 'dao-fa', name: '', type: 'dao-fa' },
      { id: 'artifact-cultivation', name: '', type: 'artifact-cultivation' },
      { id: 'awakening', name: '', type: 'awakening' },
      { id: 'invocation', name: '', type: 'invocation' },
      { id: 'energy-coin', name: 'ICP ', type: 'energy-coin' },
      { id: 'subscription', name: '', type: 'subscription' },
    ];

    modules.forEach(({ id, name, type }) => {
      this.registerModule(id, name, type);
    });

    this.emit('modules:initialized', { count: modules.length, timestamp: Date.now() });
  }

  // =====  API  =====
  
  optimizeExternalAPICall<T>(
    apiCall: () => Promise<T>,
    options?: { priority?: number; cacheable?: boolean }
  ): Promise<T> {
    const optimizer = this.coreController.externalAPIOptimizer;
    if (!optimizer.enabled) {
      return apiCall();
    }

    const startTime = Date.now();
    const retryPolicy = optimizer.retryPolicy;

    const executeWithRetry = async (attempt: number = 0): Promise<T> => {
      try {
        const result = await apiCall();
        const latency = Date.now() - startTime;
        
        optimizer.latencyMonitor.latencyHistory.push(latency);
        if (optimizer.latencyMonitor.latencyHistory.length > 50) {
          optimizer.latencyMonitor.latencyHistory.shift();
        }
        
        optimizer.latencyMonitor.averageLatency = 
          optimizer.latencyMonitor.latencyHistory.reduce((a, b) => a + b, 0) / 
          optimizer.latencyMonitor.latencyHistory.length;
        
        optimizer.latencyMonitor.peakLatency = Math.max(
          optimizer.latencyMonitor.peakLatency,
          latency
        );

        this.coreController.performanceMonitor.metrics.externalAPILatency = 
          optimizer.latencyMonitor.averageLatency;

        return result;
      } catch (error) {
        if (attempt < retryPolicy.maxRetries) {
          const delay = this.calculateRetryDelay(attempt, retryPolicy);
          await new Promise(resolve => setTimeout(resolve, delay));
          return executeWithRetry(attempt + 1);
        }
        throw error;
      }
    };

    return executeWithRetry();
  }

  private calculateRetryDelay(attempt: number, policy: RetryPolicy): number {
    let delay = policy.baseDelay;
    
    if (policy.exponentialBackoff) {
      delay = policy.baseDelay * Math.pow(2, attempt);
    }
    
    delay = Math.min(delay, policy.maxDelay);
    
    if (policy.jitterEnabled) {
      delay = delay * (0.5 + Math.random() * 0.5);
    }
    
    return delay;
  }

  getExternalAPIStatus(): ExternalAPIStatus {
    const optimizer = this.coreController.externalAPIOptimizer;
    return {
      averageLatency: optimizer.latencyMonitor.averageLatency,
      successRate: 0.95,
      activeConnections: optimizer.connectionPool.activeConnections,
      cacheHitRate: 0.85,
      lastUpdate: Date.now(),
    };
  }

  // =====  =====
  
  enableNaturalAutoBalance() {
    this.coreController.naturalAutoBalance.enabled = true;
    this.coreController.naturalAutoBalance.mode = 'natural';
    this.startNaturalAutoBalance();
    this.emit('natural-balance:enabled', { timestamp: Date.now() });
  }

  disableNaturalAutoBalance() {
    this.coreController.naturalAutoBalance.enabled = false;
    this.coreController.naturalAutoBalance.mode = 'manual';
    this.stopNaturalAutoBalance();
    this.emit('natural-balance:disabled', { timestamp: Date.now() });
  }

  private startNaturalAutoBalance() {
    if (this.naturalBalanceInterval) return;

    this.naturalBalanceInterval = setInterval(() => {
      this.performNaturalBalancing();
    }, 1800);

    this.emit('natural-balance:started', { timestamp: Date.now() });
  }

  private stopNaturalAutoBalance() {
    if (this.naturalBalanceInterval) {
      clearInterval(this.naturalBalanceInterval);
      this.naturalBalanceInterval = null;
    }
    this.emit('natural-balance:stopped', { timestamp: Date.now() });
  }

  private async performNaturalBalancing() {
    if (!this.coreController.naturalAutoBalance.enabled) return;

    const startTime = Date.now();

    await this.performAdaptiveOptimization();
    await this.performSelfHealing();
    await this.performPerformanceEquilibrium();
    this.updateLearningEngine();
    this.recordBalanceState();

    const duration = Date.now() - startTime;
    this.emit('natural-balance:cycle-completed', { duration, timestamp: Date.now() });
  }

  private async performAdaptiveOptimization() {
    const optimization = this.coreController.naturalAutoBalance.adaptiveOptimization;
    if (!optimization.enabled) return;

    const now = Date.now();
    if (now - optimization.lastOptimization < optimization.autoAdjustInterval) return;

    const metrics = this.coreController.performanceMonitor.metrics;

    if (metrics.fps < 32) {
      if (this.coreController.visualRenderer.qualityMode !== 'low') {
        this.setQualityMode('low');
        optimization.optimizationHistory.push({
          timestamp: now,
          metric: 'fps',
          beforeValue: metrics.fps,
          afterValue: metrics.fps,
          improvement: 0,
          action: 'reduce-quality-to-low',
        });
      }
    } else if (metrics.fps > 55 && this.coreController.visualRenderer.qualityMode === 'low') {
      this.setQualityMode('balanced');
      optimization.optimizationHistory.push({
        timestamp: now,
        metric: 'fps',
        beforeValue: metrics.fps,
        afterValue: metrics.fps,
        improvement: 0,
        action: 'increase-quality-to-balanced',
      });
    }

    if (metrics.syncLatency > 500) {
      const before = this.coreController.syncScheduler.interval;
      this.coreController.syncScheduler.interval = Math.min(before * 1.25, 50000);
      optimization.optimizationHistory.push({
        timestamp: now,
        metric: 'syncLatency',
        beforeValue: before,
        afterValue: this.coreController.syncScheduler.interval,
        improvement: (this.coreController.syncScheduler.interval - before) / before,
        action: 'increase-sync-interval',
      });
    } else if (metrics.syncLatency < 80 && this.coreController.syncScheduler.interval > 8000) {
      const before = this.coreController.syncScheduler.interval;
      this.coreController.syncScheduler.interval = Math.max(before * 0.85, 8000);
      optimization.optimizationHistory.push({
        timestamp: now,
        metric: 'syncLatency',
        beforeValue: before,
        afterValue: this.coreController.syncScheduler.interval,
        improvement: (before - this.coreController.syncScheduler.interval) / before,
        action: 'decrease-sync-interval',
      });
    }

    if (metrics.externalAPILatency > 400) {
      this.coreController.externalAPIOptimizer.cacheStrategy = 'aggressive';
      optimization.optimizationHistory.push({
        timestamp: now,
        metric: 'externalAPILatency',
        beforeValue: metrics.externalAPILatency,
        afterValue: metrics.externalAPILatency,
        improvement: 0,
        action: 'enable-aggressive-caching',
      });
    }

    optimization.optimizationLevel = this.calculateOptimizationLevel();
    optimization.lastOptimization = now;

    if (optimization.optimizationHistory.length > 50) {
      optimization.optimizationHistory = optimization.optimizationHistory.slice(-50);
    }

    this.emit('adaptive-optimization:completed', { level: optimization.optimizationLevel });
  }

  private calculateOptimizationLevel(): number {
    const metrics = this.coreController.performanceMonitor.metrics;
    const fpsScore = Math.min(metrics.fps / 60, 1);
    const syncScore = Math.max(0, 1 - metrics.syncLatency / 1000);
    const consistencyScore = metrics.stateConsistency;
    const apiScore = Math.max(0, 1 - metrics.externalAPILatency / 1000);
    
    return (fpsScore * 0.35 + syncScore * 0.25 + consistencyScore * 0.25 + apiScore * 0.15);
  }

  private async performSelfHealing() {
    const selfHealing = this.coreController.naturalAutoBalance.selfHealing;
    if (!selfHealing.enabled || !selfHealing.autoDetect) return;

    const now = Date.now();
    const modules = Array.from(this.coreController.moduleStates.values());

    for (const module of modules) {
      if (module.healthScore < 0.5 || module.realTimeState === 'error') {
        const existingProcess = selfHealing.activeHealing.find(p => p.target === module.moduleId);
        if (existingProcess) continue;

        const healingProcess: HealingProcess = {
          id: `healing-${now}-${module.moduleId}`,
          strategy: 'module-recovery',
          startTime: now,
          status: 'detecting',
          progress: 0,
          target: module.moduleId,
        };

        selfHealing.activeHealing.push(healingProcess);
        await this.executeHealing(healingProcess, module);
      }
    }

    selfHealing.activeHealing = selfHealing.activeHealing.filter(p => p.status !== 'completed' && p.status !== 'failed');
  }

  private async executeHealing(process: HealingProcess, module: ModuleState) {
    const selfHealing = this.coreController.naturalAutoBalance.selfHealing;
    
    process.status = 'healing';
    process.progress = 0.3;

    try {
      module.healthScore = Math.min(module.healthScore + 0.35, 1.0);
      module.syncQuality = Math.min(module.syncQuality + 0.25, 1.0);
      module.energyLevel = Math.min(module.energyLevel + 25, 100);
      
      if (module.realTimeState === 'error') {
        module.realTimeState = 'active';
      }

      this.coreController.moduleStates.set(module.moduleId, module);

      process.progress = 1.0;
      process.status = 'completed';

      selfHealing.healingHistory.push({
        id: process.id,
        timestamp: Date.now(),
        issue: `module-${module.moduleId}-degraded`,
        strategy: process.strategy,
        success: true,
        duration: Date.now() - process.startTime,
        impact: 0.35,
      });

      this.emit('self-healing:completed', { processId: process.id, moduleId: module.moduleId });

    } catch (error) {
      process.status = 'failed';
      selfHealing.healingHistory.push({
        id: process.id,
        timestamp: Date.now(),
        issue: `module-${module.moduleId}-degraded`,
        strategy: process.strategy,
        success: false,
        duration: Date.now() - process.startTime,
        impact: 0,
      });

      this.emit('self-healing:failed', { processId: process.id, error });
    }

    if (selfHealing.healingHistory.length > 100) {
      selfHealing.healingHistory = selfHealing.healingHistory.slice(-100);
    }
  }

  private async performPerformanceEquilibrium() {
    const equilibrium = this.coreController.naturalAutoBalance.performanceEquilibrium;
    if (!equilibrium.enabled || !equilibrium.autoAdjust) return;

    const metrics = this.coreController.performanceMonitor.metrics;
    const modules = Array.from(this.coreController.moduleStates.values());

    const avgSyncQuality = modules.reduce((sum, m) => sum + m.syncQuality, 0) / modules.length;
    equilibrium.dataFlowBalance = avgSyncQuality;

    const avgEnergyLevel = modules.reduce((sum, m) => sum + m.energyLevel, 0) / modules.length / 100;
    equilibrium.energyFlowBalance = avgEnergyLevel;

    const renderingScore = Math.min(metrics.fps / 60, 1);
    equilibrium.renderingBalance = renderingScore;

    equilibrium.overallBalance = (
      equilibrium.dataFlowBalance * 0.35 +
      equilibrium.energyFlowBalance * 0.35 +
      equilibrium.renderingBalance * 0.30
    );

    if (Math.abs(equilibrium.overallBalance - equilibrium.balanceTarget) > 0.1) {
      const now = Date.now();

      if (equilibrium.dataFlowBalance < equilibrium.balanceTarget - 0.1) {
        modules.forEach(module => {
          module.syncQuality = Math.min(module.syncQuality + 0.06, 1.0);
          this.coreController.moduleStates.set(module.moduleId, module);
        });

        equilibrium.adjustmentHistory.push({
          timestamp: now,
          component: 'data',
          beforeBalance: equilibrium.dataFlowBalance,
          afterBalance: equilibrium.dataFlowBalance + 0.06,
          action: 'increase-sync-quality',
        });
      }

      if (equilibrium.energyFlowBalance < equilibrium.balanceTarget - 0.1) {
        modules.forEach(module => {
          module.energyLevel = Math.min(module.energyLevel + 6, 100);
          this.coreController.moduleStates.set(module.moduleId, module);
        });

        equilibrium.adjustmentHistory.push({
          timestamp: now,
          component: 'energy',
          beforeBalance: equilibrium.energyFlowBalance,
          afterBalance: equilibrium.energyFlowBalance + 0.06,
          action: 'increase-energy-level',
        });
      }

      if (equilibrium.renderingBalance < equilibrium.balanceTarget - 0.1) {
        if (this.coreController.visualRenderer.particleSystem.maxParticles > 400) {
          const before = this.coreController.visualRenderer.particleSystem.maxParticles;
          this.coreController.visualRenderer.particleSystem.maxParticles = Math.max(before * 0.88, 400);

          equilibrium.adjustmentHistory.push({
            timestamp: now,
            component: 'rendering',
            beforeBalance: equilibrium.renderingBalance,
            afterBalance: equilibrium.renderingBalance,
            action: 'reduce-particle-count',
          });
        }
      }

      if (equilibrium.adjustmentHistory.length > 100) {
        equilibrium.adjustmentHistory = equilibrium.adjustmentHistory.slice(-100);
      }
    }

    this.emit('performance-equilibrium:updated', { 
      overallBalance: equilibrium.overallBalance,
      dataFlow: equilibrium.dataFlowBalance,
      energyFlow: equilibrium.energyFlowBalance,
      rendering: equilibrium.renderingBalance,
    });
  }

  private updateLearningEngine() {
    const learning = this.coreController.naturalAutoBalance.learningEngine;
    if (!learning.enabled) return;

    const metrics = this.coreController.performanceMonitor.metrics;
    const now = Date.now();

    const currentPattern = this.identifyCurrentPattern();
    if (currentPattern) {
      const existing = learning.patterns.get(currentPattern);
      if (existing) {
        existing.frequency++;
        existing.lastOccurrence = now;
        existing.confidence = Math.min(existing.confidence + learning.learningRate, 1.0);
      } else {
        learning.patterns.set(currentPattern, {
          pattern: currentPattern,
          frequency: 1,
          lastOccurrence: now,
          confidence: 0.5,
          associatedActions: [],
        });
      }
    }

    learning.predictions.set('fps', {
      metric: 'fps',
      predictedValue: metrics.fps * (1 + (Math.random() - 0.5) * 0.08),
      confidence: 0.75,
      timestamp: now,
    });

    learning.predictions.set('syncLatency', {
      metric: 'syncLatency',
      predictedValue: metrics.syncLatency * (1 + (Math.random() - 0.5) * 0.15),
      confidence: 0.68,
      timestamp: now,
    });

    learning.adaptiveRules.forEach(rule => {
      if (rule.enabled && this.evaluateRuleCondition(rule.condition)) {
        rule.executionCount++;
        rule.successRate = Math.min(rule.successRate + 0.012, 1.0);
      }
    });
  }

  private identifyCurrentPattern(): string | null {
    const metrics = this.coreController.performanceMonitor.metrics;
    
    if (metrics.fps < 30) return 'low-fps-pattern';
    if (metrics.syncLatency > 500) return 'high-latency-pattern';
    if (metrics.stateConsistency < 0.7) return 'low-consistency-pattern';
    if (metrics.memoryUsage > 80) return 'high-memory-pattern';
    if (metrics.externalAPILatency > 400) return 'high-external-api-latency-pattern';
    
    return null;
  }

  private evaluateRuleCondition(condition: string): boolean {
    const metrics = this.coreController.performanceMonitor.metrics;
    
    if (condition.includes('fps < 40')) return metrics.fps < 40;
    if (condition.includes('syncLatency > 500')) return metrics.syncLatency > 500;
    if (condition.includes('memoryUsage > 70')) return metrics.memoryUsage > 70;
    if (condition.includes('externalAPILatency > 400')) return metrics.externalAPILatency > 400;
    
    return false;
  }

  private recordBalanceState() {
    const equilibrium = this.coreController.naturalAutoBalance.performanceEquilibrium;
    const optimization = this.coreController.naturalAutoBalance.adaptiveOptimization;

    const record: BalanceRecord = {
      timestamp: Date.now(),
      dataFlowBalance: equilibrium.dataFlowBalance,
      energyFlowBalance: equilibrium.energyFlowBalance,
      renderingBalance: equilibrium.renderingBalance,
      overallBalance: equilibrium.overallBalance,
      systemHealth: this.getSystemHealthScore(),
      optimizationLevel: optimization.optimizationLevel,
    };

    this.coreController.naturalAutoBalance.balanceHistory.push(record);

    if (this.coreController.naturalAutoBalance.balanceHistory.length > 100) {
      this.coreController.naturalAutoBalance.balanceHistory = 
        this.coreController.naturalAutoBalance.balanceHistory.slice(-100);
    }
  }

  private initializeHealingStrategies() {
    const selfHealing = this.coreController.naturalAutoBalance.selfHealing;

    selfHealing.healingStrategies.set('module-recovery', {
      name: 'Module Recovery',
      condition: (state: any) => state.healthScore < 0.5,
      action: async (state: any) => {
        state.healthScore = Math.min(state.healthScore + 0.35, 1.0);
        return true;
      },
      priority: 1,
      cooldown: 4000,
      lastExecuted: 0,
    });

    selfHealing.healingStrategies.set('sync-recovery', {
      name: 'Sync Recovery',
      condition: (state: any) => state.syncQuality < 0.5,
      action: async (state: any) => {
        state.syncQuality = Math.min(state.syncQuality + 0.35, 1.0);
        return true;
      },
      priority: 2,
      cooldown: 2500,
      lastExecuted: 0,
    });

    selfHealing.healingStrategies.set('energy-recovery', {
      name: 'Energy Recovery',
      condition: (state: any) => state.energyLevel < 30,
      action: async (state: any) => {
        state.energyLevel = Math.min(state.energyLevel + 25, 100);
        return true;
      },
      priority: 3,
      cooldown: 1800,
      lastExecuted: 0,
    });
  }

  private initializeAdaptiveRules() {
    const learning = this.coreController.naturalAutoBalance.learningEngine;

    learning.adaptiveRules.push({
      id: 'rule-low-fps',
      condition: 'fps < 40',
      action: 'reduce-quality',
      priority: 1,
      enabled: true,
      successRate: 0.82,
      executionCount: 0,
    });

    learning.adaptiveRules.push({
      id: 'rule-high-latency',
      condition: 'syncLatency > 500',
      action: 'increase-sync-interval',
      priority: 2,
      enabled: true,
      successRate: 0.78,
      executionCount: 0,
    });

    learning.adaptiveRules.push({
      id: 'rule-high-memory',
      condition: 'memoryUsage > 70',
      action: 'clear-cache',
      priority: 3,
      enabled: true,
      successRate: 0.92,
      executionCount: 0,
    });

    learning.adaptiveRules.push({
      id: 'rule-high-external-api-latency',
      condition: 'externalAPILatency > 400',
      action: 'enable-aggressive-caching',
      priority: 4,
      enabled: true,
      successRate: 0.85,
      executionCount: 0,
    });
  }

  getNaturalAutoBalanceStatus(): NaturalAutoBalanceStatus {
    const nab = this.coreController.naturalAutoBalance;
    return {
      enabled: nab.enabled,
      mode: nab.mode,
      dataFlowBalance: nab.performanceEquilibrium.dataFlowBalance,
      energyFlowBalance: nab.performanceEquilibrium.energyFlowBalance,
      renderingBalance: nab.performanceEquilibrium.renderingBalance,
      overallBalance: nab.performanceEquilibrium.overallBalance,
      optimizationLevel: nab.adaptiveOptimization.optimizationLevel,
      activeHealingProcesses: nab.selfHealing.activeHealing.length,
      lastOptimization: nab.adaptiveOptimization.lastOptimization,
      learningEnabled: nab.learningEngine.enabled,
    };
  }

  // =====  =====
  registerModule(moduleId: string, moduleName: string, moduleType: ModuleState['moduleType']) {
    const moduleState: ModuleState = {
      moduleId,
      moduleName,
      moduleType,
      isActive: true,
      lastSync: Date.now(),
      dataVolume: 0,
      healthScore: 1.0,
      syncQuality: 1.0,
      dependencies: this.calculateDependencies(moduleType),
      realTimeState: 'active',
      energyLevel: 100,
      cultivationProgress: 0,
    };

    this.coreController.moduleStates.set(moduleId, moduleState);
    this.emit('module:registered', { moduleId, moduleName, moduleType });
  }

  private calculateDependencies(moduleType: ModuleState['moduleType']): string[] {
    const dependencyMap: Record<ModuleState['moduleType'], string[]> = {
      'wu-dao': [],
      'dao-fa': ['wu-dao'],
      'artifact-cultivation': ['wu-dao'],
      'awakening': ['wu-dao'],
      'invocation': ['wu-dao', 'awakening'],
      'energy-coin': ['wu-dao'],
      'subscription': [],
    };

    return dependencyMap[moduleType] || [];
  }

  // =====  =====
  private startAutoSync() {
    if (!this.coreController.syncScheduler.enabled) return;

    this.syncInterval = setInterval(() => {
      this.performUnifiedSync();
    }, this.coreController.syncScheduler.interval);
  }

  private async performUnifiedSync() {
    const startTime = Date.now();
    const activeModules = Array.from(this.coreController.moduleStates.values()).filter(m => m.isActive);

    try {
      this.emit('sync:started', { timestamp: startTime, moduleCount: activeModules.length });

      activeModules.forEach(module => {
        module.realTimeState = 'syncing';
        this.coreController.moduleStates.set(module.moduleId, module);
      });

      const conflicts = this.coreController.syncScheduler.conflictResolver.detectConflicts();
      if (this.coreController.syncScheduler.conflictResolver.autoResolve) {
        conflicts.forEach(conflict => {
          this.coreController.syncScheduler.conflictResolver.resolveConflict(conflict);
        });
      }

      await this.processSyncQueue();

      const duration = Date.now() - startTime;
      this.coreController.syncScheduler.lastSync = Date.now();
      this.coreController.syncScheduler.nextSync = Date.now() + this.coreController.syncScheduler.interval;
      this.coreController.performanceMonitor.metrics.syncLatency = duration;

      activeModules.forEach(module => {
        module.realTimeState = 'active';
        module.lastSync = Date.now();
        module.syncQuality = this.calculateSyncQuality(module);
        module.healthScore = Math.min(module.healthScore + 0.012, 1.0);
        this.coreController.moduleStates.set(module.moduleId, module);
      });

      this.emit('sync:completed', { duration, moduleCount: activeModules.length, conflicts: conflicts.length });

    } catch (error) {
      this.handleError(error as Error, 'unified-sync');
      activeModules.forEach(module => {
        module.realTimeState = 'error';
        this.coreController.moduleStates.set(module.moduleId, module);
      });
      this.emit('sync:failed', { error, timestamp: Date.now() });
    }
  }

  private async processSyncQueue() {
    const queue = this.coreController.syncScheduler.syncQueue
      .filter(t => t.status === 'pending')
      .sort((a, b) => b.priority - a.priority);
    
    for (const task of queue) {
      task.status = 'processing';
      try {
        await this.executeSyncTask(task);
        task.status = 'completed';
      } catch (error) {
        task.retryCount++;
        if (this.coreController.syncScheduler.autoRetry && task.retryCount < this.coreController.syncScheduler.maxRetries) {
          task.status = 'pending';
          await new Promise(resolve => setTimeout(resolve, 400 * task.retryCount));
        } else {
          task.status = 'failed';
          this.handleError(error as Error, `sync-task-${task.moduleId}`);
        }
      }
    }

    this.coreController.syncScheduler.syncQueue = this.coreController.syncScheduler.syncQueue.filter(
      t => t.status === 'pending' || t.status === 'processing'
    );
  }

  private async executeSyncTask(task: SyncTask): Promise<void> {
    const module = this.coreController.moduleStates.get(task.moduleId);
    if (!module) return;

    await new Promise(resolve => setTimeout(resolve, 25 + Math.random() * 60));
    
    module.dataVolume += Math.floor(Math.random() * 12);
    module.energyLevel = Math.min(module.energyLevel + Math.random() * 6, 100);
    module.cultivationProgress = Math.min(module.cultivationProgress + Math.random() * 2.5, 100);
    this.coreController.moduleStates.set(task.moduleId, module);
  }

  private calculateSyncQuality(module: ModuleState): number {
    const timeSinceLastSync = Date.now() - module.lastSync;
    const syncInterval = this.coreController.syncScheduler.interval;
    const timeliness = Math.max(0, 1 - (timeSinceLastSync / (syncInterval * 2)));
    
    return (module.healthScore * 0.4 + timeliness * 0.4 + (module.energyLevel / 100) * 0.2);
  }

  // =====  =====
  private detectConflicts(): Conflict[] {
    const conflicts: Conflict[] = [];
    const modules = Array.from(this.coreController.moduleStates.values());

    for (let i = 0; i < modules.length; i++) {
      for (let j = i + 1; j < modules.length; j++) {
        const module1 = modules[i];
        const module2 = modules[j];

        if (module1.dependencies.includes(module2.moduleId) || module2.dependencies.includes(module1.moduleId)) {
          const syncDiff = Math.abs(module1.syncQuality - module2.syncQuality);
          if (syncDiff > 0.3) {
            conflicts.push({
              id: `conflict-${Date.now()}-${i}-${j}`,
              moduleIds: [module1.moduleId, module2.moduleId],
              type: 'sync',
              severity: syncDiff > 0.5 ? 'high' : 'medium',
              timestamp: Date.now(),
              resolved: false,
            });
          }
        }
      }
    }

    return conflicts;
  }

  private resolveConflict(conflict: Conflict) {
    conflict.moduleIds.forEach(moduleId => {
      const module = this.coreController.moduleStates.get(moduleId);
      if (module) {
        module.syncQuality = Math.min(module.syncQuality + 0.18, 1.0);
        module.healthScore = Math.min(module.healthScore + 0.12, 1.0);
        this.coreController.moduleStates.set(moduleId, module);
      }
    });

    conflict.resolved = true;
    conflict.resolution = 'auto-balanced';
    this.coreController.syncScheduler.conflictResolver.conflictHistory.push(conflict);
    this.emit('conflict:resolved', conflict);
  }

  // =====  API  =====
  registerAPIEndpoint(path: string, method: APIEndpoint['method'], moduleId: string) {
    const endpoint: APIEndpoint = {
      path,
      method,
      moduleId,
      rateLimit: 200,
      timeout: 2500,
      retryable: true,
    };

    this.coreController.apiFlow.endpoints.set(path, endpoint);
    this.emit('api:endpoint-registered', { path, method, moduleId });
  }

  async executeAPIRequest(endpoint: string, payload: any, priority: number = 1): Promise<APIResponse> {
    if (!this.checkRateLimit()) {
      throw new Error('Rate limit exceeded');
    }

    const request: APIRequest = {
      id: `req-${Date.now()}-${Math.random()}`,
      endpoint,
      payload,
      timestamp: Date.now(),
      priority,
      status: 'queued',
      retryCount: 0,
    };

    this.coreController.apiFlow.requestQueue.push(request);
    
    try {
      request.status = 'processing';
      const startTime = Date.now();
      
      await new Promise(resolve => setTimeout(resolve, 25 + Math.random() * 80));
      
      const duration = Date.now() - startTime;
      const response: APIResponse = {
        requestId: request.id,
        data: { success: true, payload },
        timestamp: Date.now(),
        cached: false,
        duration,
      };

      request.status = 'completed';
      this.coreController.apiFlow.responseCache.set(request.id, response);
      this.coreController.performanceMonitor.metrics.apiResponseTime = duration;
      
      return response;

    } catch (error) {
      request.status = 'failed';
      this.handleError(error as Error, `api-request-${endpoint}`);
      throw error;
    }
  }

  private checkRateLimit(): boolean {
    const now = Date.now();
    if (now >= this.coreController.apiFlow.rateLimiter.resetTime) {
      this.coreController.apiFlow.rateLimiter.currentRequests = 0;
      this.coreController.apiFlow.rateLimiter.resetTime = now + 1000;
    }

    if (this.coreController.apiFlow.rateLimiter.currentRequests >= this.coreController.apiFlow.rateLimiter.maxRequestsPerSecond) {
      return false;
    }

    this.coreController.apiFlow.rateLimiter.currentRequests++;
    return true;
  }

  // ===== GPU  =====
  startVisualRendering() {
    if (!this.coreController.visualRenderer.enabled) return;

    this.coreController.visualRenderer.animationEngine.running = true;
    this.lastFrameTime = performance.now();
    this.renderLoop();
  }

  private renderLoop = () => {
    if (!this.coreController.visualRenderer.animationEngine.running) return;

    const currentTime = performance.now();
    const deltaTime = currentTime - this.lastFrameTime;
    
    this.frameTimeBuffer.push(deltaTime);
    if (this.frameTimeBuffer.length > 12) {
      this.frameTimeBuffer.shift();
    }

    const avgDeltaTime = this.frameTimeBuffer.reduce((a, b) => a + b, 0) / this.frameTimeBuffer.length;
    const targetFrameTime = 1000 / this.coreController.visualRenderer.deviceOptimization.targetFPS;

    if (avgDeltaTime > targetFrameTime * 2.2) {
      this.attemptRenderRecovery();
    }

    if (avgDeltaTime > targetFrameTime * 1.4) {
      this.updateParticles();
      this.updateAnimations();
    } else {
      this.updateParticles();
      this.updateAnimations();
    }

    if (this.coreController.visualRenderer.adaptiveQuality) {
      this.adjustQualityBasedOnPerformance();
    }

    const frameTime = performance.now() - currentTime;
    this.coreController.visualRenderer.renderPipeline.performance.frameTime = frameTime;
    this.coreController.visualRenderer.renderPipeline.performance.fps = 1000 / Math.max(deltaTime, 1);
    this.coreController.visualRenderer.animationEngine.frameCount++;

    this.lastFrameTime = currentTime;
    this.renderLoopId = requestAnimationFrame(this.renderLoop);
  }

  private attemptRenderRecovery() {
    const recovery = this.coreController.visualRenderer.renderRecovery;
    if (!recovery.enabled || !recovery.autoRecover) return;

    const now = Date.now();
    if (now - recovery.lastRecovery < 4000) return;
    if (recovery.recoveryAttempts >= recovery.maxRecoveryAttempts) return;

    recovery.lastRecovery = now;
    recovery.recoveryAttempts++;

    const particles = this.coreController.visualRenderer.particleSystem;
    particles.maxParticles = Math.max(particles.maxParticles * 0.72, 250);
    particles.particles = particles.particles.slice(0, particles.maxParticles);

    if (this.coreController.visualRenderer.qualityMode !== 'low') {
      this.setQualityMode('low');
    }

    recovery.recoveryHistory.push({
      timestamp: now,
      issue: 'high-frame-time',
      action: 'reduce-particles-and-quality',
      success: true,
      duration: 0,
    });

    this.emit('render:recovery-attempted', { 
      attempt: recovery.recoveryAttempts,
      maxParticles: particles.maxParticles 
    });
  }

  private updateParticles() {
    const particles = this.coreController.visualRenderer.particleSystem.particles;
    
    for (let i = particles.length - 1; i >= 0; i--) {
      const particle = particles[i];
      particle.x += particle.vx;
      particle.y += particle.vy;
      particle.life -= 0.014;
      particle.opacity = particle.life / particle.maxLife;

      if (particle.life <= 0) {
        particles.splice(i, 1);
      }
    }

    this.coreController.visualRenderer.particleSystem.activeParticles = particles.length;
  }

  private updateAnimations() {
    this.coreController.visualRenderer.animationEngine.animations.forEach((animation, id) => {
      if (!animation.paused) {
        animation.progress += 0.014 / animation.duration;
        if (animation.progress >= 1) {
          if (animation.loop) {
            animation.progress = 0;
          } else {
            this.coreController.visualRenderer.animationEngine.animations.delete(id);
          }
        }
      }
    });
  }

  private adjustQualityBasedOnPerformance() {
    const fps = this.coreController.visualRenderer.renderPipeline.performance.fps;
    const currentQuality = this.coreController.visualRenderer.qualityMode;
    const targetFPS = this.coreController.visualRenderer.deviceOptimization.targetFPS;

    if (fps < targetFPS * 0.7 && currentQuality !== 'low') {
      this.setQualityMode('low');
    } else if (fps > targetFPS * 0.92 && fps < targetFPS * 0.98 && currentQuality === 'high') {
      this.setQualityMode('balanced');
    } else if (fps > targetFPS * 0.95 && currentQuality === 'low') {
      this.setQualityMode('balanced');
    }
  }

  // =====  =====
  private startPerformanceMonitoring() {
    if (!this.config.performanceMonitoring) return;

    this.performanceInterval = setInterval(() => {
      this.updatePerformanceMetrics();
      this.checkPerformanceThresholds();
      if (this.coreController.performanceMonitor.autoOptimize) {
        this.autoOptimizePerformance();
      }
    }, 900);
  }

  private updatePerformanceMetrics() {
    const metrics = this.coreController.performanceMonitor.metrics;
    
    metrics.fps = this.coreController.visualRenderer.renderPipeline.performance.fps;
    metrics.renderTime = this.coreController.visualRenderer.renderPipeline.performance.frameTime;
    metrics.stateConsistency = this.calculateStateConsistency();
    metrics.fusionSyncQuality = this.calculateFusionSyncQuality();
    metrics.energyFlowRate = this.calculateEnergyFlowRate();
    metrics.cultivationEfficiency = this.calculateCultivationEfficiency();

    if (typeof performance !== 'undefined' && (performance as any).memory) {
      const memory = (performance as any).memory;
      metrics.memoryUsage = (memory.usedJSHeapSize / memory.jsHeapSizeLimit) * 100;
    }

    this.coreController.performanceMonitor.history.push({ ...metrics });
    if (this.coreController.performanceMonitor.history.length > 60) {
      this.coreController.performanceMonitor.history.shift();
    }

    this.emit('performance:updated', metrics);
  }

  private calculateStateConsistency(): number {
    const modules = Array.from(this.coreController.moduleStates.values());
    if (modules.length === 0) return 1.0;

    const avgSyncQuality = modules.reduce((sum, m) => sum + m.syncQuality, 0) / modules.length;
    const avgHealthScore = modules.reduce((sum, m) => sum + m.healthScore, 0) / modules.length;
    const avgEnergyLevel = modules.reduce((sum, m) => sum + m.energyLevel, 0) / modules.length / 100;

    return (avgSyncQuality * 0.5 + avgHealthScore * 0.3 + avgEnergyLevel * 0.2);
  }

  private calculateFusionSyncQuality(): number {
    const modules = Array.from(this.coreController.moduleStates.values());
    if (modules.length === 0) return 1.0;

    const activeModules = modules.filter(m => m.isActive).length;
    const avgSyncQuality = modules.reduce((sum, m) => sum + m.syncQuality, 0) / modules.length;
    const activationRate = activeModules / modules.length;
    const errorRate = modules.filter(m => m.realTimeState === 'error').length / modules.length;

    return (avgSyncQuality * 0.6 + activationRate * 0.3 - errorRate * 0.1);
  }

  private calculateEnergyFlowRate(): number {
    const modules = Array.from(this.coreController.moduleStates.values());
    if (modules.length === 0) return 1.0;

    const avgEnergyLevel = modules.reduce((sum, m) => sum + m.energyLevel, 0) / modules.length / 100;
    const syncingModules = modules.filter(m => m.realTimeState === 'syncing').length;
    const flowActivity = syncingModules / modules.length;

    return (avgEnergyLevel * 0.7 + flowActivity * 0.3);
  }

  private calculateCultivationEfficiency(): number {
    const modules = Array.from(this.coreController.moduleStates.values());
    if (modules.length === 0) return 1.0;

    const avgProgress = modules.reduce((sum, m) => sum + m.cultivationProgress, 0) / modules.length / 100;
    const avgHealth = modules.reduce((sum, m) => sum + m.healthScore, 0) / modules.length;

    return (avgProgress * 0.6 + avgHealth * 0.4);
  }

  getSystemHealthScore(): number {
    return this.calculateStateConsistency();
  }

  private checkPerformanceThresholds() {
    const metrics = this.coreController.performanceMonitor.metrics;
    const thresholds = this.coreController.performanceMonitor.thresholds;

    if (metrics.fps < thresholds.minFps) {
      this.createPerformanceAlert('fps', metrics.fps, thresholds.minFps, 'warning');
    }

    if (metrics.cpuLoad > thresholds.maxCpuLoad) {
      this.createPerformanceAlert('cpuLoad', metrics.cpuLoad, thresholds.maxCpuLoad, 'warning');
    }

    if (metrics.stateConsistency < thresholds.minStateConsistency) {
      this.createPerformanceAlert('stateConsistency', metrics.stateConsistency, thresholds.minStateConsistency, 'critical');
    }

    if (metrics.fusionSyncQuality < thresholds.minFusionSyncQuality) {
      this.createPerformanceAlert('fusionSyncQuality', metrics.fusionSyncQuality, thresholds.minFusionSyncQuality, 'warning');
    }

    if (metrics.externalAPILatency > thresholds.maxExternalAPILatency) {
      this.createPerformanceAlert('externalAPILatency', metrics.externalAPILatency, thresholds.maxExternalAPILatency, 'warning');
    }
  }

  private createPerformanceAlert(metric: string, value: number, threshold: number, severity: 'warning' | 'critical') {
    const existingAlert = this.coreController.performanceMonitor.alerts.find(
      a => a.metric === metric && !a.acknowledged
    );

    if (existingAlert) return;

    const alert: PerformanceAlert = {
      id: `alert-${Date.now()}`,
      metric,
      value,
      threshold,
      timestamp: Date.now(),
      severity,
      acknowledged: false,
    };

    this.coreController.performanceMonitor.alerts.push(alert);
    this.emit('performance:alert', alert);
  }

  private autoOptimizePerformance() {
    const metrics = this.coreController.performanceMonitor.metrics;

    if (metrics.fps < 32) {
      if (this.coreController.visualRenderer.qualityMode !== 'low') {
        this.setQualityMode('low');
      }
      
      if (this.coreController.visualRenderer.particleSystem.maxParticles > 400) {
        this.coreController.visualRenderer.particleSystem.maxParticles = 400;
      }
    }

    if (metrics.memoryUsage > 80) {
      this.clearOldCacheEntries();
      this.clearOldErrorLogs();
    }

    if (metrics.externalAPILatency > 400) {
      this.coreController.externalAPIOptimizer.cacheStrategy = 'aggressive';
    }
  }

  private clearOldCacheEntries() {
    const now = Date.now();
    const cacheTimeout = this.config.cacheTimeout;

    this.coreController.apiFlow.responseCache.forEach((response, key) => {
      if (now - response.timestamp > cacheTimeout) {
        this.coreController.apiFlow.responseCache.delete(key);
      }
    });
  }

  private clearOldErrorLogs() {
    const maxErrors = this.coreController.errorHandler.maxErrors;
    if (this.coreController.errorHandler.errors.length > maxErrors) {
      this.coreController.errorHandler.errors = this.coreController.errorHandler.errors.slice(-maxErrors);
    }
  }

  // =====  =====
  private initializeRecoveryStrategies() {
    this.coreController.errorHandler.recoveryStrategies.set('sync-failure', {
      name: 'Retry Sync',
      execute: async (error: Error) => {
        await this.performUnifiedSync();
        return true;
      },
      priority: 1,
    });

    this.coreController.errorHandler.recoveryStrategies.set('api-failure', {
      name: 'Clear API Queue',
      execute: async (error: Error) => {
        this.coreController.apiFlow.requestQueue = [];
        return true;
      },
      priority: 2,
    });

    this.coreController.errorHandler.recoveryStrategies.set('render-failure', {
      name: 'Restart Renderer',
      execute: async (error: Error) => {
        this.stopVisualRendering();
        await new Promise(resolve => setTimeout(resolve, 800));
        this.startVisualRendering();
        return true;
      },
      priority: 3,
    });

    this.coreController.errorHandler.recoveryStrategies.set('external-api-failure', {
      name: 'Reset External API Optimizer',
      execute: async (error: Error) => {
        this.coreController.externalAPIOptimizer.latencyMonitor.latencyHistory = [];
        this.coreController.externalAPIOptimizer.cacheStrategy = 'aggressive';
        return true;
      },
      priority: 4,
    });
  }

  private handleError(error: Error, context: string) {
    const errorLog: ErrorLog = {
      id: `error-${Date.now()}`,
      error,
      context,
      timestamp: Date.now(),
      severity: this.determineSeverity(context),
      resolved: false,
    };

    this.coreController.errorHandler.errors.push(errorLog);
    this.emit('error:logged', errorLog);

    if (this.coreController.errorHandler.autoRecover) {
      this.attemptRecovery(errorLog);
    }
  }

  private determineSeverity(context: string): 'low' | 'medium' | 'high' | 'critical' {
    if (context.includes('sync') || context.includes('api')) return 'high';
    if (context.includes('render')) return 'medium';
    if (context.includes('external-api')) return 'high';
    return 'low';
  }

  private async attemptRecovery(errorLog: ErrorLog) {
    const strategies = Array.from(this.coreController.errorHandler.recoveryStrategies.values())
      .sort((a, b) => a.priority - b.priority);

    for (const strategy of strategies) {
      try {
        const success = await strategy.execute(errorLog.error);
        if (success) {
          errorLog.resolved = true;
          this.emit('error:recovered', { errorLog, strategy: strategy.name });
          break;
        }
      } catch (recoveryError) {
        console.error(`Recovery strategy ${strategy.name} failed:`, recoveryError);
      }
    }
  }

  // =====  =====
  on(event: string, callback: (data: any) => void) {
    if (!this.eventBus.has(event)) {
      this.eventBus.set(event, []);
    }
    this.eventBus.get(event)!.push(callback);
  }

  off(event: string, callback: (data: any) => void) {
    const callbacks = this.eventBus.get(event);
    if (callbacks) {
      const index = callbacks.indexOf(callback);
      if (index > -1) {
        callbacks.splice(index, 1);
      }
    }
  }

  emit(event: string, data: any) {
    const callbacks = this.eventBus.get(event);
    if (callbacks) {
      callbacks.forEach(callback => {
        try {
          callback(data);
        } catch (error) {
          console.error(`Event callback error for ${event}:`, error);
        }
      });
    }
  }

  // =====  =====
  getSystemState(): UnifiedSystemState {
    return {
      timestamp: Date.now(),
      modules: new Map(this.coreController.moduleStates),
      performance: { ...this.coreController.performanceMonitor.metrics },
      syncStatus: {
        enabled: this.coreController.syncScheduler.enabled,
        lastSync: this.coreController.syncScheduler.lastSync,
        nextSync: this.coreController.syncScheduler.nextSync,
        activeModules: Array.from(this.coreController.moduleStates.values()).filter(m => m.isActive).length,
        syncQuality: this.calculateFusionSyncQuality(),
        conflictsDetected: this.coreController.syncScheduler.conflictResolver.conflictHistory.length,
        conflictsResolved: this.coreController.syncScheduler.conflictResolver.conflictHistory.filter(c => c.resolved).length,
        autoRetry: this.coreController.syncScheduler.autoRetry,
      },
      apiStatus: {
        activeRequests: this.coreController.apiFlow.requestQueue.filter(r => r.status === 'processing').length,
        queuedRequests: this.coreController.apiFlow.requestQueue.filter(r => r.status === 'queued').length,
        cacheHitRate: 0.87,
        averageResponseTime: this.coreController.performanceMonitor.metrics.apiResponseTime,
        errorRate: this.calculateErrorRate(),
        rateLimitStatus: this.coreController.apiFlow.rateLimiter.currentRequests / this.coreController.apiFlow.rateLimiter.maxRequestsPerSecond,
      },
      visualStatus: {
        enabled: this.coreController.visualRenderer.enabled,
        fps: this.coreController.visualRenderer.renderPipeline.performance.fps,
        particleCount: this.coreController.visualRenderer.particleSystem.activeParticles,
        animationCount: this.coreController.visualRenderer.animationEngine.animations.size,
        gpuUtilization: this.coreController.visualRenderer.renderPipeline.performance.gpuUtilization,
        qualityMode: this.coreController.visualRenderer.qualityMode,
        renderRecoveryActive: this.coreController.visualRenderer.renderRecovery.recoveryAttempts > 0,
        deviceOptimized: true,
      },
      errorStatus: {
        totalErrors: this.coreController.errorHandler.errors.length,
        criticalErrors: this.coreController.errorHandler.errors.filter(e => e.severity === 'critical').length,
        unresolvedErrors: this.coreController.errorHandler.errors.filter(e => !e.resolved).length,
        lastError: this.coreController.errorHandler.errors[this.coreController.errorHandler.errors.length - 1] || null,
        autoRecoveryEnabled: this.coreController.errorHandler.autoRecover,
      },
      systemHealth: this.getSystemHealthScore(),
      naturalAutoBalanceStatus: this.getNaturalAutoBalanceStatus(),
      externalAPIStatus: this.getExternalAPIStatus(),
    };
  }

  private calculateErrorRate(): number {
    const recentErrors = this.coreController.errorHandler.errors.filter(
      e => Date.now() - e.timestamp < 60000
    );
    return Math.min(recentErrors.length / 100, 1);
  }

  getModuleState(moduleId: string): ModuleState | undefined {
    return this.coreController.moduleStates.get(moduleId);
  }

  getAllModuleStates(): ModuleState[] {
    return Array.from(this.coreController.moduleStates.values());
  }

  getPerformanceMetrics(): PerformanceMetrics {
    return { ...this.coreController.performanceMonitor.metrics };
  }

  getSyncStatus(): SyncStatus {
    return this.getSystemState().syncStatus;
  }

  getErrorStatus(): ErrorStatus {
    return this.getSystemState().errorStatus;
  }

  // =====  =====
  enableAutoSync() {
    this.coreController.syncScheduler.enabled = true;
    if (!this.syncInterval) {
      this.startAutoSync();
    }
    this.emit('sync:enabled', { timestamp: Date.now() });
  }

  disableAutoSync() {
    this.coreController.syncScheduler.enabled = false;
    if (this.syncInterval) {
      clearInterval(this.syncInterval);
      this.syncInterval = null;
    }
    this.emit('sync:disabled', { timestamp: Date.now() });
  }

  enableGPUAcceleration() {
    this.coreController.visualRenderer.enabled = true;
    this.startVisualRendering();
    this.emit('gpu:enabled', { timestamp: Date.now() });
  }

  disableGPUAcceleration() {
    this.coreController.visualRenderer.enabled = false;
    this.stopVisualRendering();
    this.emit('gpu:disabled', { timestamp: Date.now() });
  }

  private stopVisualRendering() {
    this.coreController.visualRenderer.animationEngine.running = false;
    if (this.renderLoopId !== null) {
      cancelAnimationFrame(this.renderLoopId);
      this.renderLoopId = null;
    }
  }

  setQualityMode(mode: 'high' | 'balanced' | 'low') {
    this.coreController.visualRenderer.qualityMode = mode;
    this.coreController.visualRenderer.particleSystem.maxParticles = this.getMaxParticles(mode);
    this.emit('quality:changed', { mode, timestamp: Date.now() });
  }

  acknowledgeAlert(alertId: string) {
    const alert = this.coreController.performanceMonitor.alerts.find(a => a.id === alertId);
    if (alert) {
      alert.acknowledged = true;
      this.emit('alert:acknowledged', alert);
    }
  }

  clearAcknowledgedAlerts() {
    this.coreController.performanceMonitor.alerts = this.coreController.performanceMonitor.alerts.filter(
      a => !a.acknowledged
    );
  }

  // =====  =====
  destroy() {
    this.disableAutoSync();
    this.stopVisualRendering();
    this.stopNaturalAutoBalance();
    
    if (this.performanceInterval) {
      clearInterval(this.performanceInterval);
      this.performanceInterval = null;
    }

    this.eventBus.clear();
    this.coreController.moduleStates.clear();
    this.coreController.apiFlow.responseCache.clear();
    
    this.emit('system:destroyed', { timestamp: Date.now() });
  }
}

export interface UnifiedConfig {
  syncInterval: number;
  autoSync: boolean;
  gpuAcceleration: boolean;
  qualityMode: 'high' | 'balanced' | 'low';
  maxRetries: number;
  cacheTimeout: number;
  performanceMonitoring: boolean;
  autoOptimize: boolean;
  autoRecover: boolean;
  adaptiveQuality: boolean;
  naturalAutoBalance: boolean;
  externalAPIOptimization: boolean;
}

export const unifiedArchitecture = new UnifiedArchitectureController({
  syncInterval: 15000,
  autoSync: true,
  gpuAcceleration: true,
  qualityMode: 'balanced',
  maxRetries: 3,
  cacheTimeout: 60000,
  performanceMonitoring: true,
  autoOptimize: true,
  autoRecover: true,
  adaptiveQuality: true,
  naturalAutoBalance: false,
  externalAPIOptimization: true,
});
PK
frontend/src/pages/IntegrationDashboardPage.tsximport { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { Button } from '@/components/ui/button';
import { Separator } from '@/components/ui/separator';
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';
import { ScrollArea } from '@/components/ui/scroll-area';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { 
  Activity, 
  Zap, 
  Network, 
  Layers, 
  RefreshCw, 
  Wifi,
  Database,
  Globe,
  Server,
  TrendingUp,
  CheckCircle2,
  AlertCircle,
  Sparkles,
  Wind,
  Leaf,
  Eye,
  BarChart3,
  Link as LinkIcon,
  Cpu,
  Cloud,
  Gauge,
  ArrowLeftRight,
  Radio,
  Workflow
} from 'lucide-react';
import { unifiedArchitecture } from '../lib/unifiedArchitecture';
import { useActor } from '../hooks/useActor';
import { useQuery } from '@tanstack/react-query';
import type { LFlceiAutoCollectionStatus, IntegrationSyncStatus, SoulCooperationMetrics } from '../backend';
import UniverseEnergyDisplay from '../components/UniverseEnergyDisplay';

export default function IntegrationDashboardPage() {
  const { actor, isFetching } = useActor();
  const [systemState, setSystemState] = useState(unifiedArchitecture.getSystemState());
  const [isSyncing, setIsSyncing] = useState(false);

  // Backend queries for LFLC integration
  const { data: lflcStatus, refetch: refetchLFLC } = useQuery<LFlceiAutoCollectionStatus>({
    queryKey: ['lflcAutoCollectionStatus'],
    queryFn: async () => {
      if (!actor) throw new Error('Actor not available');
      return actor.getLFlceiAutoCollectionStatus();
    },
    enabled: !!actor && !isFetching,
    refetchInterval: 5000,
  });

  const { data: integrationStatus, refetch: refetchIntegration } = useQuery<IntegrationSyncStatus>({
    queryKey: ['integrationSyncStatus'],
    queryFn: async () => {
      if (!actor) throw new Error('Actor not available');
      return actor.getIntegrationSyncStatus();
    },
    enabled: !!actor && !isFetching,
    refetchInterval: 5000,
  });

  const { data: soulMetrics } = useQuery<SoulCooperationMetrics>({
    queryKey: ['soulCooperationMetrics'],
    queryFn: async () => {
      if (!actor) throw new Error('Actor not available');
      return actor.getSoulCooperationMetrics();
    },
    enabled: !!actor && !isFetching,
    refetchInterval: 3000,
  });

  useEffect(() => {
    const updateInterval = setInterval(() => {
      const newState = unifiedArchitecture.getSystemState();
      setSystemState(newState);
    }, 1000);

    const syncStartListener = () => setIsSyncing(true);
    const syncCompleteListener = () => {
      setIsSyncing(false);
      refetchLFLC();
      refetchIntegration();
    };
    const syncFailedListener = () => setIsSyncing(false);

    unifiedArchitecture.on('sync:started', syncStartListener);
    unifiedArchitecture.on('sync:completed', syncCompleteListener);
    unifiedArchitecture.on('sync:failed', syncFailedListener);

    return () => {
      clearInterval(updateInterval);
      unifiedArchitecture.off('sync:started', syncStartListener);
      unifiedArchitecture.off('sync:completed', syncCompleteListener);
      unifiedArchitecture.off('sync:failed', syncFailedListener);
    };
  }, [refetchLFLC, refetchIntegration]);

  const handleManualSync = async () => {
    setIsSyncing(true);
    try {
      // Trigger manual sync through unified architecture
      unifiedArchitecture.emit('sync:manual-trigger', { timestamp: Date.now() });
      
      // Refetch data from backend
      await Promise.all([
        refetchLFLC(),
        refetchIntegration(),
      ]);
    } catch (error) {
      console.error('Manual sync failed:', error);
    } finally {
      setTimeout(() => setIsSyncing(false), 1000);
    }
  };

  const modules = Array.from(systemState.modules.values());
  const activeModules = modules.filter(m => m.isActive);
  const healthScore = Math.round(systemState.systemHealth * 100);
  const naturalStatus = systemState.naturalAutoBalanceStatus;

  // LFLC metrics
  const lflcNodes = lflcStatus?.nodes || [];
  const lflcSyncedNodes = Number(lflcStatus?.syncedNodes || 0);
  const lflcActiveSyncs = Number(lflcStatus?.activeSyncs || 0);
  const lflcTotalAttempts = Number(lflcStatus?.totalSyncAttempts || 0);
  const lflcTotalErrors = Number(lflcStatus?.totalSyncErrors || 0);
  const lflcSuccessRate = lflcTotalAttempts > 0 ? ((lflcTotalAttempts - lflcTotalErrors) / lflcTotalAttempts * 100) : 100;

  // Integration metrics
  const modulesCount = Number(integrationStatus?.modulesCount || 0);
  const applicationsCount = Number(integrationStatus?.applicationsCount || 0);

  // Soul cooperation metrics
  const harmonyIndex = Number(soulMetrics?.harmonyIndex || 0);
  const syncResonance = Number(soulMetrics?.syncResonanceLevel || 0);
  const collaborativeActivity = Number(soulMetrics?.collaborativeActivityCount || 0);

  // LFLC Platform definitions
  const lflcPlatforms = [
    { id: 'oracle', name: 'LFLC Oracle', description: '', icon: Database, color: 'from-blue-600 to-cyan-600' },
    { id: 'monitoring', name: 'LFLC Monitoring', description: '', icon: Eye, color: 'from-green-600 to-emerald-600' },
    { id: 'ai-games', name: 'LFLC AI Games', description: 'AI ', icon: Sparkles, color: 'from-purple-600 to-pink-600' },
    { id: 'lucky-draw', name: 'LFLC Lucky Draw', description: '', icon: Zap, color: 'from-amber-600 to-orange-600' },
    { id: 'natural-intelligence', name: 'LFLC Natural Intelligence', description: '', icon: Leaf, color: 'from-green-600 to-teal-600' },
    { id: 'dcdn', name: 'LFLC DCDN', description: '', icon: Cloud, color: 'from-indigo-600 to-blue-600' },
  ];

  return (
    <div className="container px-4 py-8 md:px-8 relative min-h-screen">
      {/* Animated Background */}
      <div className="fixed inset-0 pointer-events-none overflow-hidden opacity-20">
        <div className="absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-br from-blue-500/30 to-cyan-500/30 rounded-full blur-3xl animate-qi-pulse"></div>
        <div className="absolute bottom-0 right-1/4 w-96 h-96 bg-gradient-to-br from-cyan-500/30 to-blue-500/30 rounded-full blur-3xl animate-qi-pulse" style={{ animationDelay: '1s' }}></div>
        <div className="absolute top-1/2 left-1/2 w-64 h-64 bg-gradient-to-br from-green-600/20 to-emerald-600/20 rounded-full blur-2xl animate-qi-pulse" style={{ animationDelay: '2s' }}></div>
      </div>

      <div className="relative z-10 space-y-6">
        {/* Header */}
        <div className="space-y-4">
          <div className="flex items-center justify-between flex-wrap gap-4">
            <div className="flex items-center gap-4">
              <div className="relative">
                <div className="h-16 w-16 rounded-lg bg-gradient-to-br from-blue-600 via-cyan-500 to-green-600 flex items-center justify-center shadow-lg animate-fusion-sync-pulse">
                  <Network className="h-8 w-8 text-white" />
                </div>
                <div className="absolute -top-1 -right-1 h-4 w-4 bg-green-500 rounded-full animate-qi-pulse border-2 border-background"></div>
              </div>
              <div>
                <h1 className="text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 via-cyan-500 to-green-600 bg-clip-text text-transparent animate-fusion-sync-flow">
                  LFLC 
                </h1>
                <p className="text-sm md:text-base text-muted-foreground">  LFLC     </p>
              </div>
            </div>
            <div className="flex items-center gap-2 flex-wrap">
              <Badge variant="outline" className="gap-2">
                <Activity className="h-3 w-3" />
                {activeModules.length}/{modules.length} 
              </Badge>
              <Badge variant={healthScore >= 80 ? "default" : healthScore >= 60 ? "secondary" : "destructive"} className="gap-2">
                <CheckCircle2 className="h-3 w-3" />
                 {healthScore}%
              </Badge>
              <Badge variant="default" className="gap-2 bg-gradient-to-r from-blue-600 to-cyan-600">
                <Radio className="h-3 w-3 animate-qi-pulse" />
                
              </Badge>
              {naturalStatus.enabled && (
                <Badge variant="default" className="gap-2 bg-gradient-to-r from-green-600 to-emerald-600">
                  <Leaf className="h-3 w-3" />
                  
                </Badge>
              )}
            </div>
          </div>
        </div>

        {/* System Status Alert */}
        {lflcTotalErrors > 0 && (
          <Alert variant="destructive">
            <AlertCircle className="h-4 w-4" />
            <AlertTitle>LFLC </AlertTitle>
            <AlertDescription>
               {lflcTotalErrors} : {lflcSuccessRate.toFixed(1)}%
            </AlertDescription>
          </Alert>
        )}

        {/* Quick Stats with Universe Energy */}
        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4">
          <Card className="hover:shadow-lg transition-all border-blue-500/20 bg-gradient-to-br from-card to-card/50">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Database className="h-4 w-4 text-blue-500" />
                LFLC 
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-3xl font-bold">{lflcSyncedNodes}/{lflcNodes.length}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={lflcNodes.length > 0 ? (lflcSyncedNodes / lflcNodes.length) * 100 : 0} className="mt-3 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-all border-cyan-500/20 bg-gradient-to-br from-card to-card/50">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Globe className="h-4 w-4 text-cyan-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-3xl font-bold">{modulesCount + applicationsCount}</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={100} className="mt-3 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-all border-green-500/20 bg-gradient-to-br from-card to-card/50">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Sparkles className="h-4 w-4 text-green-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-3xl font-bold">{harmonyIndex}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={harmonyIndex} className="mt-3 h-2" />
            </CardContent>
          </Card>

          <Card className="hover:shadow-lg transition-all border-purple-500/20 bg-gradient-to-br from-card to-card/50">
            <CardHeader className="pb-3">
              <CardTitle className="text-sm font-medium flex items-center gap-2">
                <Zap className="h-4 w-4 text-purple-500" />
                
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="text-3xl font-bold">{syncResonance}%</div>
              <p className="text-xs text-muted-foreground mt-1"></p>
              <Progress value={syncResonance} className="mt-3 h-2" />
            </CardContent>
          </Card>

          {/* Universe Energy Card - Compact Version */}
          <UniverseEnergyDisplay />
        </div>

        {/* Main Content Tabs */}
        <Tabs defaultValue="overview" className="space-y-4">
          <TabsList className="grid w-full grid-cols-4">
            <TabsTrigger value="overview"></TabsTrigger>
            <TabsTrigger value="lflc">LFLC </TabsTrigger>
            <TabsTrigger value="modules"></TabsTrigger>
            <TabsTrigger value="performance"></TabsTrigger>
          </TabsList>

          {/* Overview Tab */}
          <TabsContent value="overview" className="space-y-4">
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
              {/* Unified Architecture Status */}
              <Card className="border-2 border-blue-500/30">
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <Layers className="h-5 w-5 text-blue-500" />
                    
                  </CardTitle>
                  <CardDescription>  </CardDescription>
                </CardHeader>
                <CardContent className="space-y-4">
                  <div className="grid grid-cols-2 gap-4">
                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <div className="flex items-center gap-2 mb-2">
                        <Wifi className="h-4 w-4 text-green-500" />
                        <p className="text-xs text-muted-foreground"></p>
                      </div>
                      <p className="text-2xl font-bold">{systemState.syncStatus.enabled ? '' : ''}</p>
                      <Badge variant={systemState.syncStatus.enabled ? "default" : "secondary"} className="mt-2">
                        {isSyncing ? '' : ''}
                      </Badge>
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <div className="flex items-center gap-2 mb-2">
                        <TrendingUp className="h-4 w-4 text-blue-500" />
                        <p className="text-xs text-muted-foreground"></p>
                      </div>
                      <p className="text-2xl font-bold">{Math.round(systemState.performance.fusionSyncQuality * 100)}%</p>
                      <Progress value={systemState.performance.fusionSyncQuality * 100} className="mt-2 h-1.5" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <div className="flex items-center gap-2 mb-2">
                        <Activity className="h-4 w-4 text-amber-500" />
                        <p className="text-xs text-muted-foreground"></p>
                      </div>
                      <p className="text-2xl font-bold">{activeModules.length}/{modules.length}</p>
                      <Progress value={(activeModules.length / modules.length) * 100} className="mt-2 h-1.5" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <div className="flex items-center gap-2 mb-2">
                        <CheckCircle2 className="h-4 w-4 text-green-500" />
                        <p className="text-xs text-muted-foreground"></p>
                      </div>
                      <p className="text-2xl font-bold">{healthScore}%</p>
                      <Progress value={healthScore} className="mt-2 h-1.5" />
                    </div>
                  </div>

                  <Separator />

                  <Button
                    onClick={handleManualSync}
                    disabled={isSyncing}
                    className="w-full"
                    variant="outline"
                  >
                    {isSyncing ? (
                      <>
                        <RefreshCw className="h-4 w-4 mr-2 animate-spin" />
                        ...
                      </>
                    ) : (
                      <>
                        <RefreshCw className="h-4 w-4 mr-2" />
                        
                      </>
                    )}
                  </Button>
                </CardContent>
              </Card>

              {/* Soul Cooperation Metrics */}
              <Card className="border-2 border-purple-500/30">
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <Sparkles className="h-5 w-5 text-purple-500" />
                    
                  </CardTitle>
                  <CardDescription>    </CardDescription>
                </CardHeader>
                <CardContent className="space-y-4">
                  <div className="space-y-3">
                    <div className="p-4 rounded-lg bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30">
                      <div className="flex justify-between items-center mb-2">
                        <span className="text-sm font-medium"></span>
                        <span className="text-2xl font-bold">{collaborativeActivity}</span>
                      </div>
                      <Progress value={Math.min(collaborativeActivity, 100)} className="h-2" />
                    </div>

                    <div className="p-4 rounded-lg bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30">
                      <div className="flex justify-between items-center mb-2">
                        <span className="text-sm font-medium"></span>
                        <span className="text-2xl font-bold">{harmonyIndex}%</span>
                      </div>
                      <Progress value={harmonyIndex} className="h-2" />
                    </div>

                    <div className="p-4 rounded-lg bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                      <div className="flex justify-between items-center mb-2">
                        <span className="text-sm font-medium"></span>
                        <span className="text-2xl font-bold">{syncResonance}%</span>
                      </div>
                      <Progress value={syncResonance} className="h-2" />
                    </div>
                  </div>

                  <Separator />

                  <div className="text-center p-3 rounded-lg bg-muted/30">
                    <p className="text-xs text-muted-foreground mb-1"></p>
                    <p className="text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                      {Math.round((harmonyIndex + syncResonance) / 2)}%
                    </p>
                  </div>
                </CardContent>
              </Card>
            </div>

            {/* LFLC Platform Integration Visualization */}
            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Network className="h-5 w-5" />
                  LFLC 
                </CardTitle>
                <CardDescription> LFLC     </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="relative h-[500px] bg-gradient-to-br from-muted/20 to-muted/5 rounded-lg border border-border/50 overflow-hidden">
                  {/* Central Core */}
                  <div className="absolute inset-0 flex items-center justify-center">
                    <div className="relative">
                      <div className="absolute inset-0 rounded-full blur-2xl animate-fusion-sync-pulse bg-gradient-to-br from-blue-500/40 via-cyan-500/40 to-green-500/40"></div>
                      <div className="relative h-40 w-40 rounded-full bg-gradient-to-br from-blue-600 via-cyan-600 to-green-600 flex items-center justify-center shadow-2xl border-4 border-white/20">
                        <div className="text-center">
                          <p className="text-white font-bold text-2xl"></p>
                          <p className="text-white/90 text-sm"></p>
                          <p className="text-white/80 text-xs mt-1">LFLC </p>
                        </div>
                      </div>
                    </div>
                  </div>

                  {/* LFLC Platform Nodes (Outer Ring) */}
                  {lflcPlatforms.map((platform, index) => {
                    const angle = (index / lflcPlatforms.length) * 2 * Math.PI - Math.PI / 2;
                    const radius = 42;
                    const x = 50 + radius * Math.cos(angle);
                    const y = 50 + radius * Math.sin(angle);

                    return (
                      <div
                        key={platform.id}
                        className="absolute"
                        style={{
                          left: `${x}%`,
                          top: `${y}%`,
                          transform: 'translate(-50%, -50%)'
                        }}
                      >
                        <div className="relative group">
                          <div className={`h-16 w-16 rounded-lg flex items-center justify-center shadow-xl border-2 border-white/30 transition-all bg-gradient-to-br ${platform.color} animate-qi-pulse hover:scale-110`}>
                            <platform.icon className="h-7 w-7 text-white" />
                          </div>
                          <div className="absolute -top-1 -right-1 h-4 w-4 rounded-full bg-green-500 animate-qi-pulse border-2 border-background"></div>
                          
                          <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-3 px-3 py-2 bg-popover text-popover-foreground text-xs rounded-lg shadow-xl opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10 border border-border">
                            <p className="font-semibold">{platform.name}</p>
                            <p className="text-muted-foreground text-[10px]">{platform.description}</p>
                          </div>
                        </div>
                      </div>
                    );
                  })}

                  {/* Cultivation Module Nodes (Inner Ring) */}
                  {modules.slice(0, 9).map((module, index) => {
                    const angle = (index / 9) * 2 * Math.PI - Math.PI / 2;
                    const radius = 28;
                    const x = 50 + radius * Math.cos(angle);
                    const y = 50 + radius * Math.sin(angle);

                    return (
                      <div
                        key={module.moduleId}
                        className="absolute"
                        style={{
                          left: `${x}%`,
                          top: `${y}%`,
                          transform: 'translate(-50%, -50%)'
                        }}
                      >
                        <div className="relative group">
                          <div className={`h-12 w-12 rounded-full flex items-center justify-center shadow-lg border-2 border-white/20 transition-all bg-gradient-to-br from-amber-600 to-orange-600 ${module.isActive ? 'animate-qi-pulse' : 'opacity-50'}`}>
                            <span className="text-white text-xs font-bold">{module.moduleName.substring(0, 2)}</span>
                          </div>
                          <div className={`absolute -top-1 -right-1 h-3 w-3 rounded-full ${
                            module.realTimeState === 'active' ? 'bg-green-500' :
                            module.realTimeState === 'syncing' ? 'bg-blue-500 animate-spin' :
                            module.realTimeState === 'error' ? 'bg-red-500' :
                            'bg-gray-400'
                          }`}></div>
                          
                          <div className="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-popover text-popover-foreground text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10">
                            {module.moduleName}
                          </div>
                        </div>
                      </div>
                    );
                  })}

                  {/* Connection Lines */}
                  <svg className="absolute inset-0 w-full h-full pointer-events-none">
                    <defs>
                      <linearGradient id="lflcGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stopColor="oklch(0.65 0.26 200 / 0.4)" />
                        <stop offset="50%" stopColor="oklch(0.70 0.24 180 / 0.6)" />
                        <stop offset="100%" stopColor="oklch(0.65 0.26 200 / 0.4)" />
                      </linearGradient>
                      <linearGradient id="moduleGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stopColor="oklch(0.70 0.20 40 / 0.3)" />
                        <stop offset="50%" stopColor="oklch(0.75 0.18 50 / 0.5)" />
                        <stop offset="100%" stopColor="oklch(0.70 0.20 40 / 0.3)" />
                      </linearGradient>
                    </defs>
                    
                    {/* LFLC Platform to Core */}
                    {lflcPlatforms.map((platform, index) => {
                      const angle = (index / lflcPlatforms.length) * 2 * Math.PI - Math.PI / 2;
                      const radius = 42;
                      const x = 50 + radius * Math.cos(angle);
                      const y = 50 + radius * Math.sin(angle);

                      return (
                        <line
                          key={`lflc-line-${platform.id}`}
                          x1="50%"
                          y1="50%"
                          x2={`${x}%`}
                          y2={`${y}%`}
                          stroke="url(#lflcGradient)"
                          strokeWidth={2}
                          strokeDasharray="5,5"
                          className="animate-data-flow"
                        />
                      );
                    })}

                    {/* Module to Core */}
                    {modules.slice(0, 9).map((module, index) => {
                      const angle = (index / 9) * 2 * Math.PI - Math.PI / 2;
                      const radius = 28;
                      const x = 50 + radius * Math.cos(angle);
                      const y = 50 + radius * Math.sin(angle);

                      return (
                        <line
                          key={`module-line-${module.moduleId}`}
                          x1="50%"
                          y1="50%"
                          x2={`${x}%`}
                          y2={`${y}%`}
                          stroke="url(#moduleGradient)"
                          strokeWidth={module.isActive ? 2 : 1}
                          strokeDasharray="3,3"
                          className="animate-data-flow"
                          opacity={module.isActive ? 1 : 0.3}
                        />
                      );
                    })}
                  </svg>

                  {/* Legend */}
                  <div className="absolute bottom-4 left-4 right-4 flex items-center justify-center gap-6 text-xs">
                    <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-background/80 backdrop-blur-sm border border-border/50">
                      <div className="h-3 w-3 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600"></div>
                      <span>LFLC </span>
                    </div>
                    <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-background/80 backdrop-blur-sm border border-border/50">
                      <div className="h-3 w-3 rounded-full bg-gradient-to-br from-amber-600 to-orange-600"></div>
                      <span></span>
                    </div>
                    <div className="flex items-center gap-2 px-3 py-1.5 rounded-full bg-background/80 backdrop-blur-sm border border-border/50">
                      <ArrowLeftRight className="h-3 w-3" />
                      <span></span>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>

            {/* Bidirectional Data Flow Status */}
            <Card className="border-2 border-cyan-500/30">
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Workflow className="h-5 w-5 text-cyan-500" />
                  
                </CardTitle>
                <CardDescription>    </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div className="p-4 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                    <div className="flex items-center gap-2 mb-3">
                      <ArrowLeftRight className="h-5 w-5 text-blue-500" />
                      <p className="font-semibold"></p>
                    </div>
                    <div className="space-y-2 text-sm">
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground">  </span>
                        <Badge variant="default" className="text-xs"></Badge>
                      </div>
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground">  </span>
                        <Badge variant="default" className="text-xs"></Badge>
                      </div>
                    </div>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
                    <div className="flex items-center gap-2 mb-3">
                      <Gauge className="h-5 w-5 text-green-500" />
                      <p className="font-semibold"></p>
                    </div>
                    <div className="space-y-2">
                      <div className="flex justify-between text-sm">
                        <span className="text-muted-foreground"></span>
                        <span className="font-medium">{Math.round(systemState.performance.stateConsistency * 100)}%</span>
                      </div>
                      <Progress value={systemState.performance.stateConsistency * 100} className="h-2" />
                    </div>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">
                    <div className="flex items-center gap-2 mb-3">
                      <Server className="h-5 w-5 text-purple-500" />
                      <p className="font-semibold">API </p>
                    </div>
                    <div className="space-y-2 text-sm">
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground"></span>
                        <span className="font-medium">{systemState.apiStatus.activeRequests}</span>
                      </div>
                      <div className="flex items-center justify-between">
                        <span className="text-muted-foreground"></span>
                        <span className="font-medium">{systemState.apiStatus.queuedRequests}</span>
                      </div>
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>
          </TabsContent>

          {/* LFLC Platform Tab */}
          <TabsContent value="lflc" className="space-y-4">
            {/* LFLC Platform Cards */}
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
              {lflcPlatforms.map((platform) => (
                <Card key={platform.id} className="border-2 hover:shadow-lg transition-all">
                  <CardHeader>
                    <CardTitle className="flex items-center gap-2">
                      <div className={`h-10 w-10 rounded-lg bg-gradient-to-br ${platform.color} flex items-center justify-center`}>
                        <platform.icon className="h-5 w-5 text-white" />
                      </div>
                      <div>
                        <p className="text-sm font-bold">{platform.name}</p>
                        <p className="text-xs text-muted-foreground font-normal">{platform.description}</p>
                      </div>
                    </CardTitle>
                  </CardHeader>
                  <CardContent>
                    <div className="flex items-center justify-between">
                      <Badge variant="default" className="gap-1">
                        <CheckCircle2 className="h-3 w-3" />
                        
                      </Badge>
                      <div className="flex items-center gap-1 text-xs text-muted-foreground">
                        <Radio className="h-3 w-3 animate-qi-pulse" />
                        
                      </div>
                    </div>
                  </CardContent>
                </Card>
              ))}
            </div>

            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Server className="h-5 w-5 text-blue-500" />
                  LFLC 
                </CardTitle>
                <CardDescription>    </CardDescription>
              </CardHeader>
              <CardContent>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                  <div className="p-4 rounded-lg bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <Database className="h-5 w-5 text-blue-500" />
                      <p className="text-sm font-medium"></p>
                    </div>
                    <p className="text-3xl font-bold">{lflcNodes.length}</p>
                    <p className="text-xs text-muted-foreground mt-1">LFLC </p>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <CheckCircle2 className="h-5 w-5 text-green-500" />
                      <p className="text-sm font-medium"></p>
                    </div>
                    <p className="text-3xl font-bold">{lflcSuccessRate.toFixed(1)}%</p>
                    <p className="text-xs text-muted-foreground mt-1">{lflcTotalAttempts} </p>
                  </div>

                  <div className="p-4 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30">
                    <div className="flex items-center gap-2 mb-2">
                      <Activity className="h-5 w-5 text-purple-500" />
                      <p className="text-sm font-medium"></p>
                    </div>
                    <p className="text-3xl font-bold">{lflcActiveSyncs}</p>
                    <p className="text-xs text-muted-foreground mt-1"></p>
                  </div>
                </div>

                <Separator className="my-6" />

                <ScrollArea className="h-[400px] pr-4">
                  <div className="space-y-3">
                    {lflcNodes.map((node, index) => (
                      <div 
                        key={`${node.nodeId}-${index}`}
                        className="p-4 rounded-lg border border-border/50 hover:border-primary/50 transition-all bg-gradient-to-br from-card to-card/50"
                      >
                        <div className="flex items-center justify-between mb-3">
                          <div className="flex items-center gap-2">
                            <div className={`h-2 w-2 rounded-full ${
                              node.nodeStatus === 'active' ? 'bg-green-500 animate-qi-pulse' :
                              node.nodeStatus === 'syncing' ? 'bg-blue-500 animate-spin' :
                              'bg-gray-400'
                            }`}></div>
                            <p className="font-semibold">{node.nodeType}</p>
                          </div>
                          <Badge variant={node.nodeStatus === 'active' ? "default" : "secondary"}>
                            {node.nodeStatus}
                          </Badge>
                        </div>

                        <div className="grid grid-cols-2 md:grid-cols-4 gap-3 text-sm">
                          <div>
                            <p className="text-muted-foreground text-xs"></p>
                            <p className="font-medium">{Number(node.syncCount)}</p>
                          </div>
                          <div>
                            <p className="text-muted-foreground text-xs"></p>
                            <p className="font-medium">{Number(node.activityCount)}</p>
                          </div>
                          <div>
                            <p className="text-muted-foreground text-xs"></p>
                            <p className="font-medium">{Number(node.aggregationCount)}</p>
                          </div>
                          <div>
                            <p className="text-muted-foreground text-xs"></p>
                            <p className="font-medium truncate">{node.nodeSource}</p>
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                </ScrollArea>
              </CardContent>
            </Card>
          </TabsContent>

          {/* Modules Tab */}
          <TabsContent value="modules" className="space-y-4">
            <Card>
              <CardHeader>
                <CardTitle className="flex items-center gap-2">
                  <Layers className="h-5 w-5 text-amber-500" />
                  
                </CardTitle>
                <CardDescription>                </CardDescription>
              </CardHeader>
              <CardContent>
                <ScrollArea className="h-[500px] pr-4">
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    {modules.map((module) => (
                      <div 
                        key={module.moduleId}
                        className="p-4 rounded-lg border border-border/50 hover:border-primary/50 transition-all space-y-3 bg-gradient-to-br from-card to-card/50"
                      >
                        <div className="flex items-center justify-between">
                          <div className="flex items-center gap-2">
                            <div className={`h-2 w-2 rounded-full ${
                              module.realTimeState === 'active' ? 'bg-green-500 animate-qi-pulse' :
                              module.realTimeState === 'syncing' ? 'bg-blue-500 animate-spin' :
                              module.realTimeState === 'error' ? 'bg-red-500' :
                              'bg-gray-400'
                            }`}></div>
                            <p className="font-semibold">{module.moduleName}</p>
                          </div>
                          <Badge variant={module.isActive ? "default" : "secondary"} className="text-xs">
                            {module.isActive ? '' : ''}
                          </Badge>
                        </div>

                        <div className="space-y-2">
                          <div className="flex justify-between text-sm">
                            <span className="text-muted-foreground"></span>
                            <span className="font-medium">{Math.round(module.healthScore * 100)}%</span>
                          </div>
                          <Progress value={module.healthScore * 100} className="h-1.5" />

                          <div className="flex justify-between text-sm">
                            <span className="text-muted-foreground"></span>
                            <span className="font-medium">{Math.round(module.syncQuality * 100)}%</span>
                          </div>
                          <Progress value={module.syncQuality * 100} className="h-1.5" />

                          <div className="flex justify-between text-sm">
                            <span className="text-muted-foreground"></span>
                            <span className="font-medium">{Math.round(module.energyLevel)}%</span>
                          </div>
                          <Progress value={module.energyLevel} className="h-1.5" />

                          <div className="flex justify-between text-sm">
                            <span className="text-muted-foreground"></span>
                            <span className="font-medium">{Math.round(module.cultivationProgress)}%</span>
                          </div>
                          <Progress value={module.cultivationProgress} className="h-1.5" />
                        </div>
                      </div>
                    ))}
                  </div>
                </ScrollArea>
              </CardContent>
            </Card>
          </TabsContent>

          {/* Performance Tab */}
          <TabsContent value="performance" className="space-y-4">
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <Card>
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <BarChart3 className="h-5 w-5" />
                    
                  </CardTitle>
                  <CardDescription></CardDescription>
                </CardHeader>
                <CardContent>
                  <div className="grid grid-cols-2 gap-4">
                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <p className="text-xs text-muted-foreground mb-1">FPS</p>
                      <p className="text-2xl font-bold">{Math.round(systemState.performance.fps)}</p>
                      <Progress value={Math.min((systemState.performance.fps / 60) * 100, 100)} className="mt-2 h-1" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <p className="text-xs text-muted-foreground mb-1"></p>
                      <p className="text-2xl font-bold">{systemState.performance.syncLatency.toFixed(0)}ms</p>
                      <Progress value={Math.min((systemState.performance.syncLatency / 1000) * 100, 100)} className="mt-2 h-1" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <p className="text-xs text-muted-foreground mb-1">API </p>
                      <p className="text-2xl font-bold">{systemState.performance.apiResponseTime.toFixed(0)}ms</p>
                      <Progress value={Math.min((systemState.performance.apiResponseTime / 500) * 100, 100)} className="mt-2 h-1" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <p className="text-xs text-muted-foreground mb-1"></p>
                      <p className="text-2xl font-bold">{Math.round(systemState.performance.energyFlowRate * 100)}%</p>
                      <Progress value={systemState.performance.energyFlowRate * 100} className="mt-2 h-1" />
                    </div>
                  </div>
                </CardContent>
              </Card>

              <Card>
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <Eye className="h-5 w-5" />
                    GPU 
                  </CardTitle>
                  <CardDescription></CardDescription>
                </CardHeader>
                <CardContent className="space-y-4">
                  <div className="flex items-center justify-between p-3 rounded-lg bg-muted/30">
                    <div className="flex items-center gap-2">
                      <Zap className="h-4 w-4 text-amber-500" />
                      <span className="text-sm font-medium">GPU </span>
                    </div>
                    <Badge variant={systemState.visualStatus.enabled ? "default" : "secondary"}>
                      {systemState.visualStatus.enabled ? '' : ''}
                    </Badge>
                  </div>

                  <div className="flex items-center justify-between p-3 rounded-lg bg-muted/30">
                    <div className="flex items-center gap-2">
                      <Activity className="h-4 w-4 text-blue-500" />
                      <span className="text-sm font-medium"></span>
                    </div>
                    <span className="text-lg font-bold">{systemState.visualStatus.particleCount}</span>
                  </div>

                  <div className="flex items-center justify-between p-3 rounded-lg bg-muted/30">
                    <div className="flex items-center gap-2">
                      <Sparkles className="h-4 w-4 text-purple-500" />
                      <span className="text-sm font-medium"></span>
                    </div>
                    <span className="text-lg font-bold">{systemState.visualStatus.animationCount}</span>
                  </div>

                  <div className="flex items-center justify-between p-3 rounded-lg bg-muted/30">
                    <div className="flex items-center gap-2">
                      <TrendingUp className="h-4 w-4 text-green-500" />
                      <span className="text-sm font-medium"></span>
                    </div>
                    <Badge>{systemState.visualStatus.qualityMode}</Badge>
                  </div>
                </CardContent>
              </Card>
            </div>

            {/* Natural Auto-Balance Status */}
            {naturalStatus.enabled && (
              <Card className="border-2 border-green-500/30 bg-gradient-to-br from-green-500/5 to-emerald-500/10">
                <CardHeader>
                  <CardTitle className="flex items-center gap-2">
                    <Wind className="h-5 w-5 text-green-600" />
                    
                  </CardTitle>
                  <CardDescription>    </CardDescription>
                </CardHeader>
                <CardContent>
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <div className="flex items-center gap-2 mb-2">
                        <Network className="h-4 w-4 text-blue-500" />
                        <p className="text-xs text-muted-foreground"></p>
                      </div>
                      <p className="text-2xl font-bold">{Math.round(naturalStatus.dataFlowBalance * 100)}%</p>
                      <Progress value={naturalStatus.dataFlowBalance * 100} className="mt-2 h-1.5" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <div className="flex items-center gap-2 mb-2">
                        <Zap className="h-4 w-4 text-amber-500" />
                        <p className="text-xs text-muted-foreground"></p>
                      </div>
                      <p className="text-2xl font-bold">{Math.round(naturalStatus.energyFlowBalance * 100)}%</p>
                      <Progress value={naturalStatus.energyFlowBalance * 100} className="mt-2 h-1.5" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <div className="flex items-center gap-2 mb-2">
                        <Eye className="h-4 w-4 text-purple-500" />
                        <p className="text-xs text-muted-foreground"></p>
                      </div>
                      <p className="text-2xl font-bold">{Math.round(naturalStatus.renderingBalance * 100)}%</p>
                      <Progress value={naturalStatus.renderingBalance * 100} className="mt-2 h-1.5" />
                    </div>

                    <div className="p-4 rounded-lg bg-muted/50 border border-border/50">
                      <div className="flex items-center gap-2 mb-2">
                        <CheckCircle2 className="h-4 w-4 text-green-500" />
                        <p className="text-xs text-muted-foreground"></p>
                      </div>
                      <p className="text-2xl font-bold">{Math.round(naturalStatus.overallBalance * 100)}%</p>
                      <Progress value={naturalStatus.overallBalance * 100} className="mt-2 h-1.5" />
                    </div>
                  </div>
                </CardContent>
              </Card>
            )}
          </TabsContent>
        </Tabs>
      </div>
    </div>
  );
}
PK
build-template/pnpm-lock.yamllockfileVersion: '9.0'

settings:
    autoInstallPeers: true
    excludeLinksFromLockfile: false

importers:
    .:
        devDependencies:
            sharp:
                specifier: ^0.34.4
                version: 0.34.4

    src/frontend:
        dependencies:
            '@dfinity/agent':
                specifier: ~3.3.0
                version: 3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0)
            '@dfinity/auth-client':
                specifier: ~3.3.0
                version: 3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/identity@3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0))(@dfinity/principal@3.3.1)
            '@dfinity/candid':
                specifier: ~3.3.0
                version: 3.3.1(@dfinity/principal@3.3.1)
            '@dfinity/identity':
                specifier: ~3.3.0
                version: 3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0)
            '@dfinity/principal':
                specifier: ~3.3.0
                version: 3.3.1
            '@icp-sdk/core':
                specifier: ~4.1.0
                version: 4.1.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/identity-secp256k1@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0))(@dfinity/identity@3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0))(@dfinity/principal@3.3.1)
            '@radix-ui/react-accordion':
                specifier: ^1.1.2
                version: 1.2.12(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-alert-dialog':
                specifier: ^1.1.2
                version: 1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-aspect-ratio':
                specifier: ^1.1.0
                version: 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-avatar':
                specifier: ^1.1.0
                version: 1.1.10(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-checkbox':
                specifier: ^1.1.1
                version: 1.3.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-collapsible':
                specifier: ^1.1.0
                version: 1.1.12(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-context-menu':
                specifier: ^2.2.15
                version: 2.2.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-dialog':
                specifier: ^1.1.1
                version: 1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-dropdown-menu':
                specifier: ^2.1.1
                version: 2.1.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-hover-card':
                specifier: ^1.1.2
                version: 1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-label':
                specifier: ^2.1.0
                version: 2.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-menubar':
                specifier: ^1.1.1
                version: 1.1.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-navigation-menu':
                specifier: ^1.2.0
                version: 1.2.14(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-popover':
                specifier: ^1.1.1
                version: 1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-progress':
                specifier: ^1.1.0
                version: 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-radio-group':
                specifier: ^1.2.0
                version: 1.3.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-scroll-area':
                specifier: ^1.2.0
                version: 1.2.10(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-select':
                specifier: ^2.1.2
                version: 2.2.6(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-separator':
                specifier: ^1.1.0
                version: 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-slider':
                specifier: ^1.2.0
                version: 1.3.6(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-slot':
                specifier: ^1.1.0
                version: 1.2.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-switch':
                specifier: ^1.1.1
                version: 1.2.6(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-tabs':
                specifier: ^1.1.0
                version: 1.1.13(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-toggle':
                specifier: ^1.1.0
                version: 1.1.10(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-toggle-group':
                specifier: ^1.1.0
                version: 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-tooltip':
                specifier: ^1.1.2
                version: 1.2.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@react-three/cannon':
                specifier: ~6.6.0
                version: 6.6.0(@react-three/fiber@9.1.4(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0))(react@19.1.1)(three@0.176.0)(typescript@5.9.3)
            '@react-three/drei':
                specifier: ~10.0.8
                version: 10.0.8(@react-three/fiber@9.1.4(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0))(@types/react@19.1.17)(@types/three@0.176.0)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0)
            '@react-three/fiber':
                specifier: ~9.1.2
                version: 9.1.4(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0)
            '@tanstack/react-query':
                specifier: ^5.24.0
                version: 5.90.5(react@19.1.1)
            '@tanstack/react-router':
                specifier: ~1.131.8
                version: 1.131.50(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            class-variance-authority:
                specifier: ^0.7.0
                version: 0.7.1
            clsx:
                specifier: ^2.1.1
                version: 2.1.1
            cmdk:
                specifier: ^1.0.0
                version: 1.1.1(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            date-fns:
                specifier: ^3.6.0
                version: 3.6.0
            embla-carousel-react:
                specifier: ^8.2.1
                version: 8.6.0(react@19.1.1)
            input-otp:
                specifier: ^1.4.1
                version: 1.4.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            lucide-react:
                specifier: 0.511.0
                version: 0.511.0(react@19.1.1)
            next-themes:
                specifier: ~0.4.6
                version: 0.4.6(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react:
                specifier: ~19.1.0
                version: 19.1.1
            react-day-picker:
                specifier: ^9.5.0
                version: 9.11.1(react@19.1.1)
            react-dom:
                specifier: ~19.1.0
                version: 19.1.1(react@19.1.1)
            react-hook-form:
                specifier: ^7.53.0
                version: 7.65.0(react@19.1.1)
            react-icons:
                specifier: ^5.4.0
                version: 5.5.0(react@19.1.1)
            react-quill-new:
                specifier: 3.4.6
                version: 3.4.6(quill-delta@5.1.0)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react-resizable-panels:
                specifier: ^2.1.7
                version: 2.1.9(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react-use:
                specifier: ~17.6.0
                version: 17.6.0(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            recharts:
                specifier: ^2.15.1
                version: 2.15.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            sonner:
                specifier: ^1.7.4
                version: 1.7.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            tailwind-merge:
                specifier: ^2.5.2
                version: 2.6.0
            three:
                specifier: ^0.176.0
                version: 0.176.0
            vaul:
                specifier: ^1.1.2
                version: 1.1.2(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            zustand:
                specifier: ~5.0.5
                version: 5.0.8(@types/react@19.1.17)(react@19.1.1)(use-sync-external-store@1.6.0(react@19.1.1))
        devDependencies:
            '@eslint/js':
                specifier: ~9.27.0
                version: 9.27.0
            '@react-three/eslint-plugin':
                specifier: ~0.1.2
                version: 0.1.2
            '@tailwindcss/container-queries':
                specifier: ^0.1.1
                version: 0.1.1(tailwindcss@3.4.18)
            '@tailwindcss/typography':
                specifier: 0.5.10
                version: 0.5.10(tailwindcss@3.4.18)
            '@tanstack/eslint-plugin-router':
                specifier: ~1.115.0
                version: 1.115.0(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)
            '@types/node':
                specifier: ^20.9.0
                version: 20.19.24
            '@types/react':
                specifier: ~19.1.0
                version: 19.1.17
            '@types/react-dom':
                specifier: ~19.1.0
                version: 19.1.11(@types/react@19.1.17)
            '@types/three':
                specifier: 0.176.0
                version: 0.176.0
            '@typescript-eslint/eslint-plugin':
                specifier: ^8.32.1
                version: 8.46.2(@typescript-eslint/parser@8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3))(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)
            '@typescript-eslint/parser':
                specifier: ^8.32.1
                version: 8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)
            '@typescript-eslint/utils':
                specifier: ^8.32.1
                version: 8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)
            '@vitejs/plugin-react':
                specifier: ^4.3.1
                version: 4.7.0(vite@5.4.21(@types/node@20.19.24))
            autoprefixer:
                specifier: ^10.4.20
                version: 10.4.21(postcss@8.5.6)
            dotenv:
                specifier: ^16.5.0
                version: 16.6.1
            dotenv-cli:
                specifier: ^8.0.0
                version: 8.0.0
            eslint:
                specifier: ~9.27.0
                version: 9.27.0(jiti@1.21.7)
            eslint-plugin-react:
                specifier: ~7.37.5
                version: 7.37.5(eslint@9.27.0(jiti@1.21.7))
            eslint-plugin-react-hooks:
                specifier: ~5.2.0
                version: 5.2.0(eslint@9.27.0(jiti@1.21.7))
            eslint-plugin-tailwindcss:
                specifier: ~3.18.2
                version: 3.18.2(tailwindcss@3.4.18)
            globals:
                specifier: ~16.2.0
                version: 16.2.0
            postcss:
                specifier: ^8.4.41
                version: 8.5.6
            tailwindcss:
                specifier: ^3.4.17
                version: 3.4.18
            tailwindcss-animate:
                specifier: ^1.0.7
                version: 1.0.7(tailwindcss@3.4.18)
            typescript:
                specifier: ^5.8.3
                version: 5.9.3
            vite:
                specifier: ^5.4.1
                version: 5.4.21(@types/node@20.19.24)
            vite-plugin-environment:
                specifier: ^1.1.3
                version: 1.1.3(vite@5.4.21(@types/node@20.19.24))

packages:
    '@alloc/quick-lru@5.2.0':
        resolution:
            {
                integrity: sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==
            }
        engines: { node: '>=10' }

    '@babel/code-frame@7.27.1':
        resolution:
            {
                integrity: sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==
            }
        engines: { node: '>=6.9.0' }

    '@babel/compat-data@7.28.5':
        resolution:
            {
                integrity: sha512-6uFXyCayocRbqhZOB+6XcuZbkMNimwfVGFji8CTZnCzOHVGvDqzvitu1re2AU5LROliz7eQPhB8CpAMvnx9EjA==
            }
        engines: { node: '>=6.9.0' }

    '@babel/core@7.28.5':
        resolution:
            {
                integrity: sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==
            }
        engines: { node: '>=6.9.0' }

    '@babel/generator@7.28.5':
        resolution:
            {
                integrity: sha512-3EwLFhZ38J4VyIP6WNtt2kUdW9dokXA9Cr4IVIFHuCpZ3H8/YFOl5JjZHisrn1fATPBmKKqXzDFvh9fUwHz6CQ==
            }
        engines: { node: '>=6.9.0' }

    '@babel/helper-compilation-targets@7.27.2':
        resolution:
            {
                integrity: sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==
            }
        engines: { node: '>=6.9.0' }

    '@babel/helper-globals@7.28.0':
        resolution:
            {
                integrity: sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==
            }
        engines: { node: '>=6.9.0' }

    '@babel/helper-module-imports@7.27.1':
        resolution:
            {
                integrity: sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==
            }
        engines: { node: '>=6.9.0' }

    '@babel/helper-module-transforms@7.28.3':
        resolution:
            {
                integrity: sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==
            }
        engines: { node: '>=6.9.0' }
        peerDependencies:
            '@babel/core': ^7.0.0

    '@babel/helper-plugin-utils@7.27.1':
        resolution:
            {
                integrity: sha512-1gn1Up5YXka3YYAHGKpbideQ5Yjf1tDa9qYcgysz+cNCXukyLl6DjPXhD3VRwSb8c0J9tA4b2+rHEZtc6R0tlw==
            }
        engines: { node: '>=6.9.0' }

    '@babel/helper-string-parser@7.27.1':
        resolution:
            {
                integrity: sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==
            }
        engines: { node: '>=6.9.0' }

    '@babel/helper-validator-identifier@7.28.5':
        resolution:
            {
                integrity: sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q==
            }
        engines: { node: '>=6.9.0' }

    '@babel/helper-validator-option@7.27.1':
        resolution:
            {
                integrity: sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==
            }
        engines: { node: '>=6.9.0' }

    '@babel/helpers@7.28.4':
        resolution:
            {
                integrity: sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==
            }
        engines: { node: '>=6.9.0' }

    '@babel/parser@7.28.5':
        resolution:
            {
                integrity: sha512-KKBU1VGYR7ORr3At5HAtUQ+TV3SzRCXmA/8OdDZiLDBIZxVyzXuztPjfLd3BV1PRAQGCMWWSHYhL0F8d5uHBDQ==
            }
        engines: { node: '>=6.0.0' }
        hasBin: true

    '@babel/plugin-transform-react-jsx-self@7.27.1':
        resolution:
            {
                integrity: sha512-6UzkCs+ejGdZ5mFFC/OCUrv028ab2fp1znZmCZjAOBKiBK2jXD1O+BPSfX8X2qjJ75fZBMSnQn3Rq2mrBJK2mw==
            }
        engines: { node: '>=6.9.0' }
        peerDependencies:
            '@babel/core': ^7.0.0-0

    '@babel/plugin-transform-react-jsx-source@7.27.1':
        resolution:
            {
                integrity: sha512-zbwoTsBruTeKB9hSq73ha66iFeJHuaFkUbwvqElnygoNbj/jHRsSeokowZFN3CZ64IvEqcmmkVe89OPXc7ldAw==
            }
        engines: { node: '>=6.9.0' }
        peerDependencies:
            '@babel/core': ^7.0.0-0

    '@babel/runtime@7.28.4':
        resolution:
            {
                integrity: sha512-Q/N6JNWvIvPnLDvjlE1OUBLPQHH6l3CltCEsHIujp45zQUSSh8K+gHnaEX45yAT1nyngnINhvWtzN+Nb9D8RAQ==
            }
        engines: { node: '>=6.9.0' }

    '@babel/template@7.27.2':
        resolution:
            {
                integrity: sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==
            }
        engines: { node: '>=6.9.0' }

    '@babel/traverse@7.28.5':
        resolution:
            {
                integrity: sha512-TCCj4t55U90khlYkVV/0TfkJkAkUg3jZFA3Neb7unZT8CPok7iiRfaX0F+WnqWqt7OxhOn0uBKXCw4lbL8W0aQ==
            }
        engines: { node: '>=6.9.0' }

    '@babel/types@7.28.5':
        resolution:
            {
                integrity: sha512-qQ5m48eI/MFLQ5PxQj4PFaprjyCTLI37ElWMmNs0K8Lk3dVeOdNpB3ks8jc7yM5CDmVC73eMVk/trk3fgmrUpA==
            }
        engines: { node: '>=6.9.0' }

    '@date-fns/tz@1.4.1':
        resolution:
            {
                integrity: sha512-P5LUNhtbj6YfI3iJjw5EL9eUAG6OitD0W3fWQcpQjDRc/QIsL0tRNuO1PcDvPccWL1fSTXXdE1ds+l95DV/OFA==
            }

    '@dfinity/agent@3.3.1':
        resolution:
            {
                integrity: sha512-U1zWIiCgJmxNet2NpKN+2UgOcO/OFC+FqGEpIsvu964eH7FeEMagmSZ5xTIsXSL9sN0mR7gY5Fuz+bv5XSBJQg==
            }
        peerDependencies:
            '@dfinity/candid': 3.3.1
            '@dfinity/principal': 3.3.1
            '@noble/hashes': ^1.8.0

    '@dfinity/auth-client@3.3.1':
        resolution:
            {
                integrity: sha512-Cxf8dlWzxG9mgRzEesuf4cRVCAMrIhlRKw54bc1CNceSobkhpo9Hbz4bSqD02zddKD+G69KAQR3z5r43wKi8CA==
            }
        peerDependencies:
            '@dfinity/agent': 3.3.1
            '@dfinity/identity': 3.3.1
            '@dfinity/principal': 3.3.1

    '@dfinity/candid@3.3.1':
        resolution:
            {
                integrity: sha512-BOvhZhQarrpA5ErwLwXW/M28nSx3e0ZlV0iyJ+MvH6SkFcZqATVBPA0rVn57uDtMFboT8TzlA3RoW+YBzHxLJQ==
            }
        peerDependencies:
            '@dfinity/principal': 3.3.1

    '@dfinity/cbor@0.2.2':
        resolution:
            {
                integrity: sha512-GPJpH73kDEKbUBdUjY80lz7cq9l0vm1h/7ppejPV6O0ZTqCLrYspssYvqjRmK4aNnJ/SKXsP0rg9LYX7zpegaA==
            }

    '@dfinity/identity-secp256k1@3.3.1':
        resolution:
            {
                integrity: sha512-rGgcCm9wLQkxuluPdfPcl1P/KrwehLmjVIXc1lEPE01C0H2YK4bofxYrxCnHQQl8a8Ioc1dkpOl7TBUtXTkKHw==
            }
        peerDependencies:
            '@dfinity/candid': 3.3.1
            '@noble/curves': ^1.9.2
            '@noble/hashes': ^1.8.0

    '@dfinity/identity@3.3.1':
        resolution:
            {
                integrity: sha512-c+Grr7Mc7RephqBzRpdtySDg1to9pitb0wakXSk8902yg3BVc5vAsmbA3S1WwriY8+AMB06Dy2IZl/9Hot/Yhw==
            }
        peerDependencies:
            '@dfinity/agent': 3.3.1
            '@dfinity/candid': 3.3.1
            '@dfinity/principal': 3.3.1
            '@noble/curves': ^1.9.2
            '@noble/hashes': ^1.8.0

    '@dfinity/principal@3.3.1':
        resolution:
            {
                integrity: sha512-UWloNRbDHSwVV/gec0CrtWm/cHODPgu+jgwn5iERheVwYCEp+yGXVIssUkJeN6wFxraqqCFcoBUvg7vtWM+GBg==
            }

    '@dimforge/rapier3d-compat@0.12.0':
        resolution:
            {
                integrity: sha512-uekIGetywIgopfD97oDL5PfeezkFpNhwlzlaEYNOA0N6ghdsOvh/HYjSMek5Q2O1PYvRSDFcqFVJl4r4ZBwOow==
            }

    '@emnapi/runtime@1.6.0':
        resolution:
            {
                integrity: sha512-obtUmAHTMjll499P+D9A3axeJFlhdjOWdKUNs/U6QIGT7V5RjcUW1xToAzjvmgTSQhDbYn/NwfTRoJcQ2rNBxA==
            }

    '@esbuild/aix-ppc64@0.21.5':
        resolution:
            {
                integrity: sha512-1SDgH6ZSPTlggy1yI6+Dbkiz8xzpHJEVAlF/AM1tHPLsf5STom9rwtjE4hKAF20FfXXNTFqEYXyJNWh1GiZedQ==
            }
        engines: { node: '>=12' }
        cpu: [ppc64]
        os: [aix]

    '@esbuild/android-arm64@0.21.5':
        resolution:
            {
                integrity: sha512-c0uX9VAUBQ7dTDCjq+wdyGLowMdtR/GoC2U5IYk/7D1H1JYC0qseD7+11iMP2mRLN9RcCMRcjC4YMclCzGwS/A==
            }
        engines: { node: '>=12' }
        cpu: [arm64]
        os: [android]

    '@esbuild/android-arm@0.21.5':
        resolution:
            {
                integrity: sha512-vCPvzSjpPHEi1siZdlvAlsPxXl7WbOVUBBAowWug4rJHb68Ox8KualB+1ocNvT5fjv6wpkX6o/iEpbDrf68zcg==
            }
        engines: { node: '>=12' }
        cpu: [arm]
        os: [android]

    '@esbuild/android-x64@0.21.5':
        resolution:
            {
                integrity: sha512-D7aPRUUNHRBwHxzxRvp856rjUHRFW1SdQATKXH2hqA0kAZb1hKmi02OpYRacl0TxIGz/ZmXWlbZgjwWYaCakTA==
            }
        engines: { node: '>=12' }
        cpu: [x64]
        os: [android]

    '@esbuild/darwin-arm64@0.21.5':
        resolution:
            {
                integrity: sha512-DwqXqZyuk5AiWWf3UfLiRDJ5EDd49zg6O9wclZ7kUMv2WRFr4HKjXp/5t8JZ11QbQfUS6/cRCKGwYhtNAY88kQ==
            }
        engines: { node: '>=12' }
        cpu: [arm64]
        os: [darwin]

    '@esbuild/darwin-x64@0.21.5':
        resolution:
            {
                integrity: sha512-se/JjF8NlmKVG4kNIuyWMV/22ZaerB+qaSi5MdrXtd6R08kvs2qCN4C09miupktDitvh8jRFflwGFBQcxZRjbw==
            }
        engines: { node: '>=12' }
        cpu: [x64]
        os: [darwin]

    '@esbuild/freebsd-arm64@0.21.5':
        resolution:
            {
                integrity: sha512-5JcRxxRDUJLX8JXp/wcBCy3pENnCgBR9bN6JsY4OmhfUtIHe3ZW0mawA7+RDAcMLrMIZaf03NlQiX9DGyB8h4g==
            }
        engines: { node: '>=12' }
        cpu: [arm64]
        os: [freebsd]

    '@esbuild/freebsd-x64@0.21.5':
        resolution:
            {
                integrity: sha512-J95kNBj1zkbMXtHVH29bBriQygMXqoVQOQYA+ISs0/2l3T9/kj42ow2mpqerRBxDJnmkUDCaQT/dfNXWX/ZZCQ==
            }
        engines: { node: '>=12' }
        cpu: [x64]
        os: [freebsd]

    '@esbuild/linux-arm64@0.21.5':
        resolution:
            {
                integrity: sha512-ibKvmyYzKsBeX8d8I7MH/TMfWDXBF3db4qM6sy+7re0YXya+K1cem3on9XgdT2EQGMu4hQyZhan7TeQ8XkGp4Q==
            }
        engines: { node: '>=12' }
        cpu: [arm64]
        os: [linux]

    '@esbuild/linux-arm@0.21.5':
        resolution:
            {
                integrity: sha512-bPb5AHZtbeNGjCKVZ9UGqGwo8EUu4cLq68E95A53KlxAPRmUyYv2D6F0uUI65XisGOL1hBP5mTronbgo+0bFcA==
            }
        engines: { node: '>=12' }
        cpu: [arm]
        os: [linux]

    '@esbuild/linux-ia32@0.21.5':
        resolution:
            {
                integrity: sha512-YvjXDqLRqPDl2dvRODYmmhz4rPeVKYvppfGYKSNGdyZkA01046pLWyRKKI3ax8fbJoK5QbxblURkwK/MWY18Tg==
            }
        engines: { node: '>=12' }
        cpu: [ia32]
        os: [linux]

    '@esbuild/linux-loong64@0.21.5':
        resolution:
            {
                integrity: sha512-uHf1BmMG8qEvzdrzAqg2SIG/02+4/DHB6a9Kbya0XDvwDEKCoC8ZRWI5JJvNdUjtciBGFQ5PuBlpEOXQj+JQSg==
            }
        engines: { node: '>=12' }
        cpu: [loong64]
        os: [linux]

    '@esbuild/linux-mips64el@0.21.5':
        resolution:
            {
                integrity: sha512-IajOmO+KJK23bj52dFSNCMsz1QP1DqM6cwLUv3W1QwyxkyIWecfafnI555fvSGqEKwjMXVLokcV5ygHW5b3Jbg==
            }
        engines: { node: '>=12' }
        cpu: [mips64el]
        os: [linux]

    '@esbuild/linux-ppc64@0.21.5':
        resolution:
            {
                integrity: sha512-1hHV/Z4OEfMwpLO8rp7CvlhBDnjsC3CttJXIhBi+5Aj5r+MBvy4egg7wCbe//hSsT+RvDAG7s81tAvpL2XAE4w==
            }
        engines: { node: '>=12' }
        cpu: [ppc64]
        os: [linux]

    '@esbuild/linux-riscv64@0.21.5':
        resolution:
            {
                integrity: sha512-2HdXDMd9GMgTGrPWnJzP2ALSokE/0O5HhTUvWIbD3YdjME8JwvSCnNGBnTThKGEB91OZhzrJ4qIIxk/SBmyDDA==
            }
        engines: { node: '>=12' }
        cpu: [riscv64]
        os: [linux]

    '@esbuild/linux-s390x@0.21.5':
        resolution:
            {
                integrity: sha512-zus5sxzqBJD3eXxwvjN1yQkRepANgxE9lgOW2qLnmr8ikMTphkjgXu1HR01K4FJg8h1kEEDAqDcZQtbrRnB41A==
            }
        engines: { node: '>=12' }
        cpu: [s390x]
        os: [linux]

    '@esbuild/linux-x64@0.21.5':
        resolution:
            {
                integrity: sha512-1rYdTpyv03iycF1+BhzrzQJCdOuAOtaqHTWJZCWvijKD2N5Xu0TtVC8/+1faWqcP9iBCWOmjmhoH94dH82BxPQ==
            }
        engines: { node: '>=12' }
        cpu: [x64]
        os: [linux]

    '@esbuild/netbsd-x64@0.21.5':
        resolution:
            {
                integrity: sha512-Woi2MXzXjMULccIwMnLciyZH4nCIMpWQAs049KEeMvOcNADVxo0UBIQPfSmxB3CWKedngg7sWZdLvLczpe0tLg==
            }
        engines: { node: '>=12' }
        cpu: [x64]
        os: [netbsd]

    '@esbuild/openbsd-x64@0.21.5':
        resolution:
            {
                integrity: sha512-HLNNw99xsvx12lFBUwoT8EVCsSvRNDVxNpjZ7bPn947b8gJPzeHWyNVhFsaerc0n3TsbOINvRP2byTZ5LKezow==
            }
        engines: { node: '>=12' }
        cpu: [x64]
        os: [openbsd]

    '@esbuild/sunos-x64@0.21.5':
        resolution:
            {
                integrity: sha512-6+gjmFpfy0BHU5Tpptkuh8+uw3mnrvgs+dSPQXQOv3ekbordwnzTVEb4qnIvQcYXq6gzkyTnoZ9dZG+D4garKg==
            }
        engines: { node: '>=12' }
        cpu: [x64]
        os: [sunos]

    '@esbuild/win32-arm64@0.21.5':
        resolution:
            {
                integrity: sha512-Z0gOTd75VvXqyq7nsl93zwahcTROgqvuAcYDUr+vOv8uHhNSKROyU961kgtCD1e95IqPKSQKH7tBTslnS3tA8A==
            }
        engines: { node: '>=12' }
        cpu: [arm64]
        os: [win32]

    '@esbuild/win32-ia32@0.21.5':
        resolution:
            {
                integrity: sha512-SWXFF1CL2RVNMaVs+BBClwtfZSvDgtL//G/smwAc5oVK/UPu2Gu9tIaRgFmYFFKrmg3SyAjSrElf0TiJ1v8fYA==
            }
        engines: { node: '>=12' }
        cpu: [ia32]
        os: [win32]

    '@esbuild/win32-x64@0.21.5':
        resolution:
            {
                integrity: sha512-tQd/1efJuzPC6rCFwEvLtci/xNFcTZknmXs98FYDfGE4wP9ClFV98nyKrzJKVPMhdDnjzLhdUyMX4PsQAPjwIw==
            }
        engines: { node: '>=12' }
        cpu: [x64]
        os: [win32]

    '@eslint-community/eslint-utils@4.9.0':
        resolution:
            {
                integrity: sha512-ayVFHdtZ+hsq1t2Dy24wCmGXGe4q9Gu3smhLYALJrr473ZH27MsnSL+LKUlimp4BWJqMDMLmPpx/Q9R3OAlL4g==
            }
        engines: { node: ^12.22.0 || ^14.17.0 || >=16.0.0 }
        peerDependencies:
            eslint: ^6.0.0 || ^7.0.0 || >=8.0.0

    '@eslint-community/regexpp@4.12.2':
        resolution:
            {
                integrity: sha512-EriSTlt5OC9/7SXkRSCAhfSxxoSUgBm33OH+IkwbdpgoqsSsUg7y3uh+IICI/Qg4BBWr3U2i39RpmycbxMq4ew==
            }
        engines: { node: ^12.0.0 || ^14.0.0 || >=16.0.0 }

    '@eslint/config-array@0.20.1':
        resolution:
            {
                integrity: sha512-OL0RJzC/CBzli0DrrR31qzj6d6i6Mm3HByuhflhl4LOBiWxN+3i6/t/ZQQNii4tjksXi8r2CRW1wMpWA2ULUEw==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@eslint/config-helpers@0.2.3':
        resolution:
            {
                integrity: sha512-u180qk2Um1le4yf0ruXH3PYFeEZeYC3p/4wCTKrr2U1CmGdzGi3KtY0nuPDH48UJxlKCC5RDzbcbh4X0XlqgHg==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@eslint/core@0.14.0':
        resolution:
            {
                integrity: sha512-qIbV0/JZr7iSDjqAc60IqbLdsj9GDt16xQtWD+B78d/HAlvysGdZZ6rpJHGAc2T0FQx1X6thsSPdnoiGKdNtdg==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@eslint/core@0.15.2':
        resolution:
            {
                integrity: sha512-78Md3/Rrxh83gCxoUc0EiciuOHsIITzLy53m3d9UyiW8y9Dj2D29FeETqyKA+BRK76tnTp6RXWb3pCay8Oyomg==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@eslint/eslintrc@2.1.4':
        resolution:
            {
                integrity: sha512-269Z39MS6wVJtsoUl10L60WdkhJVdPG24Q4eZTH3nnF6lpvSShEK3wQjDX9JRWAUPvPh7COouPpU9IrqaZFvtQ==
            }
        engines: { node: ^12.22.0 || ^14.17.0 || >=16.0.0 }

    '@eslint/eslintrc@3.3.1':
        resolution:
            {
                integrity: sha512-gtF186CXhIl1p4pJNGZw8Yc6RlshoePRvE0X91oPGb3vZ8pM3qOS9W9NGPat9LziaBV7XrJWGylNQXkGcnM3IQ==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@eslint/js@8.57.1':
        resolution:
            {
                integrity: sha512-d9zaMRSTIKDLhctzH12MtXvJKSSUhaHcjV+2Z+GK+EEY7XKpP5yR4x+N3TAcHTcu963nIr+TMcCb4DBCYX1z6Q==
            }
        engines: { node: ^12.22.0 || ^14.17.0 || >=16.0.0 }

    '@eslint/js@9.27.0':
        resolution:
            {
                integrity: sha512-G5JD9Tu5HJEu4z2Uo4aHY2sLV64B7CDMXxFzqzjl3NKd6RVzSXNoE80jk7Y0lJkTTkjiIhBAqmlYwjuBY3tvpA==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@eslint/object-schema@2.1.7':
        resolution:
            {
                integrity: sha512-VtAOaymWVfZcmZbp6E2mympDIHvyjXs/12LqWYjVw6qjrfF+VK+fyG33kChz3nnK+SU5/NeHOqrTEHS8sXO3OA==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@eslint/plugin-kit@0.3.5':
        resolution:
            {
                integrity: sha512-Z5kJ+wU3oA7MMIqVR9tyZRtjYPr4OC004Q4Rw7pgOKUOKkJfZ3O24nz3WYfGRpMDNmcOi3TwQOmgm7B7Tpii0w==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@floating-ui/core@1.7.3':
        resolution:
            {
                integrity: sha512-sGnvb5dmrJaKEZ+LDIpguvdX3bDlEllmv4/ClQ9awcmCZrlx5jQyyMWFM5kBI+EyNOCDDiKk8il0zeuX3Zlg/w==
            }

    '@floating-ui/dom@1.7.4':
        resolution:
            {
                integrity: sha512-OOchDgh4F2CchOX94cRVqhvy7b3AFb+/rQXyswmzmGakRfkMgoWVjfnLWkRirfLEfuD4ysVW16eXzwt3jHIzKA==
            }

    '@floating-ui/react-dom@2.1.6':
        resolution:
            {
                integrity: sha512-4JX6rEatQEvlmgU80wZyq9RT96HZJa88q8hp0pBd+LrczeDI4o6uA2M+uvxngVHo4Ihr8uibXxH6+70zhAFrVw==
            }
        peerDependencies:
            react: '>=16.8.0'
            react-dom: '>=16.8.0'

    '@floating-ui/utils@0.2.10':
        resolution:
            {
                integrity: sha512-aGTxbpbg8/b5JfU1HXSrbH3wXZuLPJcNEcZQFMxLs3oSzgtVu6nFPkbbGGUvBcUjKV2YyB9Wxxabo+HEH9tcRQ==
            }

    '@humanfs/core@0.19.1':
        resolution:
            {
                integrity: sha512-5DyQ4+1JEUzejeK1JGICcideyfUbGixgS9jNgex5nqkW+cY7WZhxBigmieN5Qnw9ZosSNVC9KQKyb+GUaGyKUA==
            }
        engines: { node: '>=18.18.0' }

    '@humanfs/node@0.16.7':
        resolution:
            {
                integrity: sha512-/zUx+yOsIrG4Y43Eh2peDeKCxlRt/gET6aHfaKpuq267qXdYDFViVHfMaLyygZOnl0kGWxFIgsBy8QFuTLUXEQ==
            }
        engines: { node: '>=18.18.0' }

    '@humanwhocodes/config-array@0.13.0':
        resolution:
            {
                integrity: sha512-DZLEEqFWQFiyK6h5YIeynKx7JlvCYWL0cImfSRXZ9l4Sg2efkFGTuFf6vzXjK1cq6IYkU+Eg/JizXw+TD2vRNw==
            }
        engines: { node: '>=10.10.0' }
        deprecated: Use @eslint/config-array instead

    '@humanwhocodes/module-importer@1.0.1':
        resolution:
            {
                integrity: sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==
            }
        engines: { node: '>=12.22' }

    '@humanwhocodes/object-schema@2.0.3':
        resolution:
            {
                integrity: sha512-93zYdMES/c1D69yZiKDBj0V24vqNzB/koF26KPaagAfd3P/4gUlh3Dys5ogAK+Exi9QyzlD8x/08Zt7wIKcDcA==
            }
        deprecated: Use @eslint/object-schema instead

    '@humanwhocodes/retry@0.4.3':
        resolution:
            {
                integrity: sha512-bV0Tgo9K4hfPCek+aMAn81RppFKv2ySDQeMoSZuvTASywNTnVJCArCZE2FWqpvIatKu7VMRLWlR1EazvVhDyhQ==
            }
        engines: { node: '>=18.18' }

    '@icp-sdk/core@4.1.1':
        resolution:
            {
                integrity: sha512-IYWsRauSvmr3M3T85FPaRM9lhuIumavhmJVG69tiYYqQmayAt0X0veKSevO+vm9nzmymriYCOwXqi57NqYhufA==
            }
        peerDependencies:
            '@dfinity/agent': 3.3.1
            '@dfinity/candid': 3.3.1
            '@dfinity/identity': 3.3.1
            '@dfinity/identity-secp256k1': 3.3.1
            '@dfinity/principal': 3.3.1

    '@img/colour@1.0.0':
        resolution:
            {
                integrity: sha512-A5P/LfWGFSl6nsckYtjw9da+19jB8hkJ6ACTGcDfEJ0aE+l2n2El7dsVM7UVHZQ9s2lmYMWlrS21YLy2IR1LUw==
            }
        engines: { node: '>=18' }

    '@img/sharp-darwin-arm64@0.34.4':
        resolution:
            {
                integrity: sha512-sitdlPzDVyvmINUdJle3TNHl+AG9QcwiAMsXmccqsCOMZNIdW2/7S26w0LyU8euiLVzFBL3dXPwVCq/ODnf2vA==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [arm64]
        os: [darwin]

    '@img/sharp-darwin-x64@0.34.4':
        resolution:
            {
                integrity: sha512-rZheupWIoa3+SOdF/IcUe1ah4ZDpKBGWcsPX6MT0lYniH9micvIU7HQkYTfrx5Xi8u+YqwLtxC/3vl8TQN6rMg==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [x64]
        os: [darwin]

    '@img/sharp-libvips-darwin-arm64@1.2.3':
        resolution:
            {
                integrity: sha512-QzWAKo7kpHxbuHqUC28DZ9pIKpSi2ts2OJnoIGI26+HMgq92ZZ4vk8iJd4XsxN+tYfNJxzH6W62X5eTcsBymHw==
            }
        cpu: [arm64]
        os: [darwin]

    '@img/sharp-libvips-darwin-x64@1.2.3':
        resolution:
            {
                integrity: sha512-Ju+g2xn1E2AKO6YBhxjj+ACcsPQRHT0bhpglxcEf+3uyPY+/gL8veniKoo96335ZaPo03bdDXMv0t+BBFAbmRA==
            }
        cpu: [x64]
        os: [darwin]

    '@img/sharp-libvips-linux-arm64@1.2.3':
        resolution:
            {
                integrity: sha512-I4RxkXU90cpufazhGPyVujYwfIm9Nk1QDEmiIsaPwdnm013F7RIceaCc87kAH+oUB1ezqEvC6ga4m7MSlqsJvQ==
            }
        cpu: [arm64]
        os: [linux]

    '@img/sharp-libvips-linux-arm@1.2.3':
        resolution:
            {
                integrity: sha512-x1uE93lyP6wEwGvgAIV0gP6zmaL/a0tGzJs/BIDDG0zeBhMnuUPm7ptxGhUbcGs4okDJrk4nxgrmxpib9g6HpA==
            }
        cpu: [arm]
        os: [linux]

    '@img/sharp-libvips-linux-ppc64@1.2.3':
        resolution:
            {
                integrity: sha512-Y2T7IsQvJLMCBM+pmPbM3bKT/yYJvVtLJGfCs4Sp95SjvnFIjynbjzsa7dY1fRJX45FTSfDksbTp6AGWudiyCg==
            }
        cpu: [ppc64]
        os: [linux]

    '@img/sharp-libvips-linux-s390x@1.2.3':
        resolution:
            {
                integrity: sha512-RgWrs/gVU7f+K7P+KeHFaBAJlNkD1nIZuVXdQv6S+fNA6syCcoboNjsV2Pou7zNlVdNQoQUpQTk8SWDHUA3y/w==
            }
        cpu: [s390x]
        os: [linux]

    '@img/sharp-libvips-linux-x64@1.2.3':
        resolution:
            {
                integrity: sha512-3JU7LmR85K6bBiRzSUc/Ff9JBVIFVvq6bomKE0e63UXGeRw2HPVEjoJke1Yx+iU4rL7/7kUjES4dZ/81Qjhyxg==
            }
        cpu: [x64]
        os: [linux]

    '@img/sharp-libvips-linuxmusl-arm64@1.2.3':
        resolution:
            {
                integrity: sha512-F9q83RZ8yaCwENw1GieztSfj5msz7GGykG/BA+MOUefvER69K/ubgFHNeSyUu64amHIYKGDs4sRCMzXVj8sEyw==
            }
        cpu: [arm64]
        os: [linux]

    '@img/sharp-libvips-linuxmusl-x64@1.2.3':
        resolution:
            {
                integrity: sha512-U5PUY5jbc45ANM6tSJpsgqmBF/VsL6LnxJmIf11kB7J5DctHgqm0SkuXzVWtIY90GnJxKnC/JT251TDnk1fu/g==
            }
        cpu: [x64]
        os: [linux]

    '@img/sharp-linux-arm64@0.34.4':
        resolution:
            {
                integrity: sha512-YXU1F/mN/Wu786tl72CyJjP/Ngl8mGHN1hST4BGl+hiW5jhCnV2uRVTNOcaYPs73NeT/H8Upm3y9582JVuZHrQ==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [arm64]
        os: [linux]

    '@img/sharp-linux-arm@0.34.4':
        resolution:
            {
                integrity: sha512-Xyam4mlqM0KkTHYVSuc6wXRmM7LGN0P12li03jAnZ3EJWZqj83+hi8Y9UxZUbxsgsK1qOEwg7O0Bc0LjqQVtxA==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [arm]
        os: [linux]

    '@img/sharp-linux-ppc64@0.34.4':
        resolution:
            {
                integrity: sha512-F4PDtF4Cy8L8hXA2p3TO6s4aDt93v+LKmpcYFLAVdkkD3hSxZzee0rh6/+94FpAynsuMpLX5h+LRsSG3rIciUQ==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [ppc64]
        os: [linux]

    '@img/sharp-linux-s390x@0.34.4':
        resolution:
            {
                integrity: sha512-qVrZKE9Bsnzy+myf7lFKvng6bQzhNUAYcVORq2P7bDlvmF6u2sCmK2KyEQEBdYk+u3T01pVsPrkj943T1aJAsw==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [s390x]
        os: [linux]

    '@img/sharp-linux-x64@0.34.4':
        resolution:
            {
                integrity: sha512-ZfGtcp2xS51iG79c6Vhw9CWqQC8l2Ot8dygxoDoIQPTat/Ov3qAa8qpxSrtAEAJW+UjTXc4yxCjNfxm4h6Xm2A==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [x64]
        os: [linux]

    '@img/sharp-linuxmusl-arm64@0.34.4':
        resolution:
            {
                integrity: sha512-8hDVvW9eu4yHWnjaOOR8kHVrew1iIX+MUgwxSuH2XyYeNRtLUe4VNioSqbNkB7ZYQJj9rUTT4PyRscyk2PXFKA==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [arm64]
        os: [linux]

    '@img/sharp-linuxmusl-x64@0.34.4':
        resolution:
            {
                integrity: sha512-lU0aA5L8QTlfKjpDCEFOZsTYGn3AEiO6db8W5aQDxj0nQkVrZWmN3ZP9sYKWJdtq3PWPhUNlqehWyXpYDcI9Sg==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [x64]
        os: [linux]

    '@img/sharp-wasm32@0.34.4':
        resolution:
            {
                integrity: sha512-33QL6ZO/qpRyG7woB/HUALz28WnTMI2W1jgX3Nu2bypqLIKx/QKMILLJzJjI+SIbvXdG9fUnmrxR7vbi1sTBeA==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [wasm32]

    '@img/sharp-win32-arm64@0.34.4':
        resolution:
            {
                integrity: sha512-2Q250do/5WXTwxW3zjsEuMSv5sUU4Tq9VThWKlU2EYLm4MB7ZeMwF+SFJutldYODXF6jzc6YEOC+VfX0SZQPqA==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [arm64]
        os: [win32]

    '@img/sharp-win32-ia32@0.34.4':
        resolution:
            {
                integrity: sha512-3ZeLue5V82dT92CNL6rsal6I2weKw1cYu+rGKm8fOCCtJTR2gYeUfY3FqUnIJsMUPIH68oS5jmZ0NiJ508YpEw==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [ia32]
        os: [win32]

    '@img/sharp-win32-x64@0.34.4':
        resolution:
            {
                integrity: sha512-xIyj4wpYs8J18sVN3mSQjwrw7fKUqRw+Z5rnHNCy5fYTxigBz81u5mOMPmFumwjcn8+ld1ppptMBCLic1nz6ig==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }
        cpu: [x64]
        os: [win32]

    '@isaacs/cliui@8.0.2':
        resolution:
            {
                integrity: sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==
            }
        engines: { node: '>=12' }

    '@jridgewell/gen-mapping@0.3.13':
        resolution:
            {
                integrity: sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==
            }

    '@jridgewell/remapping@2.3.5':
        resolution:
            {
                integrity: sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==
            }

    '@jridgewell/resolve-uri@3.1.2':
        resolution:
            {
                integrity: sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==
            }
        engines: { node: '>=6.0.0' }

    '@jridgewell/sourcemap-codec@1.5.5':
        resolution:
            {
                integrity: sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==
            }

    '@jridgewell/trace-mapping@0.3.31':
        resolution:
            {
                integrity: sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw==
            }

    '@mediapipe/tasks-vision@0.10.17':
        resolution:
            {
                integrity: sha512-CZWV/q6TTe8ta61cZXjfnnHsfWIdFhms03M9T7Cnd5y2mdpylJM0rF1qRq+wsQVRMLz1OYPVEBU9ph2Bx8cxrg==
            }

    '@monogrid/gainmap-js@3.1.0':
        resolution:
            {
                integrity: sha512-Obb0/gEd/HReTlg8ttaYk+0m62gQJmCblMOjHSMHRrBP2zdfKMHLCRbh/6ex9fSUJMKdjjIEiohwkbGD3wj2Nw==
            }
        peerDependencies:
            three: '>= 0.159.0'

    '@noble/curves@1.9.7':
        resolution:
            {
                integrity: sha512-gbKGcRUYIjA3/zCCNaWDciTMFI0dCkvou3TL8Zmy5Nc7sJ47a0jtOeZoTaMxkuqRo9cRhjOdZJXegxYE5FN/xw==
            }
        engines: { node: ^14.21.3 || >=16 }

    '@noble/hashes@1.8.0':
        resolution:
            {
                integrity: sha512-jCs9ldd7NwzpgXDIf6P3+NrHh9/sD6CQdxHyjQI+h/6rDNo88ypBxxz45UDuZHz9r3tNz7N/VInSVoVdtXEI4A==
            }
        engines: { node: ^14.21.3 || >=16 }

    '@nodelib/fs.scandir@2.1.5':
        resolution:
            {
                integrity: sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==
            }
        engines: { node: '>= 8' }

    '@nodelib/fs.stat@2.0.5':
        resolution:
            {
                integrity: sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==
            }
        engines: { node: '>= 8' }

    '@nodelib/fs.walk@1.2.8':
        resolution:
            {
                integrity: sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==
            }
        engines: { node: '>= 8' }

    '@pkgjs/parseargs@0.11.0':
        resolution:
            {
                integrity: sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==
            }
        engines: { node: '>=14' }

    '@pmndrs/cannon-worker-api@2.4.0':
        resolution:
            {
                integrity: sha512-oJA1Bboc+WObksRaGDKJG0Wna9Q75xi1MdXVAZ9qXzBOyPsadmAnrmiKOEF0R8v/4zsuJElvscNZmyo3msbZjA==
            }
        peerDependencies:
            three: '>=0.139'

    '@radix-ui/number@1.1.1':
        resolution:
            {
                integrity: sha512-MkKCwxlXTgz6CFoJx3pCwn07GKp36+aZyu/u2Ln2VrA5DcdyCZkASEDBTd8x5whTQQL5CiYf4prXKLcgQdv29g==
            }

    '@radix-ui/primitive@1.1.3':
        resolution:
            {
                integrity: sha512-JTF99U/6XIjCBo0wqkU5sK10glYe27MRRsfwoiq5zzOEZLHU3A3KCMa5X/azekYRCJ0HlwI0crAXS/5dEHTzDg==
            }

    '@radix-ui/react-accordion@1.2.12':
        resolution:
            {
                integrity: sha512-T4nygeh9YE9dLRPhAHSeOZi7HBXo+0kYIPJXayZfvWOWA0+n3dESrZbjfDPUABkUNym6Hd+f2IR113To8D2GPA==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-alert-dialog@1.1.15':
        resolution:
            {
                integrity: sha512-oTVLkEw5GpdRe29BqJ0LSDFWI3qu0vR1M0mUkOQWDIUnY/QIkLpgDMWuKxP94c2NAC2LGcgVhG1ImF3jkZ5wXw==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-arrow@1.1.7':
        resolution:
            {
                integrity: sha512-F+M1tLhO+mlQaOWspE8Wstg+z6PwxwRd8oQ8IXceWz92kfAmalTRf0EjrouQeo7QssEPfCn05B4Ihs1K9WQ/7w==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-aspect-ratio@1.1.7':
        resolution:
            {
                integrity: sha512-Yq6lvO9HQyPwev1onK1daHCHqXVLzPhSVjmsNjCa2Zcxy2f7uJD2itDtxknv6FzAKCwD1qQkeVDmX/cev13n/g==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-avatar@1.1.10':
        resolution:
            {
                integrity: sha512-V8piFfWapM5OmNCXTzVQY+E1rDa53zY+MQ4Y7356v4fFz6vqCyUtIz2rUD44ZEdwg78/jKmMJHj07+C/Z/rcog==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-checkbox@1.3.3':
        resolution:
            {
                integrity: sha512-wBbpv+NQftHDdG86Qc0pIyXk5IR3tM8Vd0nWLKDcX8nNn4nXFOFwsKuqw2okA/1D/mpaAkmuyndrPJTYDNZtFw==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-collapsible@1.1.12':
        resolution:
            {
                integrity: sha512-Uu+mSh4agx2ib1uIGPP4/CKNULyajb3p92LsVXmH2EHVMTfZWpll88XJ0j4W0z3f8NK1eYl1+Mf/szHPmcHzyA==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-collection@1.1.7':
        resolution:
            {
                integrity: sha512-Fh9rGN0MoI4ZFUNyfFVNU4y9LUz93u9/0K+yLgA2bwRojxM8JU1DyvvMBabnZPBgMWREAJvU2jjVzq+LrFUglw==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-compose-refs@1.1.2':
        resolution:
            {
                integrity: sha512-z4eqJvfiNnFMHIIvXP3CY57y2WJs5g2v3X0zm9mEJkrkNv4rDxu+sg9Jh8EkXyeqBkB7SOcboo9dMVqhyrACIg==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-context-menu@2.2.16':
        resolution:
            {
                integrity: sha512-O8morBEW+HsVG28gYDZPTrT9UUovQUlJue5YO836tiTJhuIWBm/zQHc7j388sHWtdH/xUZurK9olD2+pcqx5ww==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-context@1.1.2':
        resolution:
            {
                integrity: sha512-jCi/QKUM2r1Ju5a3J64TH2A5SpKAgh0LpknyqdQ4m6DCV0xJ2HG1xARRwNGPQfi1SLdLWZ1OJz6F4OMBBNiGJA==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-dialog@1.1.15':
        resolution:
            {
                integrity: sha512-TCglVRtzlffRNxRMEyR36DGBLJpeusFcgMVD9PZEzAKnUs1lKCgX5u9BmC2Yg+LL9MgZDugFFs1Vl+Jp4t/PGw==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-direction@1.1.1':
        resolution:
            {
                integrity: sha512-1UEWRX6jnOA2y4H5WczZ44gOOjTEmlqv1uNW4GAJEO5+bauCBhv8snY65Iw5/VOS/ghKN9gr2KjnLKxrsvoMVw==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-dismissable-layer@1.1.11':
        resolution:
            {
                integrity: sha512-Nqcp+t5cTB8BinFkZgXiMJniQH0PsUt2k51FUhbdfeKvc4ACcG2uQniY/8+h1Yv6Kza4Q7lD7PQV0z0oicE0Mg==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-dropdown-menu@2.1.16':
        resolution:
            {
                integrity: sha512-1PLGQEynI/3OX/ftV54COn+3Sud/Mn8vALg2rWnBLnRaGtJDduNW/22XjlGgPdpcIbiQxjKtb7BkcjP00nqfJw==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-focus-guards@1.1.3':
        resolution:
            {
                integrity: sha512-0rFg/Rj2Q62NCm62jZw0QX7a3sz6QCQU0LpZdNrJX8byRGaGVTqbrW9jAoIAHyMQqsNpeZ81YgSizOt5WXq0Pw==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-focus-scope@1.1.7':
        resolution:
            {
                integrity: sha512-t2ODlkXBQyn7jkl6TNaw/MtVEVvIGelJDCG41Okq/KwUsJBwQ4XVZsHAVUkK4mBv3ewiAS3PGuUWuY2BoK4ZUw==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-hover-card@1.1.15':
        resolution:
            {
                integrity: sha512-qgTkjNT1CfKMoP0rcasmlH2r1DAiYicWsDsufxl940sT2wHNEWWv6FMWIQXWhVdmC1d/HYfbhQx60KYyAtKxjg==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-id@1.1.1':
        resolution:
            {
                integrity: sha512-kGkGegYIdQsOb4XjsfM97rXsiHaBwco+hFI66oO4s9LU+PLAC5oJ7khdOVFxkhsmlbpUqDAvXw11CluXP+jkHg==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-label@2.1.7':
        resolution:
            {
                integrity: sha512-YT1GqPSL8kJn20djelMX7/cTRp/Y9w5IZHvfxQTVHrOqa2yMl7i/UfMqKRU5V7mEyKTrUVgJXhNQPVCG8PBLoQ==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-menu@2.1.16':
        resolution:
            {
                integrity: sha512-72F2T+PLlphrqLcAotYPp0uJMr5SjP5SL01wfEspJbru5Zs5vQaSHb4VB3ZMJPimgHHCHG7gMOeOB9H3Hdmtxg==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-menubar@1.1.16':
        resolution:
            {
                integrity: sha512-EB1FktTz5xRRi2Er974AUQZWg2yVBb1yjip38/lgwtCVRd3a+maUoGHN/xs9Yv8SY8QwbSEb+YrxGadVWbEutA==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-navigation-menu@1.2.14':
        resolution:
            {
                integrity: sha512-YB9mTFQvCOAQMHU+C/jVl96WmuWeltyUEpRJJky51huhds5W2FQr1J8D/16sQlf0ozxkPK8uF3niQMdUwZPv5w==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-popover@1.1.15':
        resolution:
            {
                integrity: sha512-kr0X2+6Yy/vJzLYJUPCZEc8SfQcf+1COFoAqauJm74umQhta9M7lNJHP7QQS3vkvcGLQUbWpMzwrXYwrYztHKA==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-popper@1.2.8':
        resolution:
            {
                integrity: sha512-0NJQ4LFFUuWkE7Oxf0htBKS6zLkkjBH+hM1uk7Ng705ReR8m/uelduy1DBo0PyBXPKVnBA6YBlU94MBGXrSBCw==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-portal@1.1.9':
        resolution:
            {
                integrity: sha512-bpIxvq03if6UNwXZ+HTK71JLh4APvnXntDc6XOX8UVq4XQOVl7lwok0AvIl+b8zgCw3fSaVTZMpAPPagXbKmHQ==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-presence@1.1.5':
        resolution:
            {
                integrity: sha512-/jfEwNDdQVBCNvjkGit4h6pMOzq8bHkopq458dPt2lMjx+eBQUohZNG9A7DtO/O5ukSbxuaNGXMjHicgwy6rQQ==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-primitive@2.1.3':
        resolution:
            {
                integrity: sha512-m9gTwRkhy2lvCPe6QJp4d3G1TYEUHn/FzJUtq9MjH46an1wJU+GdoGC5VLof8RX8Ft/DlpshApkhswDLZzHIcQ==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-progress@1.1.7':
        resolution:
            {
                integrity: sha512-vPdg/tF6YC/ynuBIJlk1mm7Le0VgW6ub6J2UWnTQ7/D23KXcPI1qy+0vBkgKgd38RCMJavBXpB83HPNFMTb0Fg==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-radio-group@1.3.8':
        resolution:
            {
                integrity: sha512-VBKYIYImA5zsxACdisNQ3BjCBfmbGH3kQlnFVqlWU4tXwjy7cGX8ta80BcrO+WJXIn5iBylEH3K6ZTlee//lgQ==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-roving-focus@1.1.11':
        resolution:
            {
                integrity: sha512-7A6S9jSgm/S+7MdtNDSb+IU859vQqJ/QAtcYQcfFC6W8RS4IxIZDldLR0xqCFZ6DCyrQLjLPsxtTNch5jVA4lA==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-scroll-area@1.2.10':
        resolution:
            {
                integrity: sha512-tAXIa1g3sM5CGpVT0uIbUx/U3Gs5N8T52IICuCtObaos1S8fzsrPXG5WObkQN3S6NVl6wKgPhAIiBGbWnvc97A==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-select@2.2.6':
        resolution:
            {
                integrity: sha512-I30RydO+bnn2PQztvo25tswPH+wFBjehVGtmagkU78yMdwTwVf12wnAOF+AeP8S2N8xD+5UPbGhkUfPyvT+mwQ==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-separator@1.1.7':
        resolution:
            {
                integrity: sha512-0HEb8R9E8A+jZjvmFCy/J4xhbXy3TV+9XSnGJ3KvTtjlIUy/YQ/p6UYZvi7YbeoeXdyU9+Y3scizK6hkY37baA==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-slider@1.3.6':
        resolution:
            {
                integrity: sha512-JPYb1GuM1bxfjMRlNLE+BcmBC8onfCi60Blk7OBqi2MLTFdS+8401U4uFjnwkOr49BLmXxLC6JHkvAsx5OJvHw==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-slot@1.2.3':
        resolution:
            {
                integrity: sha512-aeNmHnBxbi2St0au6VBVC7JXFlhLlOnvIIlePNniyUNAClzmtAUEY8/pBiK3iHjufOlwA+c20/8jngo7xcrg8A==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-switch@1.2.6':
        resolution:
            {
                integrity: sha512-bByzr1+ep1zk4VubeEVViV592vu2lHE2BZY5OnzehZqOOgogN80+mNtCqPkhn2gklJqOpxWgPoYTSnhBCqpOXQ==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-tabs@1.1.13':
        resolution:
            {
                integrity: sha512-7xdcatg7/U+7+Udyoj2zodtI9H/IIopqo+YOIcZOq1nJwXWBZ9p8xiu5llXlekDbZkca79a/fozEYQXIA4sW6A==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-toggle-group@1.1.11':
        resolution:
            {
                integrity: sha512-5umnS0T8JQzQT6HbPyO7Hh9dgd82NmS36DQr+X/YJ9ctFNCiiQd6IJAYYZ33LUwm8M+taCz5t2ui29fHZc4Y6Q==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-toggle@1.1.10':
        resolution:
            {
                integrity: sha512-lS1odchhFTeZv3xwHH31YPObmJn8gOg7Lq12inrr0+BH/l3Tsq32VfjqH1oh80ARM3mlkfMic15n0kg4sD1poQ==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-tooltip@1.2.8':
        resolution:
            {
                integrity: sha512-tY7sVt1yL9ozIxvmbtN5qtmH2krXcBCfjEiCgKGLqunJHvgvZG2Pcl2oQ3kbcZARb1BGEHdkLzcYGO8ynVlieg==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/react-use-callback-ref@1.1.1':
        resolution:
            {
                integrity: sha512-FkBMwD+qbGQeMu1cOHnuGB6x4yzPjho8ap5WtbEJ26umhgqVXbhekKUQO+hZEL1vU92a3wHwdp0HAcqAUF5iDg==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-use-controllable-state@1.2.2':
        resolution:
            {
                integrity: sha512-BjasUjixPFdS+NKkypcyyN5Pmg83Olst0+c6vGov0diwTEo6mgdqVR6hxcEgFuh4QrAs7Rc+9KuGJ9TVCj0Zzg==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-use-effect-event@0.0.2':
        resolution:
            {
                integrity: sha512-Qp8WbZOBe+blgpuUT+lw2xheLP8q0oatc9UpmiemEICxGvFLYmHm9QowVZGHtJlGbS6A6yJ3iViad/2cVjnOiA==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-use-escape-keydown@1.1.1':
        resolution:
            {
                integrity: sha512-Il0+boE7w/XebUHyBjroE+DbByORGR9KKmITzbR7MyQ4akpORYP/ZmbhAr0DG7RmmBqoOnZdy2QlvajJ2QA59g==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-use-is-hydrated@0.1.0':
        resolution:
            {
                integrity: sha512-U+UORVEq+cTnRIaostJv9AGdV3G6Y+zbVd+12e18jQ5A3c0xL03IhnHuiU4UV69wolOQp5GfR58NW/EgdQhwOA==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-use-layout-effect@1.1.1':
        resolution:
            {
                integrity: sha512-RbJRS4UWQFkzHTTwVymMTUv8EqYhOp8dOOviLj2ugtTiXRaRQS7GLGxZTLL1jWhMeoSCf5zmcZkqTl9IiYfXcQ==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-use-previous@1.1.1':
        resolution:
            {
                integrity: sha512-2dHfToCj/pzca2Ck724OZ5L0EVrr3eHRNsG/b3xQJLA2hZpVCS99bLAX+hm1IHXDEnzU6by5z/5MIY794/a8NQ==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-use-rect@1.1.1':
        resolution:
            {
                integrity: sha512-QTYuDesS0VtuHNNvMh+CjlKJ4LJickCMUAqjlE3+j8w+RlRpwyX3apEQKGFzbZGdo7XNG1tXa+bQqIE7HIXT2w==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-use-size@1.1.1':
        resolution:
            {
                integrity: sha512-ewrXRDTAqAXlkl6t/fkXWNAhFX9I+CkKlw6zjEwk86RSPKwZr3xpBRso655aqYafwtnbpHLj6toFzmd6xdVptQ==
            }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    '@radix-ui/react-visually-hidden@1.2.3':
        resolution:
            {
                integrity: sha512-pzJq12tEaaIhqjbzpCuv/OypJY/BPavOofm+dbab+MHLajy277+1lLm6JFcGgF5eskJ6mquGirhXY2GD/8u8Ug==
            }
        peerDependencies:
            '@types/react': '*'
            '@types/react-dom': '*'
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true
            '@types/react-dom':
                optional: true

    '@radix-ui/rect@1.1.1':
        resolution:
            {
                integrity: sha512-HPwpGIzkl28mWyZqG52jiqDJ12waP11Pa1lGoiyUkIEuMLBP0oeK/C89esbXrxsky5we7dfd8U58nm0SgAWpVw==
            }

    '@react-three/cannon@6.6.0':
        resolution:
            {
                integrity: sha512-lP9rJoVHQi0w+dYF8FJAm2xr5eLfNEckb04j72kjqndUkuOPr26N4rSBhQbHl5b5N3tEnhQaIMungAvHkcY8/A==
            }
        peerDependencies:
            '@react-three/fiber': '>=8'
            react: '>=18'
            three: '>=0.139'

    '@react-three/drei@10.0.8':
        resolution:
            {
                integrity: sha512-ZE9LgtzMWutpfwrUYFM//kdInzkzWT/3keHdqNQ2s/+IBEuNHPII4QJTS6e8Ko2uYdL/mPeCRFcmEKFUNFrhBQ==
            }
        peerDependencies:
            '@react-three/fiber': ^9.0.0
            react: ^19
            react-dom: ^19
            three: '>=0.159'
        peerDependenciesMeta:
            react-dom:
                optional: true

    '@react-three/eslint-plugin@0.1.2':
        resolution:
            {
                integrity: sha512-jenNIhvt+/1fb3NDr3M5vwF06U9euX6kI2SuAFltVKdQP2nzUPY+zdati2Rd67ewAKn0jfljQWT7DWIe6siChg==
            }

    '@react-three/fiber@9.1.4':
        resolution:
            {
                integrity: sha512-Ugzs6n6YNORSa4hRZH1CKTd5DLTzwOvYjze+EZWS8iVDyeNQETnLzuke+MMEuXTqM8eAV/gyWgd27t/GR41oGA==
            }
        peerDependencies:
            expo: '>=43.0'
            expo-asset: '>=8.4'
            expo-file-system: '>=11.0'
            expo-gl: '>=11.0'
            react: ^19.0.0
            react-dom: ^19.0.0
            react-native: '>=0.78'
            three: '>=0.156'
        peerDependenciesMeta:
            expo:
                optional: true
            expo-asset:
                optional: true
            expo-file-system:
                optional: true
            expo-gl:
                optional: true
            react-dom:
                optional: true
            react-native:
                optional: true

    '@rolldown/pluginutils@1.0.0-beta.27':
        resolution:
            {
                integrity: sha512-+d0F4MKMCbeVUJwG96uQ4SgAznZNSq93I3V+9NHA4OpvqG8mRCpGdKmK8l/dl02h2CCDHwW2FqilnTyDcAnqjA==
            }

    '@rollup/rollup-android-arm-eabi@4.52.5':
        resolution:
            {
                integrity: sha512-8c1vW4ocv3UOMp9K+gToY5zL2XiiVw3k7f1ksf4yO1FlDFQ1C2u72iACFnSOceJFsWskc2WZNqeRhFRPzv+wtQ==
            }
        cpu: [arm]
        os: [android]

    '@rollup/rollup-android-arm64@4.52.5':
        resolution:
            {
                integrity: sha512-mQGfsIEFcu21mvqkEKKu2dYmtuSZOBMmAl5CFlPGLY94Vlcm+zWApK7F/eocsNzp8tKmbeBP8yXyAbx0XHsFNA==
            }
        cpu: [arm64]
        os: [android]

    '@rollup/rollup-darwin-arm64@4.52.5':
        resolution:
            {
                integrity: sha512-takF3CR71mCAGA+v794QUZ0b6ZSrgJkArC+gUiG6LB6TQty9T0Mqh3m2ImRBOxS2IeYBo4lKWIieSvnEk2OQWA==
            }
        cpu: [arm64]
        os: [darwin]

    '@rollup/rollup-darwin-x64@4.52.5':
        resolution:
            {
                integrity: sha512-W901Pla8Ya95WpxDn//VF9K9u2JbocwV/v75TE0YIHNTbhqUTv9w4VuQ9MaWlNOkkEfFwkdNhXgcLqPSmHy0fA==
            }
        cpu: [x64]
        os: [darwin]

    '@rollup/rollup-freebsd-arm64@4.52.5':
        resolution:
            {
                integrity: sha512-QofO7i7JycsYOWxe0GFqhLmF6l1TqBswJMvICnRUjqCx8b47MTo46W8AoeQwiokAx3zVryVnxtBMcGcnX12LvA==
            }
        cpu: [arm64]
        os: [freebsd]

    '@rollup/rollup-freebsd-x64@4.52.5':
        resolution:
            {
                integrity: sha512-jr21b/99ew8ujZubPo9skbrItHEIE50WdV86cdSoRkKtmWa+DDr6fu2c/xyRT0F/WazZpam6kk7IHBerSL7LDQ==
            }
        cpu: [x64]
        os: [freebsd]

    '@rollup/rollup-linux-arm-gnueabihf@4.52.5':
        resolution:
            {
                integrity: sha512-PsNAbcyv9CcecAUagQefwX8fQn9LQ4nZkpDboBOttmyffnInRy8R8dSg6hxxl2Re5QhHBf6FYIDhIj5v982ATQ==
            }
        cpu: [arm]
        os: [linux]

    '@rollup/rollup-linux-arm-musleabihf@4.52.5':
        resolution:
            {
                integrity: sha512-Fw4tysRutyQc/wwkmcyoqFtJhh0u31K+Q6jYjeicsGJJ7bbEq8LwPWV/w0cnzOqR2m694/Af6hpFayLJZkG2VQ==
            }
        cpu: [arm]
        os: [linux]

    '@rollup/rollup-linux-arm64-gnu@4.52.5':
        resolution:
            {
                integrity: sha512-a+3wVnAYdQClOTlyapKmyI6BLPAFYs0JM8HRpgYZQO02rMR09ZcV9LbQB+NL6sljzG38869YqThrRnfPMCDtZg==
            }
        cpu: [arm64]
        os: [linux]

    '@rollup/rollup-linux-arm64-musl@4.52.5':
        resolution:
            {
                integrity: sha512-AvttBOMwO9Pcuuf7m9PkC1PUIKsfaAJ4AYhy944qeTJgQOqJYJ9oVl2nYgY7Rk0mkbsuOpCAYSs6wLYB2Xiw0Q==
            }
        cpu: [arm64]
        os: [linux]

    '@rollup/rollup-linux-loong64-gnu@4.52.5':
        resolution:
            {
                integrity: sha512-DkDk8pmXQV2wVrF6oq5tONK6UHLz/XcEVow4JTTerdeV1uqPeHxwcg7aFsfnSm9L+OO8WJsWotKM2JJPMWrQtA==
            }
        cpu: [loong64]
        os: [linux]

    '@rollup/rollup-linux-ppc64-gnu@4.52.5':
        resolution:
            {
                integrity: sha512-W/b9ZN/U9+hPQVvlGwjzi+Wy4xdoH2I8EjaCkMvzpI7wJUs8sWJ03Rq96jRnHkSrcHTpQe8h5Tg3ZzUPGauvAw==
            }
        cpu: [ppc64]
        os: [linux]

    '@rollup/rollup-linux-riscv64-gnu@4.52.5':
        resolution:
            {
                integrity: sha512-sjQLr9BW7R/ZiXnQiWPkErNfLMkkWIoCz7YMn27HldKsADEKa5WYdobaa1hmN6slu9oWQbB6/jFpJ+P2IkVrmw==
            }
        cpu: [riscv64]
        os: [linux]

    '@rollup/rollup-linux-riscv64-musl@4.52.5':
        resolution:
            {
                integrity: sha512-hq3jU/kGyjXWTvAh2awn8oHroCbrPm8JqM7RUpKjalIRWWXE01CQOf/tUNWNHjmbMHg/hmNCwc/Pz3k1T/j/Lg==
            }
        cpu: [riscv64]
        os: [linux]

    '@rollup/rollup-linux-s390x-gnu@4.52.5':
        resolution:
            {
                integrity: sha512-gn8kHOrku8D4NGHMK1Y7NA7INQTRdVOntt1OCYypZPRt6skGbddska44K8iocdpxHTMMNui5oH4elPH4QOLrFQ==
            }
        cpu: [s390x]
        os: [linux]

    '@rollup/rollup-linux-x64-gnu@4.52.5':
        resolution:
            {
                integrity: sha512-hXGLYpdhiNElzN770+H2nlx+jRog8TyynpTVzdlc6bndktjKWyZyiCsuDAlpd+j+W+WNqfcyAWz9HxxIGfZm1Q==
            }
        cpu: [x64]
        os: [linux]

    '@rollup/rollup-linux-x64-musl@4.52.5':
        resolution:
            {
                integrity: sha512-arCGIcuNKjBoKAXD+y7XomR9gY6Mw7HnFBv5Rw7wQRvwYLR7gBAgV7Mb2QTyjXfTveBNFAtPt46/36vV9STLNg==
            }
        cpu: [x64]
        os: [linux]

    '@rollup/rollup-openharmony-arm64@4.52.5':
        resolution:
            {
                integrity: sha512-QoFqB6+/9Rly/RiPjaomPLmR/13cgkIGfA40LHly9zcH1S0bN2HVFYk3a1eAyHQyjs3ZJYlXvIGtcCs5tko9Cw==
            }
        cpu: [arm64]
        os: [openharmony]

    '@rollup/rollup-win32-arm64-msvc@4.52.5':
        resolution:
            {
                integrity: sha512-w0cDWVR6MlTstla1cIfOGyl8+qb93FlAVutcor14Gf5Md5ap5ySfQ7R9S/NjNaMLSFdUnKGEasmVnu3lCMqB7w==
            }
        cpu: [arm64]
        os: [win32]

    '@rollup/rollup-win32-ia32-msvc@4.52.5':
        resolution:
            {
                integrity: sha512-Aufdpzp7DpOTULJCuvzqcItSGDH73pF3ko/f+ckJhxQyHtp67rHw3HMNxoIdDMUITJESNE6a8uh4Lo4SLouOUg==
            }
        cpu: [ia32]
        os: [win32]

    '@rollup/rollup-win32-x64-gnu@4.52.5':
        resolution:
            {
                integrity: sha512-UGBUGPFp1vkj6p8wCRraqNhqwX/4kNQPS57BCFc8wYh0g94iVIW33wJtQAx3G7vrjjNtRaxiMUylM0ktp/TRSQ==
            }
        cpu: [x64]
        os: [win32]

    '@rollup/rollup-win32-x64-msvc@4.52.5':
        resolution:
            {
                integrity: sha512-TAcgQh2sSkykPRWLrdyy2AiceMckNf5loITqXxFI5VuQjS5tSuw3WlwdN8qv8vzjLAUTvYaH/mVjSFpbkFbpTg==
            }
        cpu: [x64]
        os: [win32]

    '@scure/base@1.2.6':
        resolution:
            {
                integrity: sha512-g/nm5FgUa//MCj1gV09zTJTaM6KBAHqLN907YVQqf7zC49+DcO4B1so4ZX07Ef10Twr6nuqYEH9GEggFXA4Fmg==
            }

    '@scure/bip32@1.7.0':
        resolution:
            {
                integrity: sha512-E4FFX/N3f4B80AKWp5dP6ow+flD1LQZo/w8UnLGYZO674jS6YnYeepycOOksv+vLPSpgN35wgKgy+ybfTb2SMw==
            }

    '@scure/bip39@1.6.0':
        resolution:
            {
                integrity: sha512-+lF0BbLiJNwVlev4eKelw1WWLaiKXw7sSl8T6FvBlWkdX+94aGJ4o8XjUdlyhTCjd8c+B3KT3JfS8P0bLRNU6A==
            }

    '@tailwindcss/container-queries@0.1.1':
        resolution:
            {
                integrity: sha512-p18dswChx6WnTSaJCSGx6lTmrGzNNvm2FtXmiO6AuA1V4U5REyoqwmT6kgAsIMdjo07QdAfYXHJ4hnMtfHzWgA==
            }
        peerDependencies:
            tailwindcss: '>=3.2.0'

    '@tailwindcss/typography@0.5.10':
        resolution:
            {
                integrity: sha512-Pe8BuPJQJd3FfRnm6H0ulKIGoMEQS+Vq01R6M5aCrFB/ccR/shT+0kXLjouGC1gFLm9hopTFN+DMP0pfwRWzPw==
            }
        peerDependencies:
            tailwindcss: '>=3.0.0 || insiders'

    '@tanstack/eslint-plugin-router@1.115.0':
        resolution:
            {
                integrity: sha512-vwKP9NjzAQ2nU3qADDoTSTxD1vNduLcK0312AWkXkicCWUZQZJtmRuZXPk9cEfuzDD2BAJCIUmlaF1K0vq4oRw==
            }
        peerDependencies:
            eslint: ^8.57.0 || ^9.0.0

    '@tanstack/history@1.131.2':
        resolution:
            {
                integrity: sha512-cs1WKawpXIe+vSTeiZUuSBy8JFjEuDgdMKZFRLKwQysKo8y2q6Q1HvS74Yw+m5IhOW1nTZooa6rlgdfXcgFAaw==
            }
        engines: { node: '>=12' }

    '@tanstack/query-core@5.90.5':
        resolution:
            {
                integrity: sha512-wLamYp7FaDq6ZnNehypKI5fNvxHPfTYylE0m/ZpuuzJfJqhR5Pxg9gvGBHZx4n7J+V5Rg5mZxHHTlv25Zt5u+w==
            }

    '@tanstack/react-query@5.90.5':
        resolution:
            {
                integrity: sha512-pN+8UWpxZkEJ/Rnnj2v2Sxpx1WFlaa9L6a4UO89p6tTQbeo+m0MS8oYDjbggrR8QcTyjKoYWKS3xJQGr3ExT8Q==
            }
        peerDependencies:
            react: ^18 || ^19

    '@tanstack/react-router@1.131.50':
        resolution:
            {
                integrity: sha512-WNW9x/v9VeSCaeK6Wq0z0420rV5aRwRaC7klysxiAcegFhfyZp8lhIwwPZQ7hYcCWinCxKKFG/4ihA1I2jKcbQ==
            }
        engines: { node: '>=12' }
        peerDependencies:
            react: '>=18.0.0 || >=19.0.0'
            react-dom: '>=18.0.0 || >=19.0.0'

    '@tanstack/react-store@0.7.7':
        resolution:
            {
                integrity: sha512-qqT0ufegFRDGSof9D/VqaZgjNgp4tRPHZIJq2+QIHkMUtHjaJ0lYrrXjeIUJvjnTbgPfSD1XgOMEt0lmANn6Zg==
            }
        peerDependencies:
            react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0
            react-dom: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0

    '@tanstack/router-core@1.131.50':
        resolution:
            {
                integrity: sha512-eojd4JZ5ziUhGEmXZ4CaVX5mQdiTMiz56Sp8ZQ6r7deb55Q+5G4JQDkeuXpI7HMAvzr+4qlsFeLaDRXXjXyOqQ==
            }
        engines: { node: '>=12' }

    '@tanstack/store@0.7.7':
        resolution:
            {
                integrity: sha512-xa6pTan1bcaqYDS9BDpSiS63qa6EoDkPN9RsRaxHuDdVDNntzq3xNwR5YKTU/V3SkSyC9T4YVOPh2zRQN0nhIQ==
            }

    '@tweenjs/tween.js@23.1.3':
        resolution:
            {
                integrity: sha512-vJmvvwFxYuGnF2axRtPYocag6Clbb5YS7kLL+SO/TeVFzHqDIWrNKYtcsPMibjDx9O+bu+psAy9NKfWklassUA==
            }

    '@types/babel__core@7.20.5':
        resolution:
            {
                integrity: sha512-qoQprZvz5wQFJwMDqeseRXWv3rqMvhgpbXFfVyWhbx9X47POIA6i/+dXefEmZKoAgOaTdaIgNSMqMIU61yRyzA==
            }

    '@types/babel__generator@7.27.0':
        resolution:
            {
                integrity: sha512-ufFd2Xi92OAVPYsy+P4n7/U7e68fex0+Ee8gSG9KX7eo084CWiQ4sdxktvdl0bOPupXtVJPY19zk6EwWqUQ8lg==
            }

    '@types/babel__template@7.4.4':
        resolution:
            {
                integrity: sha512-h/NUaSyG5EyxBIp8YRxo4RMe2/qQgvyowRwVMzhYhBCONbW8PUsg4lkFMrhgZhUe5z3L3MiLDuvyJ/CaPa2A8A==
            }

    '@types/babel__traverse@7.28.0':
        resolution:
            {
                integrity: sha512-8PvcXf70gTDZBgt9ptxJ8elBeBjcLOAcOtoO/mPJjtji1+CdGbHgm77om1GrsPxsiE+uXIpNSK64UYaIwQXd4Q==
            }

    '@types/d3-array@3.2.2':
        resolution:
            {
                integrity: sha512-hOLWVbm7uRza0BYXpIIW5pxfrKe0W+D5lrFiAEYR+pb6w3N2SwSMaJbXdUfSEv+dT4MfHBLtn5js0LAWaO6otw==
            }

    '@types/d3-color@3.1.3':
        resolution:
            {
                integrity: sha512-iO90scth9WAbmgv7ogoq57O9YpKmFBbmoEoCHDB2xMBY0+/KVrqAaCDyCE16dUspeOvIxFFRI+0sEtqDqy2b4A==
            }

    '@types/d3-ease@3.0.2':
        resolution:
            {
                integrity: sha512-NcV1JjO5oDzoK26oMzbILE6HW7uVXOHLQvHshBUW4UMdZGfiY6v5BeQwh9a9tCzv+CeefZQHJt5SRgK154RtiA==
            }

    '@types/d3-interpolate@3.0.4':
        resolution:
            {
                integrity: sha512-mgLPETlrpVV1YRJIglr4Ez47g7Yxjl1lj7YKsiMCb27VJH9W8NVM6Bb9d8kkpG/uAQS5AmbA48q2IAolKKo1MA==
            }

    '@types/d3-path@3.1.1':
        resolution:
            {
                integrity: sha512-VMZBYyQvbGmWyWVea0EHs/BwLgxc+MKi1zLDCONksozI4YJMcTt8ZEuIR4Sb1MMTE8MMW49v0IwI5+b7RmfWlg==
            }

    '@types/d3-scale@4.0.9':
        resolution:
            {
                integrity: sha512-dLmtwB8zkAeO/juAMfnV+sItKjlsw2lKdZVVy6LRr0cBmegxSABiLEpGVmSJJ8O08i4+sGR6qQtb6WtuwJdvVw==
            }

    '@types/d3-shape@3.1.7':
        resolution:
            {
                integrity: sha512-VLvUQ33C+3J+8p+Daf+nYSOsjB4GXp19/S/aGo60m9h1v6XaxjiT82lKVWJCfzhtuZ3yD7i/TPeC/fuKLLOSmg==
            }

    '@types/d3-time@3.0.4':
        resolution:
            {
                integrity: sha512-yuzZug1nkAAaBlBBikKZTgzCeA+k1uy4ZFwWANOfKw5z5LRhV0gNA7gNkKm7HoK+HRN0wX3EkxGk0fpbWhmB7g==
            }

    '@types/d3-timer@3.0.2':
        resolution:
            {
                integrity: sha512-Ps3T8E8dZDam6fUyNiMkekK3XUsaUEik+idO9/YjPtfj2qruF8tFBXS7XhtE4iIXBLxhmLjP3SXpLhVf21I9Lw==
            }

    '@types/draco3d@1.4.10':
        resolution:
            {
                integrity: sha512-AX22jp8Y7wwaBgAixaSvkoG4M/+PlAcm3Qs4OW8yT9DM4xUpWKeFhLueTAyZF39pviAdcDdeJoACapiAceqNcw==
            }

    '@types/estree@1.0.8':
        resolution:
            {
                integrity: sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==
            }

    '@types/js-cookie@2.2.7':
        resolution:
            {
                integrity: sha512-aLkWa0C0vO5b4Sr798E26QgOkss68Un0bLjs7u9qxzPT5CG+8DuNTffWES58YzJs3hrVAOs1wonycqEBqNJubA==
            }

    '@types/json-schema@7.0.15':
        resolution:
            {
                integrity: sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA==
            }

    '@types/node@20.19.24':
        resolution:
            {
                integrity: sha512-FE5u0ezmi6y9OZEzlJfg37mqqf6ZDSF2V/NLjUyGrR9uTZ7Sb9F7bLNZ03S4XVUNRWGA7Ck4c1kK+YnuWjl+DA==
            }

    '@types/offscreencanvas@2019.7.3':
        resolution:
            {
                integrity: sha512-ieXiYmgSRXUDeOntE1InxjWyvEelZGP63M+cGuquuRLuIKKT1osnkXjxev9B7d1nXSug5vpunx+gNlbVxMlC9A==
            }

    '@types/react-dom@19.1.11':
        resolution:
            {
                integrity: sha512-3BKc/yGdNTYQVVw4idqHtSOcFsgGuBbMveKCOgF8wQ5QtrYOc3jDIlzg3jef04zcXFIHLelyGlj0T+BJ8+KN+w==
            }
        peerDependencies:
            '@types/react': ^19.0.0

    '@types/react-reconciler@0.28.9':
        resolution:
            {
                integrity: sha512-HHM3nxyUZ3zAylX8ZEyrDNd2XZOnQ0D5XfunJF5FLQnZbHHYq4UWvW1QfelQNXv1ICNkwYhfxjwfnqivYB6bFg==
            }
        peerDependencies:
            '@types/react': '*'

    '@types/react@19.1.17':
        resolution:
            {
                integrity: sha512-Qec1E3mhALmaspIrhWt9jkQMNdw6bReVu64mjvhbhq2NFPftLPVr+l1SZgmw/66WwBNpDh7ao5AT6gF5v41PFA==
            }

    '@types/stats.js@0.17.4':
        resolution:
            {
                integrity: sha512-jIBvWWShCvlBqBNIZt0KAshWpvSjhkwkEu4ZUcASoAvhmrgAUI2t1dXrjSL4xXVLB4FznPrIsX3nKXFl/Dt4vA==
            }

    '@types/three@0.176.0':
        resolution:
            {
                integrity: sha512-FwfPXxCqOtP7EdYMagCFePNKoG1AGBDUEVKtluv2BTVRpSt7b+X27xNsirPCTCqY1pGYsPUzaM3jgWP7dXSxlw==
            }

    '@types/webxr@0.5.24':
        resolution:
            {
                integrity: sha512-h8fgEd/DpoS9CBrjEQXR+dIDraopAEfu4wYVNY2tEPwk60stPWhvZMf4Foo5FakuQ7HFZoa8WceaWFervK2Ovg==
            }

    '@typescript-eslint/eslint-plugin@8.46.2':
        resolution:
            {
                integrity: sha512-ZGBMToy857/NIPaaCucIUQgqueOiq7HeAKkhlvqVV4lm089zUFW6ikRySx2v+cAhKeUCPuWVHeimyk6Dw1iY3w==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }
        peerDependencies:
            '@typescript-eslint/parser': ^8.46.2
            eslint: ^8.57.0 || ^9.0.0
            typescript: '>=4.8.4 <6.0.0'

    '@typescript-eslint/parser@8.46.2':
        resolution:
            {
                integrity: sha512-BnOroVl1SgrPLywqxyqdJ4l3S2MsKVLDVxZvjI1Eoe8ev2r3kGDo+PcMihNmDE+6/KjkTubSJnmqGZZjQSBq/g==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }
        peerDependencies:
            eslint: ^8.57.0 || ^9.0.0
            typescript: '>=4.8.4 <6.0.0'

    '@typescript-eslint/project-service@8.46.2':
        resolution:
            {
                integrity: sha512-PULOLZ9iqwI7hXcmL4fVfIsBi6AN9YxRc0frbvmg8f+4hQAjQ5GYNKK0DIArNo+rOKmR/iBYwkpBmnIwin4wBg==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }
        peerDependencies:
            typescript: '>=4.8.4 <6.0.0'

    '@typescript-eslint/scope-manager@8.46.2':
        resolution:
            {
                integrity: sha512-LF4b/NmGvdWEHD2H4MsHD8ny6JpiVNDzrSZr3CsckEgCbAGZbYM4Cqxvi9L+WqDMT+51Ozy7lt2M+d0JLEuBqA==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@typescript-eslint/tsconfig-utils@8.46.2':
        resolution:
            {
                integrity: sha512-a7QH6fw4S57+F5y2FIxxSDyi5M4UfGF+Jl1bCGd7+L4KsaUY80GsiF/t0UoRFDHAguKlBaACWJRmdrc6Xfkkag==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }
        peerDependencies:
            typescript: '>=4.8.4 <6.0.0'

    '@typescript-eslint/type-utils@8.46.2':
        resolution:
            {
                integrity: sha512-HbPM4LbaAAt/DjxXaG9yiS9brOOz6fabal4uvUmaUYe6l3K1phQDMQKBRUrr06BQkxkvIZVVHttqiybM9nJsLA==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }
        peerDependencies:
            eslint: ^8.57.0 || ^9.0.0
            typescript: '>=4.8.4 <6.0.0'

    '@typescript-eslint/types@8.46.2':
        resolution:
            {
                integrity: sha512-lNCWCbq7rpg7qDsQrd3D6NyWYu+gkTENkG5IKYhUIcxSb59SQC/hEQ+MrG4sTgBVghTonNWq42bA/d4yYumldQ==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@typescript-eslint/typescript-estree@8.46.2':
        resolution:
            {
                integrity: sha512-f7rW7LJ2b7Uh2EiQ+7sza6RDZnajbNbemn54Ob6fRwQbgcIn+GWfyuHDHRYgRoZu1P4AayVScrRW+YfbTvPQoQ==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }
        peerDependencies:
            typescript: '>=4.8.4 <6.0.0'

    '@typescript-eslint/utils@8.46.2':
        resolution:
            {
                integrity: sha512-sExxzucx0Tud5tE0XqR0lT0psBQvEpnpiul9XbGUB1QwpWJJAps1O/Z7hJxLGiZLBKMCutjTzDgmd1muEhBnVg==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }
        peerDependencies:
            eslint: ^8.57.0 || ^9.0.0
            typescript: '>=4.8.4 <6.0.0'

    '@typescript-eslint/visitor-keys@8.46.2':
        resolution:
            {
                integrity: sha512-tUFMXI4gxzzMXt4xpGJEsBsTox0XbNQ1y94EwlD/CuZwFcQP79xfQqMhau9HsRc/J0cAPA/HZt1dZPtGn9V/7w==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    '@ungap/structured-clone@1.3.0':
        resolution:
            {
                integrity: sha512-WmoN8qaIAo7WTYWbAZuG8PYEhn5fkz7dZrqTBZ7dtt//lL2Gwms1IcnQ5yHqjDfX8Ft5j4YzDM23f87zBfDe9g==
            }

    '@use-gesture/core@10.3.1':
        resolution:
            {
                integrity: sha512-WcINiDt8WjqBdUXye25anHiNxPc0VOrlT8F6LLkU6cycrOGUDyY/yyFmsg3k8i5OLvv25llc0QC45GhR/C8llw==
            }

    '@use-gesture/react@10.3.1':
        resolution:
            {
                integrity: sha512-Yy19y6O2GJq8f7CHf7L0nxL8bf4PZCPaVOCgJrusOeFHY1LvHgYXnmnXg6N5iwAnbgbZCDjo60SiM6IPJi9C5g==
            }
        peerDependencies:
            react: '>= 16.8.0'

    '@vitejs/plugin-react@4.7.0':
        resolution:
            {
                integrity: sha512-gUu9hwfWvvEDBBmgtAowQCojwZmJ5mcLn3aufeCsitijs3+f2NsrPtlAWIR6OPiqljl96GVCUbLe0HyqIpVaoA==
            }
        engines: { node: ^14.18.0 || >=16.0.0 }
        peerDependencies:
            vite: ^4.2.0 || ^5.0.0 || ^6.0.0 || ^7.0.0

    '@webgpu/types@0.1.66':
        resolution:
            {
                integrity: sha512-YA2hLrwLpDsRueNDXIMqN9NTzD6bCDkuXbOSe0heS+f8YE8usA6Gbv1prj81pzVHrbaAma7zObnIC+I6/sXJgA==
            }

    '@xobotyi/scrollbar-width@1.9.5':
        resolution:
            {
                integrity: sha512-N8tkAACJx2ww8vFMneJmaAgmjAG1tnVBZJRLRcx061tmsLRZHSEZSLuGWnwPtunsSLvSqXQ2wfp7Mgqg1I+2dQ==
            }

    acorn-jsx@5.3.2:
        resolution:
            {
                integrity: sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==
            }
        peerDependencies:
            acorn: ^6.0.0 || ^7.0.0 || ^8.0.0

    acorn@8.15.0:
        resolution:
            {
                integrity: sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==
            }
        engines: { node: '>=0.4.0' }
        hasBin: true

    ajv@6.12.6:
        resolution:
            {
                integrity: sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==
            }

    ansi-regex@5.0.1:
        resolution:
            {
                integrity: sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==
            }
        engines: { node: '>=8' }

    ansi-regex@6.2.2:
        resolution:
            {
                integrity: sha512-Bq3SmSpyFHaWjPk8If9yc6svM8c56dB5BAtW4Qbw5jHTwwXXcTLoRMkpDJp6VL0XzlWaCHTXrkFURMYmD0sLqg==
            }
        engines: { node: '>=12' }

    ansi-styles@4.3.0:
        resolution:
            {
                integrity: sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==
            }
        engines: { node: '>=8' }

    ansi-styles@6.2.3:
        resolution:
            {
                integrity: sha512-4Dj6M28JB+oAH8kFkTLUo+a2jwOFkuqb3yucU0CANcRRUbxS0cP0nZYCGjcc3BNXwRIsUVmDGgzawme7zvJHvg==
            }
        engines: { node: '>=12' }

    any-promise@1.3.0:
        resolution:
            {
                integrity: sha512-7UvmKalWRt1wgjL1RrGxoSJW/0QZFIegpeGvZG9kjp8vrRu55XTHbwnqq2GpXm9uLbcuhxm3IqX9OB4MZR1b2A==
            }

    anymatch@3.1.3:
        resolution:
            {
                integrity: sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==
            }
        engines: { node: '>= 8' }

    arg@5.0.2:
        resolution:
            {
                integrity: sha512-PYjyFOLKQ9y57JvQ6QLo8dAgNqswh8M1RMJYdQduT6xbWSgK36P/Z/v+p888pM69jMMfS8Xd8F6I1kQ/I9HUGg==
            }

    argparse@2.0.1:
        resolution:
            {
                integrity: sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==
            }

    aria-hidden@1.2.6:
        resolution:
            {
                integrity: sha512-ik3ZgC9dY/lYVVM++OISsaYDeg1tb0VtP5uL3ouh1koGOaUMDPpbFIei4JkFimWUFPn90sbMNMXQAIVOlnYKJA==
            }
        engines: { node: '>=10' }

    array-buffer-byte-length@1.0.2:
        resolution:
            {
                integrity: sha512-LHE+8BuR7RYGDKvnrmcuSq3tDcKv9OFEXQt/HpbZhY7V6h0zlUXutnAD82GiFx9rdieCMjkvtcsPqBwgUl1Iiw==
            }
        engines: { node: '>= 0.4' }

    array-includes@3.1.9:
        resolution:
            {
                integrity: sha512-FmeCCAenzH0KH381SPT5FZmiA/TmpndpcaShhfgEN9eCVjnFBqq3l1xrI42y8+PPLI6hypzou4GXw00WHmPBLQ==
            }
        engines: { node: '>= 0.4' }

    array.prototype.findlast@1.2.5:
        resolution:
            {
                integrity: sha512-CVvd6FHg1Z3POpBLxO6E6zr+rSKEQ9L6rZHAaY7lLfhKsWYUBBOuMs0e9o24oopj6H+geRCX0YJ+TJLBK2eHyQ==
            }
        engines: { node: '>= 0.4' }

    array.prototype.flat@1.3.3:
        resolution:
            {
                integrity: sha512-rwG/ja1neyLqCuGZ5YYrznA62D4mZXg0i1cIskIUKSiqF3Cje9/wXAls9B9s1Wa2fomMsIv8czB8jZcPmxCXFg==
            }
        engines: { node: '>= 0.4' }

    array.prototype.flatmap@1.3.3:
        resolution:
            {
                integrity: sha512-Y7Wt51eKJSyi80hFrJCePGGNo5ktJCslFuboqJsbf57CCPcm5zztluPlc4/aD8sWsKvlwatezpV4U1efk8kpjg==
            }
        engines: { node: '>= 0.4' }

    array.prototype.tosorted@1.1.4:
        resolution:
            {
                integrity: sha512-p6Fx8B7b7ZhL/gmUsAy0D15WhvDccw3mnGNbZpi3pmeJdxtWsj2jEaI4Y6oo3XiHfzuSgPwKc04MYt6KgvC/wA==
            }
        engines: { node: '>= 0.4' }

    arraybuffer.prototype.slice@1.0.4:
        resolution:
            {
                integrity: sha512-BNoCY6SXXPQ7gF2opIP4GBE+Xw7U+pHMYKuzjgCN3GwiaIR09UUeKfheyIry77QtrCBlC0KK0q5/TER/tYh3PQ==
            }
        engines: { node: '>= 0.4' }

    asn1js@3.0.6:
        resolution:
            {
                integrity: sha512-UOCGPYbl0tv8+006qks/dTgV9ajs97X2p0FAbyS2iyCRrmLSRolDaHdp+v/CLgnzHc3fVB+CwYiUmei7ndFcgA==
            }
        engines: { node: '>=12.0.0' }

    async-function@1.0.0:
        resolution:
            {
                integrity: sha512-hsU18Ae8CDTR6Kgu9DYf0EbCr/a5iGL0rytQDobUcdpYOKokk8LEjVphnXkDkgpi0wYVsqrXuP0bZxJaTqdgoA==
            }
        engines: { node: '>= 0.4' }

    autoprefixer@10.4.21:
        resolution:
            {
                integrity: sha512-O+A6LWV5LDHSJD3LjHYoNi4VLsj/Whi7k6zG12xTYaU4cQ8oxQGckXNX8cRHK5yOZ/ppVHe0ZBXGzSV9jXdVbQ==
            }
        engines: { node: ^10 || ^12 || >=14 }
        hasBin: true
        peerDependencies:
            postcss: ^8.1.0

    available-typed-arrays@1.0.7:
        resolution:
            {
                integrity: sha512-wvUjBtSGN7+7SjNpq/9M2Tg350UZD3q62IFZLbRAR1bSMlCo1ZaeW+BJ+D090e4hIIZLBcTDWe4Mh4jvUDajzQ==
            }
        engines: { node: '>= 0.4' }

    balanced-match@1.0.2:
        resolution:
            {
                integrity: sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==
            }

    base64-js@1.5.1:
        resolution:
            {
                integrity: sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==
            }

    baseline-browser-mapping@2.8.22:
        resolution:
            {
                integrity: sha512-/tk9kky/d8T8CTXIQYASLyhAxR5VwL3zct1oAoVTaOUHwrmsGnfbRwNdEq+vOl2BN8i3PcDdP0o4Q+jjKQoFbQ==
            }
        hasBin: true

    bidi-js@1.0.3:
        resolution:
            {
                integrity: sha512-RKshQI1R3YQ+n9YJz2QQ147P66ELpa1FQEg20Dk8oW9t2KgLbpDLLp9aGZ7y8WHSshDknG0bknqGw5/tyCs5tw==
            }

    binary-extensions@2.3.0:
        resolution:
            {
                integrity: sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==
            }
        engines: { node: '>=8' }

    brace-expansion@1.1.12:
        resolution:
            {
                integrity: sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==
            }

    brace-expansion@2.0.2:
        resolution:
            {
                integrity: sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==
            }

    braces@3.0.3:
        resolution:
            {
                integrity: sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==
            }
        engines: { node: '>=8' }

    browserslist@4.27.0:
        resolution:
            {
                integrity: sha512-AXVQwdhot1eqLihwasPElhX2tAZiBjWdJ9i/Zcj2S6QYIjkx62OKSfnobkriB81C3l4w0rVy3Nt4jaTBltYEpw==
            }
        engines: { node: ^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7 }
        hasBin: true

    buffer@6.0.3:
        resolution:
            {
                integrity: sha512-FTiCpNxtwiZZHEZbcbTIcZjERVICn9yq/pDFkTl95/AxzD1naBctN7YO68riM/gLSDY7sdrMby8hofADYuuqOA==
            }

    call-bind-apply-helpers@1.0.2:
        resolution:
            {
                integrity: sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==
            }
        engines: { node: '>= 0.4' }

    call-bind@1.0.8:
        resolution:
            {
                integrity: sha512-oKlSFMcMwpUg2ednkhQ454wfWiU/ul3CkJe/PEHcTKuiX6RpbehUiFMXu13HalGZxfUwCQzZG747YXBn1im9ww==
            }
        engines: { node: '>= 0.4' }

    call-bound@1.0.4:
        resolution:
            {
                integrity: sha512-+ys997U96po4Kx/ABpBCqhA9EuxJaQWDQg7295H4hBphv3IZg0boBKuwYpt4YXp6MZ5AmZQnU/tyMTlRpaSejg==
            }
        engines: { node: '>= 0.4' }

    callsites@3.1.0:
        resolution:
            {
                integrity: sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==
            }
        engines: { node: '>=6' }

    camelcase-css@2.0.1:
        resolution:
            {
                integrity: sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==
            }
        engines: { node: '>= 6' }

    camera-controls@2.10.1:
        resolution:
            {
                integrity: sha512-KnaKdcvkBJ1Irbrzl8XD6WtZltkRjp869Jx8c0ujs9K+9WD+1D7ryBsCiVqJYUqt6i/HR5FxT7RLASieUD+Q5w==
            }
        peerDependencies:
            three: '>=0.126.1'

    caniuse-lite@1.0.30001752:
        resolution:
            {
                integrity: sha512-vKUk7beoukxE47P5gcVNKkDRzXdVofotshHwfR9vmpeFKxmI5PBpgOMC18LUJUA/DvJ70Y7RveasIBraqsyO/g==
            }

    cannon-es-debugger@1.0.0:
        resolution:
            {
                integrity: sha512-sE9lDOBAYFKlh+0w+cvWKwUhJef8HYnUSVPWPL0jD15MAuVRQKno4QYZSGxgOoJkMR3mQqxL4bxys2b3RSWH8g==
            }
        peerDependencies:
            cannon-es: 0.x
            three: 0.x
            typescript: '>=3.8'
        peerDependenciesMeta:
            typescript:
                optional: true

    cannon-es@0.20.0:
        resolution:
            {
                integrity: sha512-eZhWTZIkFOnMAJOgfXJa9+b3kVlvG+FX4mdkpePev/w/rP5V8NRquGyEozcjPfEoXUlb+p7d9SUcmDSn14prOA==
            }

    chalk@4.1.2:
        resolution:
            {
                integrity: sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==
            }
        engines: { node: '>=10' }

    chokidar@3.6.0:
        resolution:
            {
                integrity: sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==
            }
        engines: { node: '>= 8.10.0' }

    class-variance-authority@0.7.1:
        resolution:
            {
                integrity: sha512-Ka+9Trutv7G8M6WT6SeiRWz792K5qEqIGEGzXKhAE6xOWAY6pPH8U+9IY3oCMv6kqTmLsv7Xh/2w2RigkePMsg==
            }

    clsx@2.1.1:
        resolution:
            {
                integrity: sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==
            }
        engines: { node: '>=6' }

    cmdk@1.1.1:
        resolution:
            {
                integrity: sha512-Vsv7kFaXm+ptHDMZ7izaRsP70GgrW9NBNGswt9OZaVBLlE0SNpDq8eu/VGXyF9r7M0azK3Wy7OlYXsuyYLFzHg==
            }
        peerDependencies:
            react: ^18 || ^19 || ^19.0.0-rc
            react-dom: ^18 || ^19 || ^19.0.0-rc

    color-convert@2.0.1:
        resolution:
            {
                integrity: sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==
            }
        engines: { node: '>=7.0.0' }

    color-name@1.1.4:
        resolution:
            {
                integrity: sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==
            }

    commander@4.1.1:
        resolution:
            {
                integrity: sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==
            }
        engines: { node: '>= 6' }

    concat-map@0.0.1:
        resolution:
            {
                integrity: sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==
            }

    convert-source-map@2.0.0:
        resolution:
            {
                integrity: sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==
            }

    cookie-es@1.2.2:
        resolution:
            {
                integrity: sha512-+W7VmiVINB+ywl1HGXJXmrqkOhpKrIiVZV6tQuV54ZyQC7MMuBt81Vc336GMLoHBq5hV/F9eXgt5Mnx0Rha5Fg==
            }

    copy-to-clipboard@3.3.3:
        resolution:
            {
                integrity: sha512-2KV8NhB5JqC3ky0r9PMCAZKbUHSwtEo4CwCs0KXgruG43gX5PMqDEBbVU4OUzw2MuAWUfsuFmWvEKG5QRfSnJA==
            }

    cross-env@7.0.3:
        resolution:
            {
                integrity: sha512-+/HKd6EgcQCJGh2PSjZuUitQBQynKor4wrFbRg4DtAgS1aWO+gU52xpH7M9ScGgXSYmAVS9bIJ8EzuaGw0oNAw==
            }
        engines: { node: '>=10.14', npm: '>=6', yarn: '>=1' }
        hasBin: true

    cross-spawn@7.0.6:
        resolution:
            {
                integrity: sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==
            }
        engines: { node: '>= 8' }

    css-in-js-utils@3.1.0:
        resolution:
            {
                integrity: sha512-fJAcud6B3rRu+KHYk+Bwf+WFL2MDCJJ1XG9x137tJQ0xYxor7XziQtuGFbWNdqrvF4Tk26O3H73nfVqXt/fW1A==
            }

    css-tree@1.1.3:
        resolution:
            {
                integrity: sha512-tRpdppF7TRazZrjJ6v3stzv93qxRcSsFmW6cX0Zm2NVKpxE1WV1HblnghVv9TreireHkqI/VDEsfolRF1p6y7Q==
            }
        engines: { node: '>=8.0.0' }

    cssesc@3.0.0:
        resolution:
            {
                integrity: sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==
            }
        engines: { node: '>=4' }
        hasBin: true

    csstype@3.1.3:
        resolution:
            {
                integrity: sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==
            }

    d3-array@3.2.4:
        resolution:
            {
                integrity: sha512-tdQAmyA18i4J7wprpYq8ClcxZy3SC31QMeByyCFyRt7BVHdREQZ5lpzoe5mFEYZUWe+oq8HBvk9JjpibyEV4Jg==
            }
        engines: { node: '>=12' }

    d3-color@3.1.0:
        resolution:
            {
                integrity: sha512-zg/chbXyeBtMQ1LbD/WSoW2DpC3I0mpmPdW+ynRTj/x2DAWYrIY7qeZIHidozwV24m4iavr15lNwIwLxRmOxhA==
            }
        engines: { node: '>=12' }

    d3-ease@3.0.1:
        resolution:
            {
                integrity: sha512-wR/XK3D3XcLIZwpbvQwQ5fK+8Ykds1ip7A2Txe0yxncXSdq1L9skcG7blcedkOX+ZcgxGAmLX1FrRGbADwzi0w==
            }
        engines: { node: '>=12' }

    d3-format@3.1.0:
        resolution:
            {
                integrity: sha512-YyUI6AEuY/Wpt8KWLgZHsIU86atmikuoOmCfommt0LYHiQSPjvX2AcFc38PX0CBpr2RCyZhjex+NS/LPOv6YqA==
            }
        engines: { node: '>=12' }

    d3-interpolate@3.0.1:
        resolution:
            {
                integrity: sha512-3bYs1rOD33uo8aqJfKP3JWPAibgw8Zm2+L9vBKEHJ2Rg+viTR7o5Mmv5mZcieN+FRYaAOWX5SJATX6k1PWz72g==
            }
        engines: { node: '>=12' }

    d3-path@3.1.0:
        resolution:
            {
                integrity: sha512-p3KP5HCf/bvjBSSKuXid6Zqijx7wIfNW+J/maPs+iwR35at5JCbLUT0LzF1cnjbCHWhqzQTIN2Jpe8pRebIEFQ==
            }
        engines: { node: '>=12' }

    d3-scale@4.0.2:
        resolution:
            {
                integrity: sha512-GZW464g1SH7ag3Y7hXjf8RoUuAFIqklOAq3MRl4OaWabTFJY9PN/E1YklhXLh+OQ3fM9yS2nOkCoS+WLZ6kvxQ==
            }
        engines: { node: '>=12' }

    d3-shape@3.2.0:
        resolution:
            {
                integrity: sha512-SaLBuwGm3MOViRq2ABk3eLoxwZELpH6zhl3FbAoJ7Vm1gofKx6El1Ib5z23NUEhF9AsGl7y+dzLe5Cw2AArGTA==
            }
        engines: { node: '>=12' }

    d3-time-format@4.1.0:
        resolution:
            {
                integrity: sha512-dJxPBlzC7NugB2PDLwo9Q8JiTR3M3e4/XANkreKSUxF8vvXKqm1Yfq4Q5dl8budlunRVlUUaDUgFt7eA8D6NLg==
            }
        engines: { node: '>=12' }

    d3-time@3.1.0:
        resolution:
            {
                integrity: sha512-VqKjzBLejbSMT4IgbmVgDjpkYrNWUYJnbCGo874u7MMKIWsILRX+OpX/gTk8MqjpT1A/c6HY2dCA77ZN0lkQ2Q==
            }
        engines: { node: '>=12' }

    d3-timer@3.0.1:
        resolution:
            {
                integrity: sha512-ndfJ/JxxMd3nw31uyKoY2naivF+r29V+Lc0svZxe1JvvIRmi8hUsrMvdOwgS1o6uBHmiz91geQ0ylPP0aj1VUA==
            }
        engines: { node: '>=12' }

    data-view-buffer@1.0.2:
        resolution:
            {
                integrity: sha512-EmKO5V3OLXh1rtK2wgXRansaK1/mtVdTUEiEI0W8RkvgT05kfxaH29PliLnpLP73yYO6142Q72QNa8Wx/A5CqQ==
            }
        engines: { node: '>= 0.4' }

    data-view-byte-length@1.0.2:
        resolution:
            {
                integrity: sha512-tuhGbE6CfTM9+5ANGf+oQb72Ky/0+s3xKUpHvShfiz2RxMFgFPjsXuRLBVMtvMs15awe45SRb83D6wH4ew6wlQ==
            }
        engines: { node: '>= 0.4' }

    data-view-byte-offset@1.0.1:
        resolution:
            {
                integrity: sha512-BS8PfmtDGnrgYdOonGZQdLZslWIeCGFP9tpan0hi1Co2Zr2NKADsvGYA8XxuG/4UWgJ6Cjtv+YJnB6MM69QGlQ==
            }
        engines: { node: '>= 0.4' }

    date-fns-jalali@4.1.0-0:
        resolution:
            {
                integrity: sha512-hTIP/z+t+qKwBDcmmsnmjWTduxCg+5KfdqWQvb2X/8C9+knYY6epN/pfxdDuyVlSVeFz0sM5eEfwIUQ70U4ckg==
            }

    date-fns@3.6.0:
        resolution:
            {
                integrity: sha512-fRHTG8g/Gif+kSh50gaGEdToemgfj74aRX3swtiouboip5JDLAyDE9F11nHMIcvOaXeOC6D7SpNhi7uFyB7Uww==
            }

    date-fns@4.1.0:
        resolution:
            {
                integrity: sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==
            }

    debug@4.4.3:
        resolution:
            {
                integrity: sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA==
            }
        engines: { node: '>=6.0' }
        peerDependencies:
            supports-color: '*'
        peerDependenciesMeta:
            supports-color:
                optional: true

    decimal.js-light@2.5.1:
        resolution:
            {
                integrity: sha512-qIMFpTMZmny+MMIitAB6D7iVPEorVw6YQRWkvarTkT4tBeSLLiHzcwj6q0MmYSFCiVpiqPJTJEYIrpcPzVEIvg==
            }

    deep-is@0.1.4:
        resolution:
            {
                integrity: sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==
            }

    define-data-property@1.1.4:
        resolution:
            {
                integrity: sha512-rBMvIzlpA8v6E+SJZoo++HAYqsLrkg7MSfIinMPFhmkorw7X+dOXVJQs+QT69zGkzMyfDnIMN2Wid1+NbL3T+A==
            }
        engines: { node: '>= 0.4' }

    define-properties@1.2.1:
        resolution:
            {
                integrity: sha512-8QmQKqEASLd5nx0U1B1okLElbUuuttJ/AnYmRXbbbGDWh6uS208EjD4Xqq/I9wK7u0v6O08XhTWnt5XtEbR6Dg==
            }
        engines: { node: '>= 0.4' }

    detect-gpu@5.0.70:
        resolution:
            {
                integrity: sha512-bqerEP1Ese6nt3rFkwPnGbsUF9a4q+gMmpTVVOEzoCyeCc+y7/RvJnQZJx1JwhgQI5Ntg0Kgat8Uu7XpBqnz1w==
            }

    detect-libc@2.1.2:
        resolution:
            {
                integrity: sha512-Btj2BOOO83o3WyH59e8MgXsxEQVcarkUOpEYrubB0urwnN10yQ364rsiByU11nZlqWYZm05i/of7io4mzihBtQ==
            }
        engines: { node: '>=8' }

    detect-node-es@1.1.0:
        resolution:
            {
                integrity: sha512-ypdmJU/TbBby2Dxibuv7ZLW3Bs1QEmM7nHjEANfohJLvE0XVujisn1qPJcZxg+qDucsr+bP6fLD1rPS3AhJ7EQ==
            }

    didyoumean@1.2.2:
        resolution:
            {
                integrity: sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==
            }

    dlv@1.1.3:
        resolution:
            {
                integrity: sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==
            }

    doctrine@2.1.0:
        resolution:
            {
                integrity: sha512-35mSku4ZXK0vfCuHEDAwt55dg2jNajHZ1odvF+8SSr82EsZY4QmXfuWso8oEd8zRhVObSN18aM0CjSdoBX7zIw==
            }
        engines: { node: '>=0.10.0' }

    doctrine@3.0.0:
        resolution:
            {
                integrity: sha512-yS+Q5i3hBf7GBkd4KG8a7eBNNWNGLTaEwwYWUijIYM7zrlYDM0BFXHjjPWlWZ1Rg7UaddZeIDmi9jF3HmqiQ2w==
            }
        engines: { node: '>=6.0.0' }

    dom-helpers@5.2.1:
        resolution:
            {
                integrity: sha512-nRCa7CK3VTrM2NmGkIy4cbK7IZlgBE/PYMn55rrXefr5xXDP0LdtfPnblFDoVdcAfslJ7or6iqAUnx0CCGIWQA==
            }

    dotenv-cli@8.0.0:
        resolution:
            {
                integrity: sha512-aLqYbK7xKOiTMIRf1lDPbI+Y+Ip/wo5k3eyp6ePysVaSqbyxjyK3dK35BTxG+rmd7djf5q2UPs4noPNH+cj0Qw==
            }
        hasBin: true

    dotenv-expand@10.0.0:
        resolution:
            {
                integrity: sha512-GopVGCpVS1UKH75VKHGuQFqS1Gusej0z4FyQkPdwjil2gNIv+LNsqBlboOzpJFZKVT95GkCyWJbBSdFEFUWI2A==
            }
        engines: { node: '>=12' }

    dotenv@16.6.1:
        resolution:
            {
                integrity: sha512-uBq4egWHTcTt33a72vpSG0z3HnPuIl6NqYcTrKEg2azoEyl2hpW0zqlxysq2pK9HlDIHyHyakeYaYnSAwd8bow==
            }
        engines: { node: '>=12' }

    draco3d@1.5.7:
        resolution:
            {
                integrity: sha512-m6WCKt/erDXcw+70IJXnG7M3awwQPAsZvJGX5zY7beBqpELw6RDGkYVU0W43AFxye4pDZ5i2Lbyc/NNGqwjUVQ==
            }

    dunder-proto@1.0.1:
        resolution:
            {
                integrity: sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==
            }
        engines: { node: '>= 0.4' }

    eastasianwidth@0.2.0:
        resolution:
            {
                integrity: sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==
            }

    electron-to-chromium@1.5.244:
        resolution:
            {
                integrity: sha512-OszpBN7xZX4vWMPJwB9illkN/znA8M36GQqQxi6MNy9axWxhOfJyZZJtSLQCpEFLHP2xK33BiWx9aIuIEXVCcw==
            }

    embla-carousel-react@8.6.0:
        resolution:
            {
                integrity: sha512-0/PjqU7geVmo6F734pmPqpyHqiM99olvyecY7zdweCw+6tKEXnrE90pBiBbMMU8s5tICemzpQ3hi5EpxzGW+JA==
            }
        peerDependencies:
            react: ^16.8.0 || ^17.0.1 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc

    embla-carousel-reactive-utils@8.6.0:
        resolution:
            {
                integrity: sha512-fMVUDUEx0/uIEDM0Mz3dHznDhfX+znCCDCeIophYb1QGVM7YThSWX+wz11zlYwWFOr74b4QLGg0hrGPJeG2s4A==
            }
        peerDependencies:
            embla-carousel: 8.6.0

    embla-carousel@8.6.0:
        resolution:
            {
                integrity: sha512-SjWyZBHJPbqxHOzckOfo8lHisEaJWmwd23XppYFYVh10bU66/Pn5tkVkbkCMZVdbUE5eTCI2nD8OyIP4Z+uwkA==
            }

    emoji-regex@8.0.0:
        resolution:
            {
                integrity: sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==
            }

    emoji-regex@9.2.2:
        resolution:
            {
                integrity: sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==
            }

    error-stack-parser@2.1.4:
        resolution:
            {
                integrity: sha512-Sk5V6wVazPhq5MhpO+AUxJn5x7XSXGl1R93Vn7i+zS15KDVxQijejNCrz8340/2bgLBjR9GtEG8ZVKONDjcqGQ==
            }

    es-abstract@1.24.0:
        resolution:
            {
                integrity: sha512-WSzPgsdLtTcQwm4CROfS5ju2Wa1QQcVeT37jFjYzdFz1r9ahadC8B8/a4qxJxM+09F18iumCdRmlr96ZYkQvEg==
            }
        engines: { node: '>= 0.4' }

    es-define-property@1.0.1:
        resolution:
            {
                integrity: sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==
            }
        engines: { node: '>= 0.4' }

    es-errors@1.3.0:
        resolution:
            {
                integrity: sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==
            }
        engines: { node: '>= 0.4' }

    es-iterator-helpers@1.2.1:
        resolution:
            {
                integrity: sha512-uDn+FE1yrDzyC0pCo961B2IHbdM8y/ACZsKD4dG6WqrjV53BADjwa7D+1aom2rsNVfLyDgU/eigvlJGJ08OQ4w==
            }
        engines: { node: '>= 0.4' }

    es-object-atoms@1.1.1:
        resolution:
            {
                integrity: sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==
            }
        engines: { node: '>= 0.4' }

    es-set-tostringtag@2.1.0:
        resolution:
            {
                integrity: sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==
            }
        engines: { node: '>= 0.4' }

    es-shim-unscopables@1.1.0:
        resolution:
            {
                integrity: sha512-d9T8ucsEhh8Bi1woXCf+TIKDIROLG5WCkxg8geBCbvk22kzwC5G2OnXVMO6FUsvQlgUUXQ2itephWDLqDzbeCw==
            }
        engines: { node: '>= 0.4' }

    es-to-primitive@1.3.0:
        resolution:
            {
                integrity: sha512-w+5mJ3GuFL+NjVtJlvydShqE1eN3h3PbI7/5LAsYJP/2qtuMXjfL2LpHSRqo4b4eSF5K/DH1JXKUAHSB2UW50g==
            }
        engines: { node: '>= 0.4' }

    esbuild@0.21.5:
        resolution:
            {
                integrity: sha512-mg3OPMV4hXywwpoDxu3Qda5xCKQi+vCTZq8S9J/EpkhB2HzKXq4SNFZE3+NK93JYxc8VMSep+lOUSC/RVKaBqw==
            }
        engines: { node: '>=12' }
        hasBin: true

    escalade@3.2.0:
        resolution:
            {
                integrity: sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==
            }
        engines: { node: '>=6' }

    escape-string-regexp@4.0.0:
        resolution:
            {
                integrity: sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==
            }
        engines: { node: '>=10' }

    eslint-plugin-react-hooks@5.2.0:
        resolution:
            {
                integrity: sha512-+f15FfK64YQwZdJNELETdn5ibXEUQmW1DZL6KXhNnc2heoy/sg9VJJeT7n8TlMWouzWqSWavFkIhHyIbIAEapg==
            }
        engines: { node: '>=10' }
        peerDependencies:
            eslint: ^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0 || ^7.0.0 || ^8.0.0-0 || ^9.0.0

    eslint-plugin-react@7.37.5:
        resolution:
            {
                integrity: sha512-Qteup0SqU15kdocexFNAJMvCJEfa2xUKNV4CC1xsVMrIIqEy3SQ/rqyxCWNzfrd3/ldy6HMlD2e0JDVpDg2qIA==
            }
        engines: { node: '>=4' }
        peerDependencies:
            eslint: ^3 || ^4 || ^5 || ^6 || ^7 || ^8 || ^9.7

    eslint-plugin-tailwindcss@3.18.2:
        resolution:
            {
                integrity: sha512-QbkMLDC/OkkjFQ1iz/5jkMdHfiMu/uwujUHLAJK5iwNHD8RTxVTlsUezE0toTZ6VhybNBsk+gYGPDq2agfeRNA==
            }
        engines: { node: '>=18.12.0' }
        peerDependencies:
            tailwindcss: ^3.4.0

    eslint-scope@7.2.2:
        resolution:
            {
                integrity: sha512-dOt21O7lTMhDM+X9mB4GX+DZrZtCUJPL/wlcTqxyrx5IvO0IYtILdtrQGQp+8n5S0gwSVmOf9NQrjMOgfQZlIg==
            }
        engines: { node: ^12.22.0 || ^14.17.0 || >=16.0.0 }

    eslint-scope@8.4.0:
        resolution:
            {
                integrity: sha512-sNXOfKCn74rt8RICKMvJS7XKV/Xk9kA7DyJr8mJik3S7Cwgy3qlkkmyS2uQB3jiJg6VNdZd/pDBJu0nvG2NlTg==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    eslint-visitor-keys@3.4.3:
        resolution:
            {
                integrity: sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==
            }
        engines: { node: ^12.22.0 || ^14.17.0 || >=16.0.0 }

    eslint-visitor-keys@4.2.1:
        resolution:
            {
                integrity: sha512-Uhdk5sfqcee/9H/rCOJikYz67o0a2Tw2hGRPOG2Y1R2dg7brRe1uG0yaNQDHu+TO/uQPF/5eCapvYSmHUjt7JQ==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    eslint@8.57.1:
        resolution:
            {
                integrity: sha512-ypowyDxpVSYpkXr9WPv2PAZCtNip1Mv5KTW0SCurXv/9iOpcrH9PaqUElksqEB6pChqHGDRCFTyrZlGhnLNGiA==
            }
        engines: { node: ^12.22.0 || ^14.17.0 || >=16.0.0 }
        deprecated: This version is no longer supported. Please see https://eslint.org/version-support for other options.
        hasBin: true

    eslint@9.27.0:
        resolution:
            {
                integrity: sha512-ixRawFQuMB9DZ7fjU3iGGganFDp3+45bPOdaRurcFHSXO1e/sYwUX/FtQZpLZJR6SjMoJH8hR2pPEAfDyCoU2Q==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }
        hasBin: true
        peerDependencies:
            jiti: '*'
        peerDependenciesMeta:
            jiti:
                optional: true

    espree@10.4.0:
        resolution:
            {
                integrity: sha512-j6PAQ2uUr79PZhBjP5C5fhl8e39FmRnOjsD5lGnWrFU8i2G776tBK7+nP8KuQUTTyAZUwfQqXAgrVH5MbH9CYQ==
            }
        engines: { node: ^18.18.0 || ^20.9.0 || >=21.1.0 }

    espree@9.6.1:
        resolution:
            {
                integrity: sha512-oruZaFkjorTpF32kDSI5/75ViwGeZginGGy2NoOSg3Q9bnwlnmDm4HLnkl0RE3n+njDXR037aY1+x58Z/zFdwQ==
            }
        engines: { node: ^12.22.0 || ^14.17.0 || >=16.0.0 }

    esquery@1.6.0:
        resolution:
            {
                integrity: sha512-ca9pw9fomFcKPvFLXhBKUK90ZvGibiGOvRJNbjljY7s7uq/5YO4BOzcYtJqExdx99rF6aAcnRxHmcUHcz6sQsg==
            }
        engines: { node: '>=0.10' }

    esrecurse@4.3.0:
        resolution:
            {
                integrity: sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==
            }
        engines: { node: '>=4.0' }

    estraverse@5.3.0:
        resolution:
            {
                integrity: sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==
            }
        engines: { node: '>=4.0' }

    esutils@2.0.3:
        resolution:
            {
                integrity: sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==
            }
        engines: { node: '>=0.10.0' }

    eventemitter3@4.0.7:
        resolution:
            {
                integrity: sha512-8guHBZCwKnFhYdHr2ysuRWErTwhoN2X8XELRlrRwpmfeY2jjuUN4taQMsULKUVo1K4DvZl+0pgfyoysHxvmvEw==
            }

    eventemitter3@5.0.1:
        resolution:
            {
                integrity: sha512-GWkBvjiSZK87ELrYOSESUYeVIc9mvLLf/nXalMOS5dYrgZq9o5OVkbZAVM06CVxYsCwH9BDZFPlQTlPA1j4ahA==
            }

    fast-deep-equal@3.1.3:
        resolution:
            {
                integrity: sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==
            }

    fast-diff@1.3.0:
        resolution:
            {
                integrity: sha512-VxPP4NqbUjj6MaAOafWeUn2cXWLcCtljklUtZf0Ind4XQ+QPtmA0b18zZy0jIQx+ExRVCR/ZQpBmik5lXshNsw==
            }

    fast-equals@5.3.2:
        resolution:
            {
                integrity: sha512-6rxyATwPCkaFIL3JLqw8qXqMpIZ942pTX/tbQFkRsDGblS8tNGtlUauA/+mt6RUfqn/4MoEr+WDkYoIQbibWuQ==
            }
        engines: { node: '>=6.0.0' }

    fast-glob@3.3.3:
        resolution:
            {
                integrity: sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg==
            }
        engines: { node: '>=8.6.0' }

    fast-json-stable-stringify@2.1.0:
        resolution:
            {
                integrity: sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==
            }

    fast-levenshtein@2.0.6:
        resolution:
            {
                integrity: sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==
            }

    fast-shallow-equal@1.0.0:
        resolution:
            {
                integrity: sha512-HPtaa38cPgWvaCFmRNhlc6NG7pv6NUHqjPgVAkWGoB9mQMwYB27/K0CvOM5Czy+qpT3e8XJ6Q4aPAnzpNpzNaw==
            }

    fastest-stable-stringify@2.0.2:
        resolution:
            {
                integrity: sha512-bijHueCGd0LqqNK9b5oCMHc0MluJAx0cwqASgbWMvkO01lCYgIhacVRLcaDz3QnyYIRNJRDwMb41VuT6pHJ91Q==
            }

    fastq@1.19.1:
        resolution:
            {
                integrity: sha512-GwLTyxkCXjXbxqIhTsMI2Nui8huMPtnxg7krajPJAjnEG/iiOS7i+zCtWGZR9G0NBKbXKh6X9m9UIsYX/N6vvQ==
            }

    fflate@0.6.10:
        resolution:
            {
                integrity: sha512-IQrh3lEPM93wVCEczc9SaAOvkmcoQn/G8Bo1e8ZPlY3X3bnAxWaBdvTdvM1hP62iZp0BXWDy4vTAy4fF0+Dlpg==
            }

    fflate@0.8.2:
        resolution:
            {
                integrity: sha512-cPJU47OaAoCbg0pBvzsgpTPhmhqI5eJjh/JIu8tPj5q+T7iLvW/JAYUqmE7KOB4R1ZyEhzBaIQpQpardBF5z8A==
            }

    file-entry-cache@6.0.1:
        resolution:
            {
                integrity: sha512-7Gps/XWymbLk2QLYK4NzpMOrYjMhdIxXuIvy2QBsLE6ljuodKvdkWs/cpyJJ3CVIVpH0Oi1Hvg1ovbMzLdFBBg==
            }
        engines: { node: ^10.12.0 || >=12.0.0 }

    file-entry-cache@8.0.0:
        resolution:
            {
                integrity: sha512-XXTUwCvisa5oacNGRP9SfNtYBNAMi+RPwBFmblZEF7N7swHYQS6/Zfk7SRwx4D5j3CH211YNRco1DEMNVfZCnQ==
            }
        engines: { node: '>=16.0.0' }

    fill-range@7.1.1:
        resolution:
            {
                integrity: sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==
            }
        engines: { node: '>=8' }

    find-up@5.0.0:
        resolution:
            {
                integrity: sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==
            }
        engines: { node: '>=10' }

    flat-cache@3.2.0:
        resolution:
            {
                integrity: sha512-CYcENa+FtcUKLmhhqyctpclsq7QF38pKjZHsGNiSQF5r4FtoKDWabFDl3hzaEQMvT1LHEysw5twgLvpYYb4vbw==
            }
        engines: { node: ^10.12.0 || >=12.0.0 }

    flat-cache@4.0.1:
        resolution:
            {
                integrity: sha512-f7ccFPK3SXFHpx15UIGyRJ/FJQctuKZ0zVuN3frBo4HnK3cay9VEW0R6yPYFHC0AgqhukPzKjq22t5DmAyqGyw==
            }
        engines: { node: '>=16' }

    flatted@3.3.3:
        resolution:
            {
                integrity: sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg==
            }

    for-each@0.3.5:
        resolution:
            {
                integrity: sha512-dKx12eRCVIzqCxFGplyFKJMPvLEWgmNtUrpTiJIR5u97zEhRG8ySrtboPHZXx7daLxQVrl643cTzbab2tkQjxg==
            }
        engines: { node: '>= 0.4' }

    foreground-child@3.3.1:
        resolution:
            {
                integrity: sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw==
            }
        engines: { node: '>=14' }

    fraction.js@4.3.7:
        resolution:
            {
                integrity: sha512-ZsDfxO51wGAXREY55a7la9LScWpwv9RxIrYABrlvOFBlH/ShPnrtsXeuUIfXKKOVicNxQ+o8JTbJvjS4M89yew==
            }

    fs.realpath@1.0.0:
        resolution:
            {
                integrity: sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==
            }

    fsevents@2.3.3:
        resolution:
            {
                integrity: sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==
            }
        engines: { node: ^8.16.0 || ^10.6.0 || >=11.0.0 }
        os: [darwin]

    function-bind@1.1.2:
        resolution:
            {
                integrity: sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==
            }

    function.prototype.name@1.1.8:
        resolution:
            {
                integrity: sha512-e5iwyodOHhbMr/yNrc7fDYG4qlbIvI5gajyzPnb5TCwyhjApznQh1BMFou9b30SevY43gCJKXycoCBjMbsuW0Q==
            }
        engines: { node: '>= 0.4' }

    functions-have-names@1.2.3:
        resolution:
            {
                integrity: sha512-xckBUXyTIqT97tq2x2AMb+g163b5JFysYk0x4qxNFwbfQkmNZoiRHb6sPzI9/QV33WeuvVYBUIiD4NzNIyqaRQ==
            }

    generator-function@2.0.1:
        resolution:
            {
                integrity: sha512-SFdFmIJi+ybC0vjlHN0ZGVGHc3lgE0DxPAT0djjVg+kjOnSqclqmj0KQ7ykTOLP6YxoqOvuAODGdcHJn+43q3g==
            }
        engines: { node: '>= 0.4' }

    gensync@1.0.0-beta.2:
        resolution:
            {
                integrity: sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==
            }
        engines: { node: '>=6.9.0' }

    get-intrinsic@1.3.0:
        resolution:
            {
                integrity: sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==
            }
        engines: { node: '>= 0.4' }

    get-nonce@1.0.1:
        resolution:
            {
                integrity: sha512-FJhYRoDaiatfEkUK8HKlicmu/3SGFD51q3itKDGoSTysQJBnfOcxU5GxnhE1E6soB76MbT0MBtnKJuXyAx+96Q==
            }
        engines: { node: '>=6' }

    get-proto@1.0.1:
        resolution:
            {
                integrity: sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==
            }
        engines: { node: '>= 0.4' }

    get-symbol-description@1.1.0:
        resolution:
            {
                integrity: sha512-w9UMqWwJxHNOvoNzSJ2oPF5wvYcvP7jUvYzhp67yEhTi17ZDBBC1z9pTdGuzjD+EFIqLSYRweZjqfiPzQ06Ebg==
            }
        engines: { node: '>= 0.4' }

    glob-parent@5.1.2:
        resolution:
            {
                integrity: sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==
            }
        engines: { node: '>= 6' }

    glob-parent@6.0.2:
        resolution:
            {
                integrity: sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==
            }
        engines: { node: '>=10.13.0' }

    glob@10.4.5:
        resolution:
            {
                integrity: sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg==
            }
        hasBin: true

    glob@7.2.3:
        resolution:
            {
                integrity: sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==
            }
        deprecated: Glob versions prior to v9 are no longer supported

    globals@13.24.0:
        resolution:
            {
                integrity: sha512-AhO5QUcj8llrbG09iWhPU2B204J1xnPeL8kQmVorSsy+Sjj1sk8gIyh6cUocGmH4L0UuhAJy+hJMRA4mgA4mFQ==
            }
        engines: { node: '>=8' }

    globals@14.0.0:
        resolution:
            {
                integrity: sha512-oahGvuMGQlPw/ivIYBjVSrWAfWLBeku5tpPE2fOPLi+WHffIWbuh2tCjhyQhTBPMf5E9jDEH4FOmTYgYwbKwtQ==
            }
        engines: { node: '>=18' }

    globals@16.2.0:
        resolution:
            {
                integrity: sha512-O+7l9tPdHCU320IigZZPj5zmRCFG9xHmx9cU8FqU2Rp+JN714seHV+2S9+JslCpY4gJwU2vOGox0wzgae/MCEg==
            }
        engines: { node: '>=18' }

    globalthis@1.0.4:
        resolution:
            {
                integrity: sha512-DpLKbNU4WylpxJykQujfCcwYWiV/Jhm50Goo0wrVILAv5jOr9d+H+UR3PhSCD2rCCEIg0uc+G+muBTwD54JhDQ==
            }
        engines: { node: '>= 0.4' }

    glsl-noise@0.0.0:
        resolution:
            {
                integrity: sha512-b/ZCF6amfAUb7dJM/MxRs7AetQEahYzJ8PtgfrmEdtw6uyGOr+ZSGtgjFm6mfsBkxJ4d2W7kg+Nlqzqvn3Bc0w==
            }

    gopd@1.2.0:
        resolution:
            {
                integrity: sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==
            }
        engines: { node: '>= 0.4' }

    graphemer@1.4.0:
        resolution:
            {
                integrity: sha512-EtKwoO6kxCL9WO5xipiHTZlSzBm7WLT627TqC/uVRd0HKmq8NXyebnNYxDoBi7wt8eTWrUrKXCOVaFq9x1kgag==
            }

    has-bigints@1.1.0:
        resolution:
            {
                integrity: sha512-R3pbpkcIqv2Pm3dUwgjclDRVmWpTJW2DcMzcIhEXEx1oh/CEMObMm3KLmRJOdvhM7o4uQBnwr8pzRK2sJWIqfg==
            }
        engines: { node: '>= 0.4' }

    has-flag@4.0.0:
        resolution:
            {
                integrity: sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==
            }
        engines: { node: '>=8' }

    has-property-descriptors@1.0.2:
        resolution:
            {
                integrity: sha512-55JNKuIW+vq4Ke1BjOTjM2YctQIvCT7GFzHwmfZPGo5wnrgkid0YQtnAleFSqumZm4az3n2BS+erby5ipJdgrg==
            }

    has-proto@1.2.0:
        resolution:
            {
                integrity: sha512-KIL7eQPfHQRC8+XluaIw7BHUwwqL19bQn4hzNgdr+1wXoU0KKj6rufu47lhY7KbJR2C6T6+PfyN0Ea7wkSS+qQ==
            }
        engines: { node: '>= 0.4' }

    has-symbols@1.1.0:
        resolution:
            {
                integrity: sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==
            }
        engines: { node: '>= 0.4' }

    has-tostringtag@1.0.2:
        resolution:
            {
                integrity: sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==
            }
        engines: { node: '>= 0.4' }

    hasown@2.0.2:
        resolution:
            {
                integrity: sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==
            }
        engines: { node: '>= 0.4' }

    hls.js@1.6.13:
        resolution:
            {
                integrity: sha512-hNEzjZNHf5bFrUNvdS4/1RjIanuJ6szpWNfTaX5I6WfGynWXGT7K/YQLYtemSvFExzeMdgdE4SsyVLJbd5PcZA==
            }

    hyphenate-style-name@1.1.0:
        resolution:
            {
                integrity: sha512-WDC/ui2VVRrz3jOVi+XtjqkDjiVjTtFaAGiW37k6b+ohyQ5wYDOGkvCZa8+H0nx3gyvv0+BST9xuOgIyGQ00gw==
            }

    idb@7.1.1:
        resolution:
            {
                integrity: sha512-gchesWBzyvGHRO9W8tzUWFDycow5gwjvFKfyV9FF32Y7F50yZMp7mP+T2mJIWFx49zicqyC4uefHM17o6xKIVQ==
            }

    ieee754@1.2.1:
        resolution:
            {
                integrity: sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==
            }

    ignore@5.3.2:
        resolution:
            {
                integrity: sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==
            }
        engines: { node: '>= 4' }

    ignore@7.0.5:
        resolution:
            {
                integrity: sha512-Hs59xBNfUIunMFgWAbGX5cq6893IbWg4KnrjbYwX3tx0ztorVgTDA6B2sxf8ejHJ4wz8BqGUMYlnzNBer5NvGg==
            }
        engines: { node: '>= 4' }

    immediate@3.0.6:
        resolution:
            {
                integrity: sha512-XXOFtyqDjNDAQxVfYxuF7g9Il/IbWmmlQg2MYKOH8ExIT1qg6xc4zyS3HaEEATgs1btfzxq15ciUiY7gjSXRGQ==
            }

    import-fresh@3.3.1:
        resolution:
            {
                integrity: sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==
            }
        engines: { node: '>=6' }

    imurmurhash@0.1.4:
        resolution:
            {
                integrity: sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==
            }
        engines: { node: '>=0.8.19' }

    inflight@1.0.6:
        resolution:
            {
                integrity: sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==
            }
        deprecated: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.

    inherits@2.0.4:
        resolution:
            {
                integrity: sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==
            }

    inline-style-prefixer@7.0.1:
        resolution:
            {
                integrity: sha512-lhYo5qNTQp3EvSSp3sRvXMbVQTLrvGV6DycRMJ5dm2BLMiJ30wpXKdDdgX+GmJZ5uQMucwRKHamXSst3Sj/Giw==
            }

    input-otp@1.4.2:
        resolution:
            {
                integrity: sha512-l3jWwYNvrEa6NTCt7BECfCm48GvwuZzkoeG3gBL2w4CHeOXW3eKFmf9UNYkNfYc3mxMrthMnxjIE07MT0zLBQA==
            }
        peerDependencies:
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc

    internal-slot@1.1.0:
        resolution:
            {
                integrity: sha512-4gd7VpWNQNB4UKKCFFVcp1AVv+FMOgs9NKzjHKusc8jTMhd5eL1NqQqOpE0KzMds804/yHlglp3uxgluOqAPLw==
            }
        engines: { node: '>= 0.4' }

    internmap@2.0.3:
        resolution:
            {
                integrity: sha512-5Hh7Y1wQbvY5ooGgPbDaL5iYLAPzMTUrjMulskHLH6wnv/A+1q5rgEaiuqEjB+oxGXIVZs1FF+R/KPN3ZSQYYg==
            }
        engines: { node: '>=12' }

    is-array-buffer@3.0.5:
        resolution:
            {
                integrity: sha512-DDfANUiiG2wC1qawP66qlTugJeL5HyzMpfr8lLK+jMQirGzNod0B12cFB/9q838Ru27sBwfw78/rdoU7RERz6A==
            }
        engines: { node: '>= 0.4' }

    is-async-function@2.1.1:
        resolution:
            {
                integrity: sha512-9dgM/cZBnNvjzaMYHVoxxfPj2QXt22Ev7SuuPrs+xav0ukGB0S6d4ydZdEiM48kLx5kDV+QBPrpVnFyefL8kkQ==
            }
        engines: { node: '>= 0.4' }

    is-bigint@1.1.0:
        resolution:
            {
                integrity: sha512-n4ZT37wG78iz03xPRKJrHTdZbe3IicyucEtdRsV5yglwc3GyUfbAfpSeD0FJ41NbUNSt5wbhqfp1fS+BgnvDFQ==
            }
        engines: { node: '>= 0.4' }

    is-binary-path@2.1.0:
        resolution:
            {
                integrity: sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==
            }
        engines: { node: '>=8' }

    is-boolean-object@1.2.2:
        resolution:
            {
                integrity: sha512-wa56o2/ElJMYqjCjGkXri7it5FbebW5usLw/nPmCMs5DeZ7eziSYZhSmPRn0txqeW4LnAmQQU7FgqLpsEFKM4A==
            }
        engines: { node: '>= 0.4' }

    is-callable@1.2.7:
        resolution:
            {
                integrity: sha512-1BC0BVFhS/p0qtw6enp8e+8OD0UrK0oFLztSjNzhcKA3WDuJxxAPXzPuPtKkjEY9UUoEWlX/8fgKeu2S8i9JTA==
            }
        engines: { node: '>= 0.4' }

    is-core-module@2.16.1:
        resolution:
            {
                integrity: sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==
            }
        engines: { node: '>= 0.4' }

    is-data-view@1.0.2:
        resolution:
            {
                integrity: sha512-RKtWF8pGmS87i2D6gqQu/l7EYRlVdfzemCJN/P3UOs//x1QE7mfhvzHIApBTRf7axvT6DMGwSwBXYCT0nfB9xw==
            }
        engines: { node: '>= 0.4' }

    is-date-object@1.1.0:
        resolution:
            {
                integrity: sha512-PwwhEakHVKTdRNVOw+/Gyh0+MzlCl4R6qKvkhuvLtPMggI1WAHt9sOwZxQLSGpUaDnrdyDsomoRgNnCfKNSXXg==
            }
        engines: { node: '>= 0.4' }

    is-extglob@2.1.1:
        resolution:
            {
                integrity: sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==
            }
        engines: { node: '>=0.10.0' }

    is-finalizationregistry@1.1.1:
        resolution:
            {
                integrity: sha512-1pC6N8qWJbWoPtEjgcL2xyhQOP491EQjeUo3qTKcmV8YSDDJrOepfG8pcC7h/QgnQHYSv0mJ3Z/ZWxmatVrysg==
            }
        engines: { node: '>= 0.4' }

    is-fullwidth-code-point@3.0.0:
        resolution:
            {
                integrity: sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==
            }
        engines: { node: '>=8' }

    is-generator-function@1.1.2:
        resolution:
            {
                integrity: sha512-upqt1SkGkODW9tsGNG5mtXTXtECizwtS2kA161M+gJPc1xdb/Ax629af6YrTwcOeQHbewrPNlE5Dx7kzvXTizA==
            }
        engines: { node: '>= 0.4' }

    is-glob@4.0.3:
        resolution:
            {
                integrity: sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==
            }
        engines: { node: '>=0.10.0' }

    is-map@2.0.3:
        resolution:
            {
                integrity: sha512-1Qed0/Hr2m+YqxnM09CjA2d/i6YZNfF6R2oRAOj36eUdS6qIV/huPJNSEpKbupewFs+ZsJlxsjjPbc0/afW6Lw==
            }
        engines: { node: '>= 0.4' }

    is-negative-zero@2.0.3:
        resolution:
            {
                integrity: sha512-5KoIu2Ngpyek75jXodFvnafB6DJgr3u8uuK0LEZJjrU19DrMD3EVERaR8sjz8CCGgpZvxPl9SuE1GMVPFHx1mw==
            }
        engines: { node: '>= 0.4' }

    is-number-object@1.1.1:
        resolution:
            {
                integrity: sha512-lZhclumE1G6VYD8VHe35wFaIif+CTy5SJIi5+3y4psDgWu4wPDoBhF8NxUOinEc7pHgiTsT6MaBb92rKhhD+Xw==
            }
        engines: { node: '>= 0.4' }

    is-number@7.0.0:
        resolution:
            {
                integrity: sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==
            }
        engines: { node: '>=0.12.0' }

    is-path-inside@3.0.3:
        resolution:
            {
                integrity: sha512-Fd4gABb+ycGAmKou8eMftCupSir5lRxqf4aD/vd0cD2qc4HL07OjCeuHMr8Ro4CoMaeCKDB0/ECBOVWjTwUvPQ==
            }
        engines: { node: '>=8' }

    is-promise@2.2.2:
        resolution:
            {
                integrity: sha512-+lP4/6lKUBfQjZ2pdxThZvLUAafmZb8OAxFb8XXtiQmS35INgr85hdOGoEs124ez1FCnZJt6jau/T+alh58QFQ==
            }

    is-regex@1.2.1:
        resolution:
            {
                integrity: sha512-MjYsKHO5O7mCsmRGxWcLWheFqN9DJ/2TmngvjKXihe6efViPqc274+Fx/4fYj/r03+ESvBdTXK0V6tA3rgez1g==
            }
        engines: { node: '>= 0.4' }

    is-set@2.0.3:
        resolution:
            {
                integrity: sha512-iPAjerrse27/ygGLxw+EBR9agv9Y6uLeYVJMu+QNCoouJ1/1ri0mGrcWpfCqFZuzzx3WjtwxG098X+n4OuRkPg==
            }
        engines: { node: '>= 0.4' }

    is-shared-array-buffer@1.0.4:
        resolution:
            {
                integrity: sha512-ISWac8drv4ZGfwKl5slpHG9OwPNty4jOWPRIhBpxOoD+hqITiwuipOQ2bNthAzwA3B4fIjO4Nln74N0S9byq8A==
            }
        engines: { node: '>= 0.4' }

    is-string@1.1.1:
        resolution:
            {
                integrity: sha512-BtEeSsoaQjlSPBemMQIrY1MY0uM6vnS1g5fmufYOtnxLGUZM2178PKbhsk7Ffv58IX+ZtcvoGwccYsh0PglkAA==
            }
        engines: { node: '>= 0.4' }

    is-symbol@1.1.1:
        resolution:
            {
                integrity: sha512-9gGx6GTtCQM73BgmHQXfDmLtfjjTUDSyoxTCbp5WtoixAhfgsDirWIcVQ/IHpvI5Vgd5i/J5F7B9cN/WlVbC/w==
            }
        engines: { node: '>= 0.4' }

    is-typed-array@1.1.15:
        resolution:
            {
                integrity: sha512-p3EcsicXjit7SaskXHs1hA91QxgTw46Fv6EFKKGS5DRFLD8yKnohjF3hxoju94b/OcMZoQukzpPpBE9uLVKzgQ==
            }
        engines: { node: '>= 0.4' }

    is-weakmap@2.0.2:
        resolution:
            {
                integrity: sha512-K5pXYOm9wqY1RgjpL3YTkF39tni1XajUIkawTLUo9EZEVUFga5gSQJF8nNS7ZwJQ02y+1YCNYcMh+HIf1ZqE+w==
            }
        engines: { node: '>= 0.4' }

    is-weakref@1.1.1:
        resolution:
            {
                integrity: sha512-6i9mGWSlqzNMEqpCp93KwRS1uUOodk2OJ6b+sq7ZPDSy2WuI5NFIxp/254TytR8ftefexkWn5xNiHUNpPOfSew==
            }
        engines: { node: '>= 0.4' }

    is-weakset@2.0.4:
        resolution:
            {
                integrity: sha512-mfcwb6IzQyOKTs84CQMrOwW4gQcaTOAWJ0zzJCl2WSPDrWk/OzDaImWFH3djXhb24g4eudZfLRozAvPGw4d9hQ==
            }
        engines: { node: '>= 0.4' }

    isarray@2.0.5:
        resolution:
            {
                integrity: sha512-xHjhDr3cNBK0BzdUJSPXZntQUx/mwMS5Rw4A7lPJ90XGAO6ISP/ePDNuo0vhqOZU+UD5JoodwCAAoZQd3FeAKw==
            }

    isbot@5.1.31:
        resolution:
            {
                integrity: sha512-DPgQshehErHAqSCKDb3rNW03pa2wS/v5evvUqtxt6TTnHRqAG8FdzcSSJs9656pK6Y+NT7K9R4acEYXLHYfpUQ==
            }
        engines: { node: '>=18' }

    isexe@2.0.0:
        resolution:
            {
                integrity: sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==
            }

    iterator.prototype@1.1.5:
        resolution:
            {
                integrity: sha512-H0dkQoCa3b2VEeKQBOxFph+JAbcrQdE7KC0UkqwpLmv2EC4P41QXP+rqo9wYodACiG5/WM5s9oDApTU8utwj9g==
            }
        engines: { node: '>= 0.4' }

    its-fine@2.0.0:
        resolution:
            {
                integrity: sha512-KLViCmWx94zOvpLwSlsx6yOCeMhZYaxrJV87Po5k/FoZzcPSahvK5qJ7fYhS61sZi5ikmh2S3Hz55A2l3U69ng==
            }
        peerDependencies:
            react: ^19.0.0

    jackspeak@3.4.3:
        resolution:
            {
                integrity: sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==
            }

    jiti@1.21.7:
        resolution:
            {
                integrity: sha512-/imKNG4EbWNrVjoNC/1H5/9GFy+tqjGBHCaSsN+P2RnPqjsLmv6UD3Ej+Kj8nBWaRAwyk7kK5ZUc+OEatnTR3A==
            }
        hasBin: true

    js-cookie@2.2.1:
        resolution:
            {
                integrity: sha512-HvdH2LzI/EAZcUwA8+0nKNtWHqS+ZmijLA30RwZA0bo7ToCckjK5MkGhjED9KoRcXO6BaGI3I9UIzSA1FKFPOQ==
            }

    js-tokens@4.0.0:
        resolution:
            {
                integrity: sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==
            }

    js-yaml@4.1.0:
        resolution:
            {
                integrity: sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==
            }
        hasBin: true

    jsesc@3.1.0:
        resolution:
            {
                integrity: sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==
            }
        engines: { node: '>=6' }
        hasBin: true

    json-buffer@3.0.1:
        resolution:
            {
                integrity: sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==
            }

    json-schema-traverse@0.4.1:
        resolution:
            {
                integrity: sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==
            }

    json-stable-stringify-without-jsonify@1.0.1:
        resolution:
            {
                integrity: sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==
            }

    json5@2.2.3:
        resolution:
            {
                integrity: sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==
            }
        engines: { node: '>=6' }
        hasBin: true

    jsx-ast-utils@3.3.5:
        resolution:
            {
                integrity: sha512-ZZow9HBI5O6EPgSJLUb8n2NKgmVWTwCvHGwFuJlMjvLFqlGG6pjirPhtdsseaLZjSibD8eegzmYpUZwoIlj2cQ==
            }
        engines: { node: '>=4.0' }

    keyv@4.5.4:
        resolution:
            {
                integrity: sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==
            }

    levn@0.4.1:
        resolution:
            {
                integrity: sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==
            }
        engines: { node: '>= 0.8.0' }

    lie@3.3.0:
        resolution:
            {
                integrity: sha512-UaiMJzeWRlEujzAuw5LokY1L5ecNQYZKfmyZ9L7wDHb/p5etKaxXhohBcrw0EYby+G/NA52vRSN4N39dxHAIwQ==
            }

    lilconfig@3.1.3:
        resolution:
            {
                integrity: sha512-/vlFKAoH5Cgt3Ie+JLhRbwOsCQePABiU3tJ1egGvyQ+33R/vcwM2Zl2QR/LzjsBeItPt3oSVXapn+m4nQDvpzw==
            }
        engines: { node: '>=14' }

    lines-and-columns@1.2.4:
        resolution:
            {
                integrity: sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==
            }

    locate-path@6.0.0:
        resolution:
            {
                integrity: sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==
            }
        engines: { node: '>=10' }

    lodash-es@4.17.21:
        resolution:
            {
                integrity: sha512-mKnC+QJ9pWVzv+C4/U3rRsHapFfHvQFoFB92e52xeyGMcX6/OlIl78je1u8vePzYZSkkogMPJ2yjxxsb89cxyw==
            }

    lodash.castarray@4.4.0:
        resolution:
            {
                integrity: sha512-aVx8ztPv7/2ULbArGJ2Y42bG1mEQ5mGjpdvrbJcJFU3TbYybe+QlLS4pst9zV52ymy2in1KpFPiZnAOATxD4+Q==
            }

    lodash.clonedeep@4.5.0:
        resolution:
            {
                integrity: sha512-H5ZhCF25riFd9uB5UCkVKo61m3S/xZk1x4wA6yp/L3RFP6Z/eHH1ymQcGLo7J3GMPfm0V/7m1tryHuGVxpqEBQ==
            }

    lodash.isequal@4.5.0:
        resolution:
            {
                integrity: sha512-pDo3lu8Jhfjqls6GkMgpahsF9kCyayhgykjyLMNFTKWrpVdAQtYyB4muAMWozBB4ig/dtWAmsMxLEI8wuz+DYQ==
            }
        deprecated: This package is deprecated. Use require('node:util').isDeepStrictEqual instead.

    lodash.isplainobject@4.0.6:
        resolution:
            {
                integrity: sha512-oSXzaWypCMHkPC3NvBEaPHf0KsA5mvPrOPgQWDsbg8n7orZ290M0BmC/jgRZ4vcJ6DTAhjrsSYgdsW/F+MFOBA==
            }

    lodash.merge@4.6.2:
        resolution:
            {
                integrity: sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==
            }

    lodash@4.17.21:
        resolution:
            {
                integrity: sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==
            }

    loose-envify@1.4.0:
        resolution:
            {
                integrity: sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==
            }
        hasBin: true

    lru-cache@10.4.3:
        resolution:
            {
                integrity: sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==
            }

    lru-cache@5.1.1:
        resolution:
            {
                integrity: sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==
            }

    lucide-react@0.511.0:
        resolution:
            {
                integrity: sha512-VK5a2ydJ7xm8GvBeKLS9mu1pVK6ucef9780JVUjw6bAjJL/QXnd4Y0p7SPeOUMC27YhzNCZvm5d/QX0Tp3rc0w==
            }
        peerDependencies:
            react: ^16.5.1 || ^17.0.0 || ^18.0.0 || ^19.0.0

    maath@0.10.8:
        resolution:
            {
                integrity: sha512-tRvbDF0Pgqz+9XUa4jjfgAQ8/aPKmQdWXilFu2tMy4GWj4NOsx99HlULO4IeREfbO3a0sA145DZYyvXPkybm0g==
            }
        peerDependencies:
            '@types/three': '>=0.134.0'
            three: '>=0.134.0'

    math-intrinsics@1.1.0:
        resolution:
            {
                integrity: sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==
            }
        engines: { node: '>= 0.4' }

    mdn-data@2.0.14:
        resolution:
            {
                integrity: sha512-dn6wd0uw5GsdswPFfsgMp5NSB0/aDe6fK94YJV/AJDYXL6HVLWBsxeq7js7Ad+mU2K9LAlwpk6kN2D5mwCPVow==
            }

    merge2@1.4.1:
        resolution:
            {
                integrity: sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==
            }
        engines: { node: '>= 8' }

    meshline@3.3.1:
        resolution:
            {
                integrity: sha512-/TQj+JdZkeSUOl5Mk2J7eLcYTLiQm2IDzmlSvYm7ov15anEcDJ92GHqqazxTSreeNgfnYu24kiEvvv0WlbCdFQ==
            }
        peerDependencies:
            three: '>=0.137'

    meshoptimizer@0.18.1:
        resolution:
            {
                integrity: sha512-ZhoIoL7TNV4s5B6+rx5mC//fw8/POGyNxS/DZyCJeiZ12ScLfVwRE/GfsxwiTkMYYD5DmK2/JXnEVXqL4rF+Sw==
            }

    micromatch@4.0.8:
        resolution:
            {
                integrity: sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==
            }
        engines: { node: '>=8.6' }

    minimatch@3.1.2:
        resolution:
            {
                integrity: sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==
            }

    minimatch@9.0.5:
        resolution:
            {
                integrity: sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==
            }
        engines: { node: '>=16 || 14 >=14.17' }

    minimist@1.2.8:
        resolution:
            {
                integrity: sha512-2yyAR8qBkN3YuheJanUpWC5U3bb5osDywNB8RzDVlDwDHbocAJveqqj1u8+SVD7jkWT4yvsHCpWqqWqAxb0zCA==
            }

    minipass@7.1.2:
        resolution:
            {
                integrity: sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==
            }
        engines: { node: '>=16 || 14 >=14.17' }

    ms@2.1.3:
        resolution:
            {
                integrity: sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==
            }

    mz@2.7.0:
        resolution:
            {
                integrity: sha512-z81GNO7nnYMEhrGh9LeymoE4+Yr0Wn5McHIZMK5cfQCl+NDX08sCZgUc9/6MHni9IWuFLm1Z3HTCXu2z9fN62Q==
            }

    nano-css@5.6.2:
        resolution:
            {
                integrity: sha512-+6bHaC8dSDGALM1HJjOHVXpuastdu2xFoZlC77Jh4cg+33Zcgm+Gxd+1xsnpZK14eyHObSp82+ll5y3SX75liw==
            }
        peerDependencies:
            react: '*'
            react-dom: '*'

    nanoid@3.3.11:
        resolution:
            {
                integrity: sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==
            }
        engines: { node: ^10 || ^12 || ^13.7 || ^14 || >=15.0.1 }
        hasBin: true

    natural-compare@1.4.0:
        resolution:
            {
                integrity: sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==
            }

    next-themes@0.4.6:
        resolution:
            {
                integrity: sha512-pZvgD5L0IEvX5/9GWyHMf3m8BKiVQwsCMHfoFosXtXBMnaS0ZnIJ9ST4b4NqLVKDEm8QBxoNNGNaBv2JNF6XNA==
            }
        peerDependencies:
            react: ^16.8 || ^17 || ^18 || ^19 || ^19.0.0-rc
            react-dom: ^16.8 || ^17 || ^18 || ^19 || ^19.0.0-rc

    node-releases@2.0.27:
        resolution:
            {
                integrity: sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==
            }

    normalize-path@3.0.0:
        resolution:
            {
                integrity: sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==
            }
        engines: { node: '>=0.10.0' }

    normalize-range@0.1.2:
        resolution:
            {
                integrity: sha512-bdok/XvKII3nUpklnV6P2hxtMNrCboOjAcyBuQnWEhO665FwrSNRxU+AqpsyvO6LgGYPspN+lu5CLtw4jPRKNA==
            }
        engines: { node: '>=0.10.0' }

    object-assign@4.1.1:
        resolution:
            {
                integrity: sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==
            }
        engines: { node: '>=0.10.0' }

    object-hash@3.0.0:
        resolution:
            {
                integrity: sha512-RSn9F68PjH9HqtltsSnqYC1XXoWe9Bju5+213R98cNGttag9q9yAOTzdbsqvIa7aNm5WffBZFpWYr2aWrklWAw==
            }
        engines: { node: '>= 6' }

    object-inspect@1.13.4:
        resolution:
            {
                integrity: sha512-W67iLl4J2EXEGTbfeHCffrjDfitvLANg0UlX3wFUUSTx92KXRFegMHUVgSqE+wvhAbi4WqjGg9czysTV2Epbew==
            }
        engines: { node: '>= 0.4' }

    object-keys@1.1.1:
        resolution:
            {
                integrity: sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA==
            }
        engines: { node: '>= 0.4' }

    object.assign@4.1.7:
        resolution:
            {
                integrity: sha512-nK28WOo+QIjBkDduTINE4JkF/UJJKyf2EJxvJKfblDpyg0Q+pkOHNTL0Qwy6NP6FhE/EnzV73BxxqcJaXY9anw==
            }
        engines: { node: '>= 0.4' }

    object.entries@1.1.9:
        resolution:
            {
                integrity: sha512-8u/hfXFRBD1O0hPUjioLhoWFHRmt6tKA4/vZPyckBr18l1KE9uHrFaFaUi8MDRTpi4uak2goyPTSNJLXX2k2Hw==
            }
        engines: { node: '>= 0.4' }

    object.fromentries@2.0.8:
        resolution:
            {
                integrity: sha512-k6E21FzySsSK5a21KRADBd/NGneRegFO5pLHfdQLpRDETUNJueLXs3WCzyQ3tFRDYgbq3KHGXfTbi2bs8WQ6rQ==
            }
        engines: { node: '>= 0.4' }

    object.values@1.2.1:
        resolution:
            {
                integrity: sha512-gXah6aZrcUxjWg2zR2MwouP2eHlCBzdV4pygudehaKXSGW4v2AsRQUK+lwwXhii6KFZcunEnmSUoYp5CXibxtA==
            }
        engines: { node: '>= 0.4' }

    once@1.4.0:
        resolution:
            {
                integrity: sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==
            }

    optionator@0.9.4:
        resolution:
            {
                integrity: sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==
            }
        engines: { node: '>= 0.8.0' }

    own-keys@1.0.1:
        resolution:
            {
                integrity: sha512-qFOyK5PjiWZd+QQIh+1jhdb9LpxTF0qs7Pm8o5QHYZ0M3vKqSqzsZaEB6oWlxZ+q2sJBMI/Ktgd2N5ZwQoRHfg==
            }
        engines: { node: '>= 0.4' }

    p-limit@3.1.0:
        resolution:
            {
                integrity: sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==
            }
        engines: { node: '>=10' }

    p-locate@5.0.0:
        resolution:
            {
                integrity: sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==
            }
        engines: { node: '>=10' }

    package-json-from-dist@1.0.1:
        resolution:
            {
                integrity: sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==
            }

    parchment@3.0.0:
        resolution:
            {
                integrity: sha512-HUrJFQ/StvgmXRcQ1ftY6VEZUq3jA2t9ncFN4F84J/vN0/FPpQF+8FKXb3l6fLces6q0uOHj6NJn+2xvZnxO6A==
            }

    parent-module@1.0.1:
        resolution:
            {
                integrity: sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==
            }
        engines: { node: '>=6' }

    path-exists@4.0.0:
        resolution:
            {
                integrity: sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==
            }
        engines: { node: '>=8' }

    path-is-absolute@1.0.1:
        resolution:
            {
                integrity: sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==
            }
        engines: { node: '>=0.10.0' }

    path-key@3.1.1:
        resolution:
            {
                integrity: sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==
            }
        engines: { node: '>=8' }

    path-parse@1.0.7:
        resolution:
            {
                integrity: sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==
            }

    path-scurry@1.11.1:
        resolution:
            {
                integrity: sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==
            }
        engines: { node: '>=16 || 14 >=14.18' }

    picocolors@1.1.1:
        resolution:
            {
                integrity: sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==
            }

    picomatch@2.3.1:
        resolution:
            {
                integrity: sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==
            }
        engines: { node: '>=8.6' }

    pify@2.3.0:
        resolution:
            {
                integrity: sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==
            }
        engines: { node: '>=0.10.0' }

    pirates@4.0.7:
        resolution:
            {
                integrity: sha512-TfySrs/5nm8fQJDcBDuUng3VOUKsd7S+zqvbOTiGXHfxX4wK31ard+hoNuvkicM/2YFzlpDgABOevKSsB4G/FA==
            }
        engines: { node: '>= 6' }

    possible-typed-array-names@1.1.0:
        resolution:
            {
                integrity: sha512-/+5VFTchJDoVj3bhoqi6UeymcD00DAwb1nJwamzPvHEszJ4FpF6SNNbUbOS8yI56qHzdV8eK0qEfOSiodkTdxg==
            }
        engines: { node: '>= 0.4' }

    postcss-import@15.1.0:
        resolution:
            {
                integrity: sha512-hpr+J05B2FVYUAXHeK1YyI267J/dDDhMU6B6civm8hSY1jYJnBXxzKDKDswzJmtLHryrjhnDjqqp/49t8FALew==
            }
        engines: { node: '>=14.0.0' }
        peerDependencies:
            postcss: ^8.0.0

    postcss-js@4.1.0:
        resolution:
            {
                integrity: sha512-oIAOTqgIo7q2EOwbhb8UalYePMvYoIeRY2YKntdpFQXNosSu3vLrniGgmH9OKs/qAkfoj5oB3le/7mINW1LCfw==
            }
        engines: { node: ^12 || ^14 || >= 16 }
        peerDependencies:
            postcss: ^8.4.21

    postcss-load-config@6.0.1:
        resolution:
            {
                integrity: sha512-oPtTM4oerL+UXmx+93ytZVN82RrlY/wPUV8IeDxFrzIjXOLF1pN+EmKPLbubvKHT2HC20xXsCAH2Z+CKV6Oz/g==
            }
        engines: { node: '>= 18' }
        peerDependencies:
            jiti: '>=1.21.0'
            postcss: '>=8.0.9'
            tsx: ^4.8.1
            yaml: ^2.4.2
        peerDependenciesMeta:
            jiti:
                optional: true
            postcss:
                optional: true
            tsx:
                optional: true
            yaml:
                optional: true

    postcss-nested@6.2.0:
        resolution:
            {
                integrity: sha512-HQbt28KulC5AJzG+cZtj9kvKB93CFCdLvog1WFLf1D+xmMvPGlBstkpTEZfK5+AN9hfJocyBFCNiqyS48bpgzQ==
            }
        engines: { node: '>=12.0' }
        peerDependencies:
            postcss: ^8.2.14

    postcss-selector-parser@6.0.10:
        resolution:
            {
                integrity: sha512-IQ7TZdoaqbT+LCpShg46jnZVlhWD2w6iQYAcYXfHARZ7X1t/UGhhceQDs5X0cGqKvYlHNOuv7Oa1xmb0oQuA3w==
            }
        engines: { node: '>=4' }

    postcss-selector-parser@6.1.2:
        resolution:
            {
                integrity: sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==
            }
        engines: { node: '>=4' }

    postcss-value-parser@4.2.0:
        resolution:
            {
                integrity: sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==
            }

    postcss@8.5.6:
        resolution:
            {
                integrity: sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==
            }
        engines: { node: ^10 || ^12 || >=14 }

    potpack@1.0.2:
        resolution:
            {
                integrity: sha512-choctRBIV9EMT9WGAZHn3V7t0Z2pMQyl0EZE6pFc/6ml3ssw7Dlf/oAOvFwjm1HVsqfQN8GfeFyJ+d8tRzqueQ==
            }

    prelude-ls@1.2.1:
        resolution:
            {
                integrity: sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==
            }
        engines: { node: '>= 0.8.0' }

    promise-worker-transferable@1.0.4:
        resolution:
            {
                integrity: sha512-bN+0ehEnrXfxV2ZQvU2PetO0n4gqBD4ulq3MI1WOPLgr7/Mg9yRQkX5+0v1vagr74ZTsl7XtzlaYDo2EuCeYJw==
            }

    prop-types@15.8.1:
        resolution:
            {
                integrity: sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==
            }

    punycode@2.3.1:
        resolution:
            {
                integrity: sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==
            }
        engines: { node: '>=6' }

    pvtsutils@1.3.6:
        resolution:
            {
                integrity: sha512-PLgQXQ6H2FWCaeRak8vvk1GW462lMxB5s3Jm673N82zI4vqtVUPuZdffdZbPDFRoU8kAhItWFtPCWiPpp4/EDg==
            }

    pvutils@1.1.5:
        resolution:
            {
                integrity: sha512-KTqnxsgGiQ6ZAzZCVlJH5eOjSnvlyEgx1m8bkRJfOhmGRqfo5KLvmAlACQkrjEtOQ4B7wF9TdSLIs9O90MX9xA==
            }
        engines: { node: '>=16.0.0' }

    queue-microtask@1.2.3:
        resolution:
            {
                integrity: sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==
            }

    quill-delta@5.1.0:
        resolution:
            {
                integrity: sha512-X74oCeRI4/p0ucjb5Ma8adTXd9Scumz367kkMK5V/IatcX6A0vlgLgKbzXWy5nZmCGeNJm2oQX0d2Eqj+ZIlCA==
            }
        engines: { node: '>= 12.0.0' }

    quill@2.0.3:
        resolution:
            {
                integrity: sha512-xEYQBqfYx/sfb33VJiKnSJp8ehloavImQ2A6564GAbqG55PGw1dAWUn1MUbQB62t0azawUS2CZZhWCjO8gRvTw==
            }
        engines: { npm: '>=8.2.3' }

    react-day-picker@9.11.1:
        resolution:
            {
                integrity: sha512-l3ub6o8NlchqIjPKrRFUCkTUEq6KwemQlfv3XZzzwpUeGwmDJ+0u0Upmt38hJyd7D/vn2dQoOoLV/qAp0o3uUw==
            }
        engines: { node: '>=18' }
        peerDependencies:
            react: '>=16.8.0'

    react-dom@19.1.1:
        resolution:
            {
                integrity: sha512-Dlq/5LAZgF0Gaz6yiqZCf6VCcZs1ghAJyrsu84Q/GT0gV+mCxbfmKNoGRKBYMJ8IEdGPqu49YWXD02GCknEDkw==
            }
        peerDependencies:
            react: ^19.1.1

    react-hook-form@7.65.0:
        resolution:
            {
                integrity: sha512-xtOzDz063WcXvGWaHgLNrNzlsdFgtUWcb32E6WFaGTd7kPZG3EeDusjdZfUsPwKCKVXy1ZlntifaHZ4l8pAsmw==
            }
        engines: { node: '>=18.0.0' }
        peerDependencies:
            react: ^16.8.0 || ^17 || ^18 || ^19

    react-icons@5.5.0:
        resolution:
            {
                integrity: sha512-MEFcXdkP3dLo8uumGI5xN3lDFNsRtrjbOEKDLD7yv76v4wpnEq2Lt2qeHaQOr34I/wPN3s3+N08WkQ+CW37Xiw==
            }
        peerDependencies:
            react: '*'

    react-is@16.13.1:
        resolution:
            {
                integrity: sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==
            }

    react-is@18.3.1:
        resolution:
            {
                integrity: sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==
            }

    react-quill-new@3.4.6:
        resolution:
            {
                integrity: sha512-S2kEAwoKRo+xUIAEpb94fwiPe2QU3FmwIfQ+7Lkchf+izPa2nRu1mr4i4QxyVYg8TjHDryDUiOEYZuFEV45QFA==
            }
        peerDependencies:
            quill-delta: ^5.1.0
            react: ^16 || ^17 || ^18 || ^19
            react-dom: ^16 || ^17 || ^18 || ^19

    react-reconciler@0.31.0:
        resolution:
            {
                integrity: sha512-7Ob7Z+URmesIsIVRjnLoDGwBEG/tVitidU0nMsqX/eeJaLY89RISO/10ERe0MqmzuKUUB1rmY+h1itMbUHg9BQ==
            }
        engines: { node: '>=0.10.0' }
        peerDependencies:
            react: ^19.0.0

    react-refresh@0.17.0:
        resolution:
            {
                integrity: sha512-z6F7K9bV85EfseRCp2bzrpyQ0Gkw1uLoCel9XBVWPg/TjRj94SkJzUTGfOa4bs7iJvBWtQG0Wq7wnI0syw3EBQ==
            }
        engines: { node: '>=0.10.0' }

    react-remove-scroll-bar@2.3.8:
        resolution:
            {
                integrity: sha512-9r+yi9+mgU33AKcj6IbT9oRCO78WriSj6t/cF8DWBZJ9aOGPOTEDvdUDz1FwKim7QXWwmHqtdHnRJfhAxEG46Q==
            }
        engines: { node: '>=10' }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0
        peerDependenciesMeta:
            '@types/react':
                optional: true

    react-remove-scroll@2.7.1:
        resolution:
            {
                integrity: sha512-HpMh8+oahmIdOuS5aFKKY6Pyog+FNaZV/XyJOq7b4YFwsFHe5yYfdbIalI4k3vU2nSDql7YskmUseHsRrJqIPA==
            }
        engines: { node: '>=10' }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    react-resizable-panels@2.1.9:
        resolution:
            {
                integrity: sha512-z77+X08YDIrgAes4jl8xhnUu1LNIRp4+E7cv4xHmLOxxUPO/ML7PSrE813b90vj7xvQ1lcf7g2uA9GeMZonjhQ==
            }
        peerDependencies:
            react: ^16.14.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc
            react-dom: ^16.14.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc

    react-smooth@4.0.4:
        resolution:
            {
                integrity: sha512-gnGKTpYwqL0Iii09gHobNolvX4Kiq4PKx6eWBCYYix+8cdw+cGo3do906l1NBPKkSWx1DghC1dlWG9L2uGd61Q==
            }
        peerDependencies:
            react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0
            react-dom: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0

    react-style-singleton@2.2.3:
        resolution:
            {
                integrity: sha512-b6jSvxvVnyptAiLjbkWLE/lOnR4lfTtDAl+eUC7RZy+QQWc6wRzIV2CE6xBuMmDxc2qIihtDCZD5NPOFl7fRBQ==
            }
        engines: { node: '>=10' }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    react-transition-group@4.4.5:
        resolution:
            {
                integrity: sha512-pZcd1MCJoiKiBR2NRxeCRg13uCXbydPnmB4EOeRrY7480qNWO8IIgQG6zlDkm6uRMsURXPuKq0GWtiM59a5Q6g==
            }
        peerDependencies:
            react: '>=16.6.0'
            react-dom: '>=16.6.0'

    react-universal-interface@0.6.2:
        resolution:
            {
                integrity: sha512-dg8yXdcQmvgR13RIlZbTRQOoUrDciFVoSBZILwjE2LFISxZZ8loVJKAkuzswl5js8BHda79bIb2b84ehU8IjXw==
            }
        peerDependencies:
            react: '*'
            tslib: '*'

    react-use-measure@2.1.7:
        resolution:
            {
                integrity: sha512-KrvcAo13I/60HpwGO5jpW7E9DfusKyLPLvuHlUyP5zqnmAPhNc6qTRjUQrdTADl0lpPpDVU2/Gg51UlOGHXbdg==
            }
        peerDependencies:
            react: '>=16.13'
            react-dom: '>=16.13'
        peerDependenciesMeta:
            react-dom:
                optional: true

    react-use@17.6.0:
        resolution:
            {
                integrity: sha512-OmedEScUMKFfzn1Ir8dBxiLLSOzhKe/dPZwVxcujweSj45aNM7BEGPb9BEVIgVEqEXx6f3/TsXzwIktNgUR02g==
            }
        peerDependencies:
            react: '*'
            react-dom: '*'

    react@19.1.1:
        resolution:
            {
                integrity: sha512-w8nqGImo45dmMIfljjMwOGtbmC/mk4CMYhWIicdSflH91J9TyCyczcPFXJzrZ/ZXcgGRFeP6BU0BEJTw6tZdfQ==
            }
        engines: { node: '>=0.10.0' }

    read-cache@1.0.0:
        resolution:
            {
                integrity: sha512-Owdv/Ft7IjOgm/i0xvNDZ1LrRANRfew4b2prF3OWMQLxLfu3bS8FVhCsrSCMK4lR56Y9ya+AThoTpDCTxCmpRA==
            }

    readdirp@3.6.0:
        resolution:
            {
                integrity: sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==
            }
        engines: { node: '>=8.10.0' }

    recharts-scale@0.4.5:
        resolution:
            {
                integrity: sha512-kivNFO+0OcUNu7jQquLXAxz1FIwZj8nrj+YkOKc5694NbjCvcT6aSZiIzNzd2Kul4o4rTto8QVR9lMNtxD4G1w==
            }

    recharts@2.15.4:
        resolution:
            {
                integrity: sha512-UT/q6fwS3c1dHbXv2uFgYJ9BMFHu3fwnd7AYZaEQhXuYQ4hgsxLvsUXzGdKeZrW5xopzDCvuA2N41WJ88I7zIw==
            }
        engines: { node: '>=14' }
        peerDependencies:
            react: ^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0
            react-dom: ^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0

    reflect.getprototypeof@1.0.10:
        resolution:
            {
                integrity: sha512-00o4I+DVrefhv+nX0ulyi3biSHCPDe+yLv5o/p6d/UVlirijB8E16FtfwSAi4g3tcqrQ4lRAqQSoFEZJehYEcw==
            }
        engines: { node: '>= 0.4' }

    regexp.prototype.flags@1.5.4:
        resolution:
            {
                integrity: sha512-dYqgNSZbDwkaJ2ceRd9ojCGjBq+mOm9LmtXnAnEGyHhN/5R7iDW2TRw3h+o/jCFxus3P2LfWIIiwowAjANm7IA==
            }
        engines: { node: '>= 0.4' }

    require-from-string@2.0.2:
        resolution:
            {
                integrity: sha512-Xf0nWe6RseziFMu+Ap9biiUbmplq6S9/p+7w7YXP/JBHhrUDDUhwa+vANyubuqfZWTveU//DYVGsDG7RKL/vEw==
            }
        engines: { node: '>=0.10.0' }

    resize-observer-polyfill@1.5.1:
        resolution:
            {
                integrity: sha512-LwZrotdHOo12nQuZlHEmtuXdqGoOD0OhaxopaNFxWzInpEgaLWoVuAMbTzixuosCx2nEG58ngzW3vxdWoxIgdg==
            }

    resolve-from@4.0.0:
        resolution:
            {
                integrity: sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==
            }
        engines: { node: '>=4' }

    resolve@1.22.11:
        resolution:
            {
                integrity: sha512-RfqAvLnMl313r7c9oclB1HhUEAezcpLjz95wFH4LVuhk9JF/r22qmVP9AMmOU4vMX7Q8pN8jwNg/CSpdFnMjTQ==
            }
        engines: { node: '>= 0.4' }
        hasBin: true

    resolve@2.0.0-next.5:
        resolution:
            {
                integrity: sha512-U7WjGVG9sH8tvjW5SmGbQuui75FiyjAX72HX15DwBBwF9dNiQZRQAg9nnPhYy+TUnE0+VcrttuvNI8oSxZcocA==
            }
        hasBin: true

    reusify@1.1.0:
        resolution:
            {
                integrity: sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==
            }
        engines: { iojs: '>=1.0.0', node: '>=0.10.0' }

    rimraf@3.0.2:
        resolution:
            {
                integrity: sha512-JZkJMZkAGFFPP2YqXZXPbMlMBgsxzE8ILs4lMIX/2o0L9UBw9O/Y3o6wFw/i9YLapcUJWwqbi3kdxIPdC62TIA==
            }
        deprecated: Rimraf versions prior to v4 are no longer supported
        hasBin: true

    rollup@4.52.5:
        resolution:
            {
                integrity: sha512-3GuObel8h7Kqdjt0gxkEzaifHTqLVW56Y/bjN7PSQtkKr0w3V/QYSdt6QWYtd7A1xUtYQigtdUfgj1RvWVtorw==
            }
        engines: { node: '>=18.0.0', npm: '>=8.0.0' }
        hasBin: true

    rtl-css-js@1.16.1:
        resolution:
            {
                integrity: sha512-lRQgou1mu19e+Ya0LsTvKrVJ5TYUbqCVPAiImX3UfLTenarvPUl1QFdvu5Z3PYmHT9RCcwIfbjRQBntExyj3Zg==
            }

    run-parallel@1.2.0:
        resolution:
            {
                integrity: sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==
            }

    safe-array-concat@1.1.3:
        resolution:
            {
                integrity: sha512-AURm5f0jYEOydBj7VQlVvDrjeFgthDdEF5H1dP+6mNpoXOMo1quQqJ4wvJDyRZ9+pO3kGWoOdmV08cSv2aJV6Q==
            }
        engines: { node: '>=0.4' }

    safe-push-apply@1.0.0:
        resolution:
            {
                integrity: sha512-iKE9w/Z7xCzUMIZqdBsp6pEQvwuEebH4vdpjcDWnyzaI6yl6O9FHvVpmGelvEHNsoY6wGblkxR6Zty/h00WiSA==
            }
        engines: { node: '>= 0.4' }

    safe-regex-test@1.1.0:
        resolution:
            {
                integrity: sha512-x/+Cz4YrimQxQccJf5mKEbIa1NzeCRNI5Ecl/ekmlYaampdNLPalVyIcCZNNH3MvmqBugV5TMYZXv0ljslUlaw==
            }
        engines: { node: '>= 0.4' }

    scheduler@0.25.0:
        resolution:
            {
                integrity: sha512-xFVuu11jh+xcO7JOAGJNOXld8/TcEHK/4CituBUeUb5hqxJLj9YuemAEuvm9gQ/+pgXYfbQuqAkiYu+u7YEsNA==
            }

    scheduler@0.26.0:
        resolution:
            {
                integrity: sha512-NlHwttCI/l5gCPR3D1nNXtWABUmBwvZpEQiD4IXSbIDq8BzLIK/7Ir5gTFSGZDUu37K5cMNp0hFtzO38sC7gWA==
            }

    screenfull@5.2.0:
        resolution:
            {
                integrity: sha512-9BakfsO2aUQN2K9Fdbj87RJIEZ82Q9IGim7FqM5OsebfoFC6ZHXgDq/KvniuLTPdeM8wY2o6Dj3WQ7KeQCj3cA==
            }
        engines: { node: '>=0.10.0' }

    semver@6.3.1:
        resolution:
            {
                integrity: sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==
            }
        hasBin: true

    semver@7.7.3:
        resolution:
            {
                integrity: sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q==
            }
        engines: { node: '>=10' }
        hasBin: true

    seroval-plugins@1.3.3:
        resolution:
            {
                integrity: sha512-16OL3NnUBw8JG1jBLUoZJsLnQq0n5Ua6aHalhJK4fMQkz1lqR7Osz1sA30trBtd9VUDc2NgkuRCn8+/pBwqZ+w==
            }
        engines: { node: '>=10' }
        peerDependencies:
            seroval: ^1.0

    seroval@1.3.2:
        resolution:
            {
                integrity: sha512-RbcPH1n5cfwKrru7v7+zrZvjLurgHhGyso3HTyGtRivGWgYjbOmGuivCQaORNELjNONoK35nj28EoWul9sb1zQ==
            }
        engines: { node: '>=10' }

    set-function-length@1.2.2:
        resolution:
            {
                integrity: sha512-pgRc4hJ4/sNjWCSS9AmnS40x3bNMDTknHgL5UaMBTMyJnU90EgWh1Rz+MC9eFu4BuN/UwZjKQuY/1v3rM7HMfg==
            }
        engines: { node: '>= 0.4' }

    set-function-name@2.0.2:
        resolution:
            {
                integrity: sha512-7PGFlmtwsEADb0WYyvCMa1t+yke6daIG4Wirafur5kcf+MhUnPms1UeR0CKQdTZD81yESwMHbtn+TR+dMviakQ==
            }
        engines: { node: '>= 0.4' }

    set-harmonic-interval@1.0.1:
        resolution:
            {
                integrity: sha512-AhICkFV84tBP1aWqPwLZqFvAwqEoVA9kxNMniGEUvzOlm4vLmOFLiTT3UZ6bziJTy4bOVpzWGTfSCbmaayGx8g==
            }
        engines: { node: '>=6.9' }

    set-proto@1.0.0:
        resolution:
            {
                integrity: sha512-RJRdvCo6IAnPdsvP/7m6bsQqNnn1FCBX5ZNtFL98MmFF/4xAIJTIg1YbHW5DC2W5SKZanrC6i4HsJqlajw/dZw==
            }
        engines: { node: '>= 0.4' }

    sharp@0.34.4:
        resolution:
            {
                integrity: sha512-FUH39xp3SBPnxWvd5iib1X8XY7J0K0X7d93sie9CJg2PO8/7gmg89Nve6OjItK53/MlAushNNxteBYfM6DEuoA==
            }
        engines: { node: ^18.17.0 || ^20.3.0 || >=21.0.0 }

    shebang-command@2.0.0:
        resolution:
            {
                integrity: sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==
            }
        engines: { node: '>=8' }

    shebang-regex@3.0.0:
        resolution:
            {
                integrity: sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==
            }
        engines: { node: '>=8' }

    side-channel-list@1.0.0:
        resolution:
            {
                integrity: sha512-FCLHtRD/gnpCiCHEiJLOwdmFP+wzCmDEkc9y7NsYxeF4u7Btsn1ZuwgwJGxImImHicJArLP4R0yX4c2KCrMrTA==
            }
        engines: { node: '>= 0.4' }

    side-channel-map@1.0.1:
        resolution:
            {
                integrity: sha512-VCjCNfgMsby3tTdo02nbjtM/ewra6jPHmpThenkTYh8pG9ucZ/1P8So4u4FGBek/BjpOVsDCMoLA/iuBKIFXRA==
            }
        engines: { node: '>= 0.4' }

    side-channel-weakmap@1.0.2:
        resolution:
            {
                integrity: sha512-WPS/HvHQTYnHisLo9McqBHOJk2FkHO/tlpvldyrnem4aeQp4hai3gythswg6p01oSoTl58rcpiFAjF2br2Ak2A==
            }
        engines: { node: '>= 0.4' }

    side-channel@1.1.0:
        resolution:
            {
                integrity: sha512-ZX99e6tRweoUXqR+VBrslhda51Nh5MTQwou5tnUDgbtyM0dBgmhEDtWGP/xbKn6hqfPRHujUNwz5fy/wbbhnpw==
            }
        engines: { node: '>= 0.4' }

    signal-exit@4.1.0:
        resolution:
            {
                integrity: sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==
            }
        engines: { node: '>=14' }

    sonner@1.7.4:
        resolution:
            {
                integrity: sha512-DIS8z4PfJRbIyfVFDVnK9rO3eYDtse4Omcm6bt0oEr5/jtLgysmjuBl1frJ9E/EQZrFmKx2A8m/s5s9CRXIzhw==
            }
        peerDependencies:
            react: ^18.0.0 || ^19.0.0 || ^19.0.0-rc
            react-dom: ^18.0.0 || ^19.0.0 || ^19.0.0-rc

    source-map-js@1.2.1:
        resolution:
            {
                integrity: sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==
            }
        engines: { node: '>=0.10.0' }

    source-map@0.5.6:
        resolution:
            {
                integrity: sha512-MjZkVp0NHr5+TPihLcadqnlVoGIoWo4IBHptutGh9wI3ttUYvCG26HkSuDi+K6lsZ25syXJXcctwgyVCt//xqA==
            }
        engines: { node: '>=0.10.0' }

    source-map@0.6.1:
        resolution:
            {
                integrity: sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==
            }
        engines: { node: '>=0.10.0' }

    stack-generator@2.0.10:
        resolution:
            {
                integrity: sha512-mwnua/hkqM6pF4k8SnmZ2zfETsRUpWXREfA/goT8SLCV4iOFa4bzOX2nDipWAZFPTjLvQB82f5yaodMVhK0yJQ==
            }

    stackframe@1.3.4:
        resolution:
            {
                integrity: sha512-oeVtt7eWQS+Na6F//S4kJ2K2VbRlS9D43mAlMyVpVWovy9o+jfgH8O9agzANzaiLjclA0oYzUXEM4PurhSUChw==
            }

    stacktrace-gps@3.1.2:
        resolution:
            {
                integrity: sha512-GcUgbO4Jsqqg6RxfyTHFiPxdPqF+3LFmQhm7MgCuYQOYuWyqxo5pwRPz5d/u6/WYJdEnWfK4r+jGbyD8TSggXQ==
            }

    stacktrace-js@2.0.2:
        resolution:
            {
                integrity: sha512-Je5vBeY4S1r/RnLydLl0TBTi3F2qdfWmYsGvtfZgEI+SCprPppaIhQf5nGcal4gI4cGpCV/duLcAzT1np6sQqg==
            }

    stats-gl@2.4.2:
        resolution:
            {
                integrity: sha512-g5O9B0hm9CvnM36+v7SFl39T7hmAlv541tU81ME8YeSb3i1CIP5/QdDeSB3A0la0bKNHpxpwxOVRo2wFTYEosQ==
            }
        peerDependencies:
            '@types/three': '*'
            three: '*'

    stats.js@0.17.0:
        resolution:
            {
                integrity: sha512-hNKz8phvYLPEcRkeG1rsGmV5ChMjKDAWU7/OJJdDErPBNChQXxCo3WZurGpnWc6gZhAzEPFad1aVgyOANH1sMw==
            }

    stop-iteration-iterator@1.1.0:
        resolution:
            {
                integrity: sha512-eLoXW/DHyl62zxY4SCaIgnRhuMr6ri4juEYARS8E6sCEqzKpOiE521Ucofdx+KnDZl5xmvGYaaKCk5FEOxJCoQ==
            }
        engines: { node: '>= 0.4' }

    string-width@4.2.3:
        resolution:
            {
                integrity: sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==
            }
        engines: { node: '>=8' }

    string-width@5.1.2:
        resolution:
            {
                integrity: sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==
            }
        engines: { node: '>=12' }

    string.prototype.matchall@4.0.12:
        resolution:
            {
                integrity: sha512-6CC9uyBL+/48dYizRf7H7VAYCMCNTBeM78x/VTUe9bFEaxBepPJDa1Ow99LqI/1yF7kuy7Q3cQsYMrcjGUcskA==
            }
        engines: { node: '>= 0.4' }

    string.prototype.repeat@1.0.0:
        resolution:
            {
                integrity: sha512-0u/TldDbKD8bFCQ/4f5+mNRrXwZ8hg2w7ZR8wa16e8z9XpePWl3eGEcUD0OXpEH/VJH/2G3gjUtR3ZOiBe2S/w==
            }

    string.prototype.trim@1.2.10:
        resolution:
            {
                integrity: sha512-Rs66F0P/1kedk5lyYyH9uBzuiI/kNRmwJAR9quK6VOtIpZ2G+hMZd+HQbbv25MgCA6gEffoMZYxlTod4WcdrKA==
            }
        engines: { node: '>= 0.4' }

    string.prototype.trimend@1.0.9:
        resolution:
            {
                integrity: sha512-G7Ok5C6E/j4SGfyLCloXTrngQIQU3PWtXGst3yM7Bea9FRURf1S42ZHlZZtsNque2FN2PoUhfZXYLNWwEr4dLQ==
            }
        engines: { node: '>= 0.4' }

    string.prototype.trimstart@1.0.8:
        resolution:
            {
                integrity: sha512-UXSH262CSZY1tfu3G3Secr6uGLCFVPMhIqHjlgCUtCCcgihYc/xKs9djMTMUOb2j1mVSeU8EU6NWc/iQKU6Gfg==
            }
        engines: { node: '>= 0.4' }

    strip-ansi@6.0.1:
        resolution:
            {
                integrity: sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==
            }
        engines: { node: '>=8' }

    strip-ansi@7.1.2:
        resolution:
            {
                integrity: sha512-gmBGslpoQJtgnMAvOVqGZpEz9dyoKTCzy2nfz/n8aIFhN/jCE/rCmcxabB6jOOHV+0WNnylOxaxBQPSvcWklhA==
            }
        engines: { node: '>=12' }

    strip-json-comments@3.1.1:
        resolution:
            {
                integrity: sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==
            }
        engines: { node: '>=8' }

    stylis@4.3.6:
        resolution:
            {
                integrity: sha512-yQ3rwFWRfwNUY7H5vpU0wfdkNSnvnJinhF9830Swlaxl03zsOjCfmX0ugac+3LtK0lYSgwL/KXc8oYL3mG4YFQ==
            }

    sucrase@3.35.0:
        resolution:
            {
                integrity: sha512-8EbVDiu9iN/nESwxeSxDKe0dunta1GOlHufmSSXxMD2z2/tMZpDMpvXQGsc+ajGo8y2uYUmixaSRUc/QPoQ0GA==
            }
        engines: { node: '>=16 || 14 >=14.17' }
        hasBin: true

    supports-color@7.2.0:
        resolution:
            {
                integrity: sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==
            }
        engines: { node: '>=8' }

    supports-preserve-symlinks-flag@1.0.0:
        resolution:
            {
                integrity: sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==
            }
        engines: { node: '>= 0.4' }

    suspend-react@0.1.3:
        resolution:
            {
                integrity: sha512-aqldKgX9aZqpoDp3e8/BZ8Dm7x1pJl+qI3ZKxDN0i/IQTWUwBx/ManmlVJ3wowqbno6c2bmiIfs+Um6LbsjJyQ==
            }
        peerDependencies:
            react: '>=17.0'

    tailwind-merge@2.6.0:
        resolution:
            {
                integrity: sha512-P+Vu1qXfzediirmHOC3xKGAYeZtPcV9g76X+xg2FD4tYgR71ewMA35Y3sCz3zhiN/dwefRpJX0yBcgwi1fXNQA==
            }

    tailwindcss-animate@1.0.7:
        resolution:
            {
                integrity: sha512-bl6mpH3T7I3UFxuvDEXLxy/VuFxBk5bbzplh7tXI68mwMokNYd1t9qPBHlnyTwfa4JGC4zP516I1hYYtQ/vspA==
            }
        peerDependencies:
            tailwindcss: '>=3.0.0 || insiders'

    tailwindcss@3.4.18:
        resolution:
            {
                integrity: sha512-6A2rnmW5xZMdw11LYjhcI5846rt9pbLSabY5XPxo+XWdxwZaFEn47Go4NzFiHu9sNNmr/kXivP1vStfvMaK1GQ==
            }
        engines: { node: '>=14.0.0' }
        hasBin: true

    text-table@0.2.0:
        resolution:
            {
                integrity: sha512-N+8UisAXDGk8PFXP4HAzVR9nbfmVJ3zYLAWiTIoqC5v5isinhr+r5uaO8+7r3BMfuNIufIsA7RdpVgacC2cSpw==
            }

    thenify-all@1.6.0:
        resolution:
            {
                integrity: sha512-RNxQH/qI8/t3thXJDwcstUO4zeqo64+Uy/+sNVRBx4Xn2OX+OZ9oP+iJnNFqplFra2ZUVeKCSa2oVWi3T4uVmA==
            }
        engines: { node: '>=0.8' }

    thenify@3.3.1:
        resolution:
            {
                integrity: sha512-RVZSIV5IG10Hk3enotrhvz0T9em6cyHBLkH/YAZuKqd8hRkKhSfCGIcP2KUY0EPxndzANBmNllzWPwak+bheSw==
            }

    three-mesh-bvh@0.8.3:
        resolution:
            {
                integrity: sha512-4G5lBaF+g2auKX3P0yqx+MJC6oVt6sB5k+CchS6Ob0qvH0YIhuUk1eYr7ktsIpY+albCqE80/FVQGV190PmiAg==
            }
        peerDependencies:
            three: '>= 0.159.0'

    three-stdlib@2.36.0:
        resolution:
            {
                integrity: sha512-kv0Byb++AXztEGsULgMAs8U2jgUdz6HPpAB/wDJnLiLlaWQX2APHhiTJIN7rqW+Of0eRgcp7jn05U1BsCP3xBA==
            }
        peerDependencies:
            three: '>=0.128.0'

    three@0.176.0:
        resolution:
            {
                integrity: sha512-PWRKYWQo23ojf9oZSlRGH8K09q7nRSWx6LY/HF/UUrMdYgN9i1e2OwJYHoQjwc6HF/4lvvYLC5YC1X8UJL2ZpA==
            }

    throttle-debounce@3.0.1:
        resolution:
            {
                integrity: sha512-dTEWWNu6JmeVXY0ZYoPuH5cRIwc0MeGbJwah9KUNYSJwommQpCzTySTpEe8Gs1J23aeWEuAobe4Ag7EHVt/LOg==
            }
        engines: { node: '>=10' }

    tiny-invariant@1.3.3:
        resolution:
            {
                integrity: sha512-+FbBPE1o9QAYvviau/qC5SE3caw21q3xkvWKBtja5vgqOWIHHJ3ioaq1VPfn/Szqctz2bU/oYeKd9/z5BL+PVg==
            }

    tiny-warning@1.0.3:
        resolution:
            {
                integrity: sha512-lBN9zLN/oAf68o3zNXYrdCt1kP8WsiGW8Oo2ka41b2IM5JL/S1CTyX1rW0mb/zSuJun0ZUrDxx4sqvYS2FWzPA==
            }

    to-regex-range@5.0.1:
        resolution:
            {
                integrity: sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==
            }
        engines: { node: '>=8.0' }

    toggle-selection@1.0.6:
        resolution:
            {
                integrity: sha512-BiZS+C1OS8g/q2RRbJmy59xpyghNBqrr6k5L/uKBGRsTfxmu3ffiRnd8mlGPUVayg8pvfi5urfnu8TU7DVOkLQ==
            }

    troika-three-text@0.52.4:
        resolution:
            {
                integrity: sha512-V50EwcYGruV5rUZ9F4aNsrytGdKcXKALjEtQXIOBfhVoZU9VAqZNIoGQ3TMiooVqFAbR1w15T+f+8gkzoFzawg==
            }
        peerDependencies:
            three: '>=0.125.0'

    troika-three-utils@0.52.4:
        resolution:
            {
                integrity: sha512-NORAStSVa/BDiG52Mfudk4j1FG4jC4ILutB3foPnfGbOeIs9+G5vZLa0pnmnaftZUGm4UwSoqEpWdqvC7zms3A==
            }
        peerDependencies:
            three: '>=0.125.0'

    troika-worker-utils@0.52.0:
        resolution:
            {
                integrity: sha512-W1CpvTHykaPH5brv5VHLfQo9D1OYuo0cSBEUQFFT/nBUzM8iD6Lq2/tgG/f1OelbAS1WtaTPQzE5uM49egnngw==
            }

    ts-api-utils@2.1.0:
        resolution:
            {
                integrity: sha512-CUgTZL1irw8u29bzrOD/nH85jqyc74D6SshFgujOIA7osm2Rz7dYH77agkx7H4FBNxDq7Cjf+IjaX/8zwFW+ZQ==
            }
        engines: { node: '>=18.12' }
        peerDependencies:
            typescript: '>=4.8.4'

    ts-easing@0.2.0:
        resolution:
            {
                integrity: sha512-Z86EW+fFFh/IFB1fqQ3/+7Zpf9t2ebOAxNI/V6Wo7r5gqiqtxmgTlQ1qbqQcjLKYeSHPTsEmvlJUDg/EuL0uHQ==
            }

    ts-interface-checker@0.1.13:
        resolution:
            {
                integrity: sha512-Y/arvbn+rrz3JCKl9C4kVNfTfSm2/mEp5FSz5EsZSANGPSlQrpRI5M4PKF+mJnE52jOO90PnPSc3Ur3bTQw0gA==
            }

    tslib@2.8.1:
        resolution:
            {
                integrity: sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==
            }

    tunnel-rat@0.1.2:
        resolution:
            {
                integrity: sha512-lR5VHmkPhzdhrM092lI2nACsLO4QubF0/yoOhzX7c+wIpbN1GjHNzCc91QlpxBi+cnx8vVJ+Ur6vL5cEoQPFpQ==
            }

    type-check@0.4.0:
        resolution:
            {
                integrity: sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==
            }
        engines: { node: '>= 0.8.0' }

    type-fest@0.20.2:
        resolution:
            {
                integrity: sha512-Ne+eE4r0/iWnpAxD852z3A+N0Bt5RN//NjJwRd2VFHEmrywxf5vsZlh4R6lixl6B+wz/8d+maTSAkN1FIkI3LQ==
            }
        engines: { node: '>=10' }

    typed-array-buffer@1.0.3:
        resolution:
            {
                integrity: sha512-nAYYwfY3qnzX30IkA6AQZjVbtK6duGontcQm1WSG1MD94YLqK0515GNApXkoxKOWMusVssAHWLh9SeaoefYFGw==
            }
        engines: { node: '>= 0.4' }

    typed-array-byte-length@1.0.3:
        resolution:
            {
                integrity: sha512-BaXgOuIxz8n8pIq3e7Atg/7s+DpiYrxn4vdot3w9KbnBhcRQq6o3xemQdIfynqSeXeDrF32x+WvfzmOjPiY9lg==
            }
        engines: { node: '>= 0.4' }

    typed-array-byte-offset@1.0.4:
        resolution:
            {
                integrity: sha512-bTlAFB/FBYMcuX81gbL4OcpH5PmlFHqlCCpAl8AlEzMz5k53oNDvN8p1PNOWLEmI2x4orp3raOFB51tv9X+MFQ==
            }
        engines: { node: '>= 0.4' }

    typed-array-length@1.0.7:
        resolution:
            {
                integrity: sha512-3KS2b+kL7fsuk/eJZ7EQdnEmQoaho/r6KUef7hxvltNA5DR8NAUM+8wJMbJyZ4G9/7i3v5zPBIMN5aybAh2/Jg==
            }
        engines: { node: '>= 0.4' }

    typescript@5.9.3:
        resolution:
            {
                integrity: sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw==
            }
        engines: { node: '>=14.17' }
        hasBin: true

    unbox-primitive@1.1.0:
        resolution:
            {
                integrity: sha512-nWJ91DjeOkej/TA8pXQ3myruKpKEYgqvpw9lz4OPHj/NWFNluYrjbz9j01CJ8yKQd2g4jFoOkINCTW2I5LEEyw==
            }
        engines: { node: '>= 0.4' }

    undici-types@6.21.0:
        resolution:
            {
                integrity: sha512-iwDZqg0QAGrg9Rav5H4n0M64c3mkR59cJ6wQp+7C4nI0gsmExaedaYLNO44eT4AtBBwjbTiGPMlt2Md0T9H9JQ==
            }

    update-browserslist-db@1.1.4:
        resolution:
            {
                integrity: sha512-q0SPT4xyU84saUX+tomz1WLkxUbuaJnR1xWt17M7fJtEJigJeWUNGUqrauFXsHnqev9y9JTRGwk13tFBuKby4A==
            }
        hasBin: true
        peerDependencies:
            browserslist: '>= 4.21.0'

    uri-js@4.4.1:
        resolution:
            {
                integrity: sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==
            }

    use-callback-ref@1.3.3:
        resolution:
            {
                integrity: sha512-jQL3lRnocaFtu3V00JToYz/4QkNWswxijDaCVNZRiRTO3HQDLsdu1ZtmIUvV4yPp+rvWm5j0y0TG/S61cuijTg==
            }
        engines: { node: '>=10' }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    use-sidecar@1.1.3:
        resolution:
            {
                integrity: sha512-Fedw0aZvkhynoPYlA5WXrMCAMm+nSWdZt6lzJQ7Ok8S6Q+VsHmHpRWndVRJ8Be0ZbkfPc5LRYH+5XrzXcEeLRQ==
            }
        engines: { node: '>=10' }
        peerDependencies:
            '@types/react': '*'
            react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc
        peerDependenciesMeta:
            '@types/react':
                optional: true

    use-sync-external-store@1.6.0:
        resolution:
            {
                integrity: sha512-Pp6GSwGP/NrPIrxVFAIkOQeyw8lFenOHijQWkUTrDvrF4ALqylP2C/KCkeS9dpUM3KvYRQhna5vt7IL95+ZQ9w==
            }
        peerDependencies:
            react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0

    util-deprecate@1.0.2:
        resolution:
            {
                integrity: sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==
            }

    utility-types@3.11.0:
        resolution:
            {
                integrity: sha512-6Z7Ma2aVEWisaL6TvBCy7P8rm2LQoPv6dJ7ecIaIixHcwfbJ0x7mWdbcwlIM5IGQxPZSFYeqRCqlOOeKoJYMkw==
            }
        engines: { node: '>= 4' }

    vaul@1.1.2:
        resolution:
            {
                integrity: sha512-ZFkClGpWyI2WUQjdLJ/BaGuV6AVQiJ3uELGk3OYtP+B6yCO7Cmn9vPFXVJkRaGkOJu3m8bQMgtyzNHixULceQA==
            }
        peerDependencies:
            react: ^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc
            react-dom: ^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc

    victory-vendor@36.9.2:
        resolution:
            {
                integrity: sha512-PnpQQMuxlwYdocC8fIJqVXvkeViHYzotI+NJrCuav0ZYFoq912ZHBk3mCeuj+5/VpodOjPe1z0Fk2ihgzlXqjQ==
            }

    vite-plugin-environment@1.1.3:
        resolution:
            {
                integrity: sha512-9LBhB0lx+2lXVBEWxFZC+WO7PKEyE/ykJ7EPWCq95NEcCpblxamTbs5Dm3DLBGzwODpJMEnzQywJU8fw6XGGGA==
            }
        peerDependencies:
            vite: '>= 2.7'

    vite@5.4.21:
        resolution:
            {
                integrity: sha512-o5a9xKjbtuhY6Bi5S3+HvbRERmouabWbyUcpXXUA1u+GNUKoROi9byOJ8M0nHbHYHkYICiMlqxkg1KkYmm25Sw==
            }
        engines: { node: ^18.0.0 || >=20.0.0 }
        hasBin: true
        peerDependencies:
            '@types/node': ^18.0.0 || >=20.0.0
            less: '*'
            lightningcss: ^1.21.0
            sass: '*'
            sass-embedded: '*'
            stylus: '*'
            sugarss: '*'
            terser: ^5.4.0
        peerDependenciesMeta:
            '@types/node':
                optional: true
            less:
                optional: true
            lightningcss:
                optional: true
            sass:
                optional: true
            sass-embedded:
                optional: true
            stylus:
                optional: true
            sugarss:
                optional: true
            terser:
                optional: true

    webgl-constants@1.1.1:
        resolution:
            {
                integrity: sha512-LkBXKjU5r9vAW7Gcu3T5u+5cvSvh5WwINdr0C+9jpzVB41cjQAP5ePArDtk/WHYdVj0GefCgM73BA7FlIiNtdg==
            }

    webgl-sdf-generator@1.1.1:
        resolution:
            {
                integrity: sha512-9Z0JcMTFxeE+b2x1LJTdnaT8rT8aEp7MVxkNwoycNmJWwPdzoXzMh0BjJSh/AEFP+KPYZUli814h8bJZFIZ2jA==
            }

    which-boxed-primitive@1.1.1:
        resolution:
            {
                integrity: sha512-TbX3mj8n0odCBFVlY8AxkqcHASw3L60jIuF8jFP78az3C2YhmGvqbHBpAjTRH2/xqYunrJ9g1jSyjCjpoWzIAA==
            }
        engines: { node: '>= 0.4' }

    which-builtin-type@1.2.1:
        resolution:
            {
                integrity: sha512-6iBczoX+kDQ7a3+YJBnh3T+KZRxM/iYNPXicqk66/Qfm1b93iu+yOImkg0zHbj5LNOcNv1TEADiZ0xa34B4q6Q==
            }
        engines: { node: '>= 0.4' }

    which-collection@1.0.2:
        resolution:
            {
                integrity: sha512-K4jVyjnBdgvc86Y6BkaLZEN933SwYOuBFkdmBu9ZfkcAbdVbpITnDmjvZ/aQjRXQrv5EPkTnD1s39GiiqbngCw==
            }
        engines: { node: '>= 0.4' }

    which-typed-array@1.1.19:
        resolution:
            {
                integrity: sha512-rEvr90Bck4WZt9HHFC4DJMsjvu7x+r6bImz0/BrbWb7A2djJ8hnZMrWnHo9F8ssv0OMErasDhftrfROTyqSDrw==
            }
        engines: { node: '>= 0.4' }

    which@2.0.2:
        resolution:
            {
                integrity: sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==
            }
        engines: { node: '>= 8' }
        hasBin: true

    word-wrap@1.2.5:
        resolution:
            {
                integrity: sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==
            }
        engines: { node: '>=0.10.0' }

    wrap-ansi@7.0.0:
        resolution:
            {
                integrity: sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==
            }
        engines: { node: '>=10' }

    wrap-ansi@8.1.0:
        resolution:
            {
                integrity: sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==
            }
        engines: { node: '>=12' }

    wrappy@1.0.2:
        resolution:
            {
                integrity: sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==
            }

    yallist@3.1.1:
        resolution:
            {
                integrity: sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==
            }

    yocto-queue@0.1.0:
        resolution:
            {
                integrity: sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==
            }
        engines: { node: '>=10' }

    zustand@4.5.7:
        resolution:
            {
                integrity: sha512-CHOUy7mu3lbD6o6LJLfllpjkzhHXSBlX8B9+qPddUsIfeF5S/UZ5q0kmCsnRqT1UHFQZchNFDDzMbQsuesHWlw==
            }
        engines: { node: '>=12.7.0' }
        peerDependencies:
            '@types/react': '>=16.8'
            immer: '>=9.0.6'
            react: '>=16.8'
        peerDependenciesMeta:
            '@types/react':
                optional: true
            immer:
                optional: true
            react:
                optional: true

    zustand@5.0.8:
        resolution:
            {
                integrity: sha512-gyPKpIaxY9XcO2vSMrLbiER7QMAMGOQZVRdJ6Zi782jkbzZygq5GI9nG8g+sMgitRtndwaBSl7uiqC49o1SSiw==
            }
        engines: { node: '>=12.20.0' }
        peerDependencies:
            '@types/react': '>=18.0.0'
            immer: '>=9.0.6'
            react: '>=18.0.0'
            use-sync-external-store: '>=1.2.0'
        peerDependenciesMeta:
            '@types/react':
                optional: true
            immer:
                optional: true
            react:
                optional: true
            use-sync-external-store:
                optional: true

snapshots:
    '@alloc/quick-lru@5.2.0': {}

    '@babel/code-frame@7.27.1':
        dependencies:
            '@babel/helper-validator-identifier': 7.28.5
            js-tokens: 4.0.0
            picocolors: 1.1.1

    '@babel/compat-data@7.28.5': {}

    '@babel/core@7.28.5':
        dependencies:
            '@babel/code-frame': 7.27.1
            '@babel/generator': 7.28.5
            '@babel/helper-compilation-targets': 7.27.2
            '@babel/helper-module-transforms': 7.28.3(@babel/core@7.28.5)
            '@babel/helpers': 7.28.4
            '@babel/parser': 7.28.5
            '@babel/template': 7.27.2
            '@babel/traverse': 7.28.5
            '@babel/types': 7.28.5
            '@jridgewell/remapping': 2.3.5
            convert-source-map: 2.0.0
            debug: 4.4.3
            gensync: 1.0.0-beta.2
            json5: 2.2.3
            semver: 6.3.1
        transitivePeerDependencies:
            - supports-color

    '@babel/generator@7.28.5':
        dependencies:
            '@babel/parser': 7.28.5
            '@babel/types': 7.28.5
            '@jridgewell/gen-mapping': 0.3.13
            '@jridgewell/trace-mapping': 0.3.31
            jsesc: 3.1.0

    '@babel/helper-compilation-targets@7.27.2':
        dependencies:
            '@babel/compat-data': 7.28.5
            '@babel/helper-validator-option': 7.27.1
            browserslist: 4.27.0
            lru-cache: 5.1.1
            semver: 6.3.1

    '@babel/helper-globals@7.28.0': {}

    '@babel/helper-module-imports@7.27.1':
        dependencies:
            '@babel/traverse': 7.28.5
            '@babel/types': 7.28.5
        transitivePeerDependencies:
            - supports-color

    '@babel/helper-module-transforms@7.28.3(@babel/core@7.28.5)':
        dependencies:
            '@babel/core': 7.28.5
            '@babel/helper-module-imports': 7.27.1
            '@babel/helper-validator-identifier': 7.28.5
            '@babel/traverse': 7.28.5
        transitivePeerDependencies:
            - supports-color

    '@babel/helper-plugin-utils@7.27.1': {}

    '@babel/helper-string-parser@7.27.1': {}

    '@babel/helper-validator-identifier@7.28.5': {}

    '@babel/helper-validator-option@7.27.1': {}

    '@babel/helpers@7.28.4':
        dependencies:
            '@babel/template': 7.27.2
            '@babel/types': 7.28.5

    '@babel/parser@7.28.5':
        dependencies:
            '@babel/types': 7.28.5

    '@babel/plugin-transform-react-jsx-self@7.27.1(@babel/core@7.28.5)':
        dependencies:
            '@babel/core': 7.28.5
            '@babel/helper-plugin-utils': 7.27.1

    '@babel/plugin-transform-react-jsx-source@7.27.1(@babel/core@7.28.5)':
        dependencies:
            '@babel/core': 7.28.5
            '@babel/helper-plugin-utils': 7.27.1

    '@babel/runtime@7.28.4': {}

    '@babel/template@7.27.2':
        dependencies:
            '@babel/code-frame': 7.27.1
            '@babel/parser': 7.28.5
            '@babel/types': 7.28.5

    '@babel/traverse@7.28.5':
        dependencies:
            '@babel/code-frame': 7.27.1
            '@babel/generator': 7.28.5
            '@babel/helper-globals': 7.28.0
            '@babel/parser': 7.28.5
            '@babel/template': 7.27.2
            '@babel/types': 7.28.5
            debug: 4.4.3
        transitivePeerDependencies:
            - supports-color

    '@babel/types@7.28.5':
        dependencies:
            '@babel/helper-string-parser': 7.27.1
            '@babel/helper-validator-identifier': 7.28.5

    '@date-fns/tz@1.4.1': {}

    '@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0)':
        dependencies:
            '@dfinity/candid': 3.3.1(@dfinity/principal@3.3.1)
            '@dfinity/cbor': 0.2.2
            '@dfinity/principal': 3.3.1
            '@noble/curves': 1.9.7
            '@noble/hashes': 1.8.0

    '@dfinity/auth-client@3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/identity@3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0))(@dfinity/principal@3.3.1)':
        dependencies:
            '@dfinity/agent': 3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0)
            '@dfinity/identity': 3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0)
            '@dfinity/principal': 3.3.1
            idb: 7.1.1

    '@dfinity/candid@3.3.1(@dfinity/principal@3.3.1)':
        dependencies:
            '@dfinity/principal': 3.3.1

    '@dfinity/cbor@0.2.2': {}

    '@dfinity/identity-secp256k1@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0)':
        dependencies:
            '@dfinity/agent': 3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0)
            '@dfinity/candid': 3.3.1(@dfinity/principal@3.3.1)
            '@noble/curves': 1.9.7
            '@noble/hashes': 1.8.0
            '@scure/bip32': 1.7.0
            '@scure/bip39': 1.6.0
            asn1js: 3.0.6
        transitivePeerDependencies:
            - '@dfinity/principal'

    '@dfinity/identity@3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0)':
        dependencies:
            '@dfinity/agent': 3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0)
            '@dfinity/candid': 3.3.1(@dfinity/principal@3.3.1)
            '@dfinity/principal': 3.3.1
            '@noble/curves': 1.9.7
            '@noble/hashes': 1.8.0

    '@dfinity/principal@3.3.1':
        dependencies:
            '@noble/hashes': 1.8.0

    '@dimforge/rapier3d-compat@0.12.0': {}

    '@emnapi/runtime@1.6.0':
        dependencies:
            tslib: 2.8.1
        optional: true

    '@esbuild/aix-ppc64@0.21.5':
        optional: true

    '@esbuild/android-arm64@0.21.5':
        optional: true

    '@esbuild/android-arm@0.21.5':
        optional: true

    '@esbuild/android-x64@0.21.5':
        optional: true

    '@esbuild/darwin-arm64@0.21.5':
        optional: true

    '@esbuild/darwin-x64@0.21.5':
        optional: true

    '@esbuild/freebsd-arm64@0.21.5':
        optional: true

    '@esbuild/freebsd-x64@0.21.5':
        optional: true

    '@esbuild/linux-arm64@0.21.5':
        optional: true

    '@esbuild/linux-arm@0.21.5':
        optional: true

    '@esbuild/linux-ia32@0.21.5':
        optional: true

    '@esbuild/linux-loong64@0.21.5':
        optional: true

    '@esbuild/linux-mips64el@0.21.5':
        optional: true

    '@esbuild/linux-ppc64@0.21.5':
        optional: true

    '@esbuild/linux-riscv64@0.21.5':
        optional: true

    '@esbuild/linux-s390x@0.21.5':
        optional: true

    '@esbuild/linux-x64@0.21.5':
        optional: true

    '@esbuild/netbsd-x64@0.21.5':
        optional: true

    '@esbuild/openbsd-x64@0.21.5':
        optional: true

    '@esbuild/sunos-x64@0.21.5':
        optional: true

    '@esbuild/win32-arm64@0.21.5':
        optional: true

    '@esbuild/win32-ia32@0.21.5':
        optional: true

    '@esbuild/win32-x64@0.21.5':
        optional: true

    '@eslint-community/eslint-utils@4.9.0(eslint@8.57.1)':
        dependencies:
            eslint: 8.57.1
            eslint-visitor-keys: 3.4.3

    '@eslint-community/eslint-utils@4.9.0(eslint@9.27.0(jiti@1.21.7))':
        dependencies:
            eslint: 9.27.0(jiti@1.21.7)
            eslint-visitor-keys: 3.4.3

    '@eslint-community/regexpp@4.12.2': {}

    '@eslint/config-array@0.20.1':
        dependencies:
            '@eslint/object-schema': 2.1.7
            debug: 4.4.3
            minimatch: 3.1.2
        transitivePeerDependencies:
            - supports-color

    '@eslint/config-helpers@0.2.3': {}

    '@eslint/core@0.14.0':
        dependencies:
            '@types/json-schema': 7.0.15

    '@eslint/core@0.15.2':
        dependencies:
            '@types/json-schema': 7.0.15

    '@eslint/eslintrc@2.1.4':
        dependencies:
            ajv: 6.12.6
            debug: 4.4.3
            espree: 9.6.1
            globals: 13.24.0
            ignore: 5.3.2
            import-fresh: 3.3.1
            js-yaml: 4.1.0
            minimatch: 3.1.2
            strip-json-comments: 3.1.1
        transitivePeerDependencies:
            - supports-color

    '@eslint/eslintrc@3.3.1':
        dependencies:
            ajv: 6.12.6
            debug: 4.4.3
            espree: 10.4.0
            globals: 14.0.0
            ignore: 5.3.2
            import-fresh: 3.3.1
            js-yaml: 4.1.0
            minimatch: 3.1.2
            strip-json-comments: 3.1.1
        transitivePeerDependencies:
            - supports-color

    '@eslint/js@8.57.1': {}

    '@eslint/js@9.27.0': {}

    '@eslint/object-schema@2.1.7': {}

    '@eslint/plugin-kit@0.3.5':
        dependencies:
            '@eslint/core': 0.15.2
            levn: 0.4.1

    '@floating-ui/core@1.7.3':
        dependencies:
            '@floating-ui/utils': 0.2.10

    '@floating-ui/dom@1.7.4':
        dependencies:
            '@floating-ui/core': 1.7.3
            '@floating-ui/utils': 0.2.10

    '@floating-ui/react-dom@2.1.6(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@floating-ui/dom': 1.7.4
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)

    '@floating-ui/utils@0.2.10': {}

    '@humanfs/core@0.19.1': {}

    '@humanfs/node@0.16.7':
        dependencies:
            '@humanfs/core': 0.19.1
            '@humanwhocodes/retry': 0.4.3

    '@humanwhocodes/config-array@0.13.0':
        dependencies:
            '@humanwhocodes/object-schema': 2.0.3
            debug: 4.4.3
            minimatch: 3.1.2
        transitivePeerDependencies:
            - supports-color

    '@humanwhocodes/module-importer@1.0.1': {}

    '@humanwhocodes/object-schema@2.0.3': {}

    '@humanwhocodes/retry@0.4.3': {}

    '@icp-sdk/core@4.1.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/identity-secp256k1@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0))(@dfinity/identity@3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0))(@dfinity/principal@3.3.1)':
        dependencies:
            '@dfinity/agent': 3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0)
            '@dfinity/candid': 3.3.1(@dfinity/principal@3.3.1)
            '@dfinity/identity': 3.3.1(@dfinity/agent@3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/hashes@1.8.0))(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0)
            '@dfinity/identity-secp256k1': 3.3.1(@dfinity/candid@3.3.1(@dfinity/principal@3.3.1))(@dfinity/principal@3.3.1)(@noble/curves@1.9.7)(@noble/hashes@1.8.0)
            '@dfinity/principal': 3.3.1

    '@img/colour@1.0.0': {}

    '@img/sharp-darwin-arm64@0.34.4':
        optionalDependencies:
            '@img/sharp-libvips-darwin-arm64': 1.2.3
        optional: true

    '@img/sharp-darwin-x64@0.34.4':
        optionalDependencies:
            '@img/sharp-libvips-darwin-x64': 1.2.3
        optional: true

    '@img/sharp-libvips-darwin-arm64@1.2.3':
        optional: true

    '@img/sharp-libvips-darwin-x64@1.2.3':
        optional: true

    '@img/sharp-libvips-linux-arm64@1.2.3':
        optional: true

    '@img/sharp-libvips-linux-arm@1.2.3':
        optional: true

    '@img/sharp-libvips-linux-ppc64@1.2.3':
        optional: true

    '@img/sharp-libvips-linux-s390x@1.2.3':
        optional: true

    '@img/sharp-libvips-linux-x64@1.2.3':
        optional: true

    '@img/sharp-libvips-linuxmusl-arm64@1.2.3':
        optional: true

    '@img/sharp-libvips-linuxmusl-x64@1.2.3':
        optional: true

    '@img/sharp-linux-arm64@0.34.4':
        optionalDependencies:
            '@img/sharp-libvips-linux-arm64': 1.2.3
        optional: true

    '@img/sharp-linux-arm@0.34.4':
        optionalDependencies:
            '@img/sharp-libvips-linux-arm': 1.2.3
        optional: true

    '@img/sharp-linux-ppc64@0.34.4':
        optionalDependencies:
            '@img/sharp-libvips-linux-ppc64': 1.2.3
        optional: true

    '@img/sharp-linux-s390x@0.34.4':
        optionalDependencies:
            '@img/sharp-libvips-linux-s390x': 1.2.3
        optional: true

    '@img/sharp-linux-x64@0.34.4':
        optionalDependencies:
            '@img/sharp-libvips-linux-x64': 1.2.3
        optional: true

    '@img/sharp-linuxmusl-arm64@0.34.4':
        optionalDependencies:
            '@img/sharp-libvips-linuxmusl-arm64': 1.2.3
        optional: true

    '@img/sharp-linuxmusl-x64@0.34.4':
        optionalDependencies:
            '@img/sharp-libvips-linuxmusl-x64': 1.2.3
        optional: true

    '@img/sharp-wasm32@0.34.4':
        dependencies:
            '@emnapi/runtime': 1.6.0
        optional: true

    '@img/sharp-win32-arm64@0.34.4':
        optional: true

    '@img/sharp-win32-ia32@0.34.4':
        optional: true

    '@img/sharp-win32-x64@0.34.4':
        optional: true

    '@isaacs/cliui@8.0.2':
        dependencies:
            string-width: 5.1.2
            string-width-cjs: string-width@4.2.3
            strip-ansi: 7.1.2
            strip-ansi-cjs: strip-ansi@6.0.1
            wrap-ansi: 8.1.0
            wrap-ansi-cjs: wrap-ansi@7.0.0

    '@jridgewell/gen-mapping@0.3.13':
        dependencies:
            '@jridgewell/sourcemap-codec': 1.5.5
            '@jridgewell/trace-mapping': 0.3.31

    '@jridgewell/remapping@2.3.5':
        dependencies:
            '@jridgewell/gen-mapping': 0.3.13
            '@jridgewell/trace-mapping': 0.3.31

    '@jridgewell/resolve-uri@3.1.2': {}

    '@jridgewell/sourcemap-codec@1.5.5': {}

    '@jridgewell/trace-mapping@0.3.31':
        dependencies:
            '@jridgewell/resolve-uri': 3.1.2
            '@jridgewell/sourcemap-codec': 1.5.5

    '@mediapipe/tasks-vision@0.10.17': {}

    '@monogrid/gainmap-js@3.1.0(three@0.176.0)':
        dependencies:
            promise-worker-transferable: 1.0.4
            three: 0.176.0

    '@noble/curves@1.9.7':
        dependencies:
            '@noble/hashes': 1.8.0

    '@noble/hashes@1.8.0': {}

    '@nodelib/fs.scandir@2.1.5':
        dependencies:
            '@nodelib/fs.stat': 2.0.5
            run-parallel: 1.2.0

    '@nodelib/fs.stat@2.0.5': {}

    '@nodelib/fs.walk@1.2.8':
        dependencies:
            '@nodelib/fs.scandir': 2.1.5
            fastq: 1.19.1

    '@pkgjs/parseargs@0.11.0':
        optional: true

    '@pmndrs/cannon-worker-api@2.4.0(three@0.176.0)':
        dependencies:
            three: 0.176.0

    '@radix-ui/number@1.1.1': {}

    '@radix-ui/primitive@1.1.3': {}

    '@radix-ui/react-accordion@1.2.12(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-collapsible': 1.1.12(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-alert-dialog@1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-dialog': 1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-slot': 1.2.3(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-arrow@1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-aspect-ratio@1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-avatar@1.1.10(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-is-hydrated': 0.1.0(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-checkbox@1.3.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-previous': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-size': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-collapsible@1.1.12(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-collection@1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-slot': 1.2.3(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-compose-refs@1.1.2(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-context-menu@2.2.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-menu': 2.1.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-context@1.1.2(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-dialog@1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-focus-guards': 1.1.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-focus-scope': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-slot': 1.2.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            aria-hidden: 1.2.6
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            react-remove-scroll: 2.7.1(@types/react@19.1.17)(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-direction@1.1.1(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-dismissable-layer@1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-escape-keydown': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-dropdown-menu@2.1.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-menu': 2.1.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-focus-guards@1.1.3(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-focus-scope@1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-hover-card@1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-id@1.1.1(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-label@2.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-menu@2.1.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-focus-guards': 1.1.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-focus-scope': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-slot': 1.2.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            aria-hidden: 1.2.6
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            react-remove-scroll: 2.7.1(@types/react@19.1.17)(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-menubar@1.1.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-menu': 2.1.16(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-navigation-menu@1.2.14(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-previous': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-visually-hidden': 1.2.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-popover@1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-focus-guards': 1.1.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-focus-scope': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-slot': 1.2.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            aria-hidden: 1.2.6
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            react-remove-scroll: 2.7.1(@types/react@19.1.17)(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-popper@1.2.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@floating-ui/react-dom': 2.1.6(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-arrow': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-rect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-size': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/rect': 1.1.1
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-portal@1.1.9(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-presence@1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-primitive@2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-slot': 1.2.3(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-progress@1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-radio-group@1.3.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-previous': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-size': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-roving-focus@1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-scroll-area@1.2.10(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/number': 1.1.1
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-select@2.2.6(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/number': 1.1.1
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-focus-guards': 1.1.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-focus-scope': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-slot': 1.2.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-previous': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-visually-hidden': 1.2.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            aria-hidden: 1.2.6
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            react-remove-scroll: 2.7.1(@types/react@19.1.17)(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-separator@1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-slider@1.3.6(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/number': 1.1.1
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-collection': 1.1.7(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-previous': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-size': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-slot@1.2.3(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-switch@1.2.6(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-previous': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-size': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-tabs@1.1.13(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-toggle-group@1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-direction': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-roving-focus': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-toggle': 1.1.10(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-toggle@1.1.10(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-tooltip@1.2.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/primitive': 1.1.3
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-context': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-dismissable-layer': 1.1.11(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-popper': 1.2.8(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-portal': 1.1.9(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-presence': 1.1.5(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-slot': 1.2.3(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-controllable-state': 1.2.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-visually-hidden': 1.2.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/react-use-callback-ref@1.1.1(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-use-controllable-state@1.2.2(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            '@radix-ui/react-use-effect-event': 0.0.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-use-effect-event@0.0.2(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-use-escape-keydown@1.1.1(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            '@radix-ui/react-use-callback-ref': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-use-is-hydrated@0.1.0(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            react: 19.1.1
            use-sync-external-store: 1.6.0(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-use-layout-effect@1.1.1(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-use-previous@1.1.1(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-use-rect@1.1.1(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            '@radix-ui/rect': 1.1.1
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-use-size@1.1.1(@types/react@19.1.17)(react@19.1.1)':
        dependencies:
            '@radix-ui/react-use-layout-effect': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
        optionalDependencies:
            '@types/react': 19.1.17

    '@radix-ui/react-visually-hidden@1.2.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            '@types/react-dom': 19.1.11(@types/react@19.1.17)

    '@radix-ui/rect@1.1.1': {}

    '@react-three/cannon@6.6.0(@react-three/fiber@9.1.4(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0))(react@19.1.1)(three@0.176.0)(typescript@5.9.3)':
        dependencies:
            '@pmndrs/cannon-worker-api': 2.4.0(three@0.176.0)
            '@react-three/fiber': 9.1.4(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0)
            cannon-es: 0.20.0
            cannon-es-debugger: 1.0.0(cannon-es@0.20.0)(three@0.176.0)(typescript@5.9.3)
            react: 19.1.1
            three: 0.176.0
        transitivePeerDependencies:
            - typescript

    '@react-three/drei@10.0.8(@react-three/fiber@9.1.4(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0))(@types/react@19.1.17)(@types/three@0.176.0)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0)':
        dependencies:
            '@babel/runtime': 7.28.4
            '@mediapipe/tasks-vision': 0.10.17
            '@monogrid/gainmap-js': 3.1.0(three@0.176.0)
            '@react-three/fiber': 9.1.4(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0)
            '@use-gesture/react': 10.3.1(react@19.1.1)
            camera-controls: 2.10.1(three@0.176.0)
            cross-env: 7.0.3
            detect-gpu: 5.0.70
            glsl-noise: 0.0.0
            hls.js: 1.6.13
            maath: 0.10.8(@types/three@0.176.0)(three@0.176.0)
            meshline: 3.3.1(three@0.176.0)
            react: 19.1.1
            stats-gl: 2.4.2(@types/three@0.176.0)(three@0.176.0)
            stats.js: 0.17.0
            suspend-react: 0.1.3(react@19.1.1)
            three: 0.176.0
            three-mesh-bvh: 0.8.3(three@0.176.0)
            three-stdlib: 2.36.0(three@0.176.0)
            troika-three-text: 0.52.4(three@0.176.0)
            tunnel-rat: 0.1.2(@types/react@19.1.17)(react@19.1.1)
            use-sync-external-store: 1.6.0(react@19.1.1)
            utility-types: 3.11.0
            zustand: 5.0.8(@types/react@19.1.17)(react@19.1.1)(use-sync-external-store@1.6.0(react@19.1.1))
        optionalDependencies:
            react-dom: 19.1.1(react@19.1.1)
        transitivePeerDependencies:
            - '@types/react'
            - '@types/three'
            - immer

    '@react-three/eslint-plugin@0.1.2':
        dependencies:
            '@babel/runtime': 7.28.4
            eslint: 8.57.1
        transitivePeerDependencies:
            - supports-color

    '@react-three/fiber@9.1.4(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)(three@0.176.0)':
        dependencies:
            '@babel/runtime': 7.28.4
            '@types/react-reconciler': 0.28.9(@types/react@19.1.17)
            '@types/webxr': 0.5.24
            base64-js: 1.5.1
            buffer: 6.0.3
            its-fine: 2.0.0(@types/react@19.1.17)(react@19.1.1)
            react: 19.1.1
            react-reconciler: 0.31.0(react@19.1.1)
            react-use-measure: 2.1.7(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            scheduler: 0.25.0
            suspend-react: 0.1.3(react@19.1.1)
            three: 0.176.0
            use-sync-external-store: 1.6.0(react@19.1.1)
            zustand: 5.0.8(@types/react@19.1.17)(react@19.1.1)(use-sync-external-store@1.6.0(react@19.1.1))
        optionalDependencies:
            react-dom: 19.1.1(react@19.1.1)
        transitivePeerDependencies:
            - '@types/react'
            - immer

    '@rolldown/pluginutils@1.0.0-beta.27': {}

    '@rollup/rollup-android-arm-eabi@4.52.5':
        optional: true

    '@rollup/rollup-android-arm64@4.52.5':
        optional: true

    '@rollup/rollup-darwin-arm64@4.52.5':
        optional: true

    '@rollup/rollup-darwin-x64@4.52.5':
        optional: true

    '@rollup/rollup-freebsd-arm64@4.52.5':
        optional: true

    '@rollup/rollup-freebsd-x64@4.52.5':
        optional: true

    '@rollup/rollup-linux-arm-gnueabihf@4.52.5':
        optional: true

    '@rollup/rollup-linux-arm-musleabihf@4.52.5':
        optional: true

    '@rollup/rollup-linux-arm64-gnu@4.52.5':
        optional: true

    '@rollup/rollup-linux-arm64-musl@4.52.5':
        optional: true

    '@rollup/rollup-linux-loong64-gnu@4.52.5':
        optional: true

    '@rollup/rollup-linux-ppc64-gnu@4.52.5':
        optional: true

    '@rollup/rollup-linux-riscv64-gnu@4.52.5':
        optional: true

    '@rollup/rollup-linux-riscv64-musl@4.52.5':
        optional: true

    '@rollup/rollup-linux-s390x-gnu@4.52.5':
        optional: true

    '@rollup/rollup-linux-x64-gnu@4.52.5':
        optional: true

    '@rollup/rollup-linux-x64-musl@4.52.5':
        optional: true

    '@rollup/rollup-openharmony-arm64@4.52.5':
        optional: true

    '@rollup/rollup-win32-arm64-msvc@4.52.5':
        optional: true

    '@rollup/rollup-win32-ia32-msvc@4.52.5':
        optional: true

    '@rollup/rollup-win32-x64-gnu@4.52.5':
        optional: true

    '@rollup/rollup-win32-x64-msvc@4.52.5':
        optional: true

    '@scure/base@1.2.6': {}

    '@scure/bip32@1.7.0':
        dependencies:
            '@noble/curves': 1.9.7
            '@noble/hashes': 1.8.0
            '@scure/base': 1.2.6

    '@scure/bip39@1.6.0':
        dependencies:
            '@noble/hashes': 1.8.0
            '@scure/base': 1.2.6

    '@tailwindcss/container-queries@0.1.1(tailwindcss@3.4.18)':
        dependencies:
            tailwindcss: 3.4.18

    '@tailwindcss/typography@0.5.10(tailwindcss@3.4.18)':
        dependencies:
            lodash.castarray: 4.4.0
            lodash.isplainobject: 4.0.6
            lodash.merge: 4.6.2
            postcss-selector-parser: 6.0.10
            tailwindcss: 3.4.18

    '@tanstack/eslint-plugin-router@1.115.0(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)':
        dependencies:
            '@typescript-eslint/utils': 8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)
            eslint: 9.27.0(jiti@1.21.7)
        transitivePeerDependencies:
            - supports-color
            - typescript

    '@tanstack/history@1.131.2': {}

    '@tanstack/query-core@5.90.5': {}

    '@tanstack/react-query@5.90.5(react@19.1.1)':
        dependencies:
            '@tanstack/query-core': 5.90.5
            react: 19.1.1

    '@tanstack/react-router@1.131.50(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@tanstack/history': 1.131.2
            '@tanstack/react-store': 0.7.7(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@tanstack/router-core': 1.131.50
            isbot: 5.1.31
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            tiny-invariant: 1.3.3
            tiny-warning: 1.0.3

    '@tanstack/react-store@0.7.7(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':
        dependencies:
            '@tanstack/store': 0.7.7
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            use-sync-external-store: 1.6.0(react@19.1.1)

    '@tanstack/router-core@1.131.50':
        dependencies:
            '@tanstack/history': 1.131.2
            '@tanstack/store': 0.7.7
            cookie-es: 1.2.2
            seroval: 1.3.2
            seroval-plugins: 1.3.3(seroval@1.3.2)
            tiny-invariant: 1.3.3
            tiny-warning: 1.0.3

    '@tanstack/store@0.7.7': {}

    '@tweenjs/tween.js@23.1.3': {}

    '@types/babel__core@7.20.5':
        dependencies:
            '@babel/parser': 7.28.5
            '@babel/types': 7.28.5
            '@types/babel__generator': 7.27.0
            '@types/babel__template': 7.4.4
            '@types/babel__traverse': 7.28.0

    '@types/babel__generator@7.27.0':
        dependencies:
            '@babel/types': 7.28.5

    '@types/babel__template@7.4.4':
        dependencies:
            '@babel/parser': 7.28.5
            '@babel/types': 7.28.5

    '@types/babel__traverse@7.28.0':
        dependencies:
            '@babel/types': 7.28.5

    '@types/d3-array@3.2.2': {}

    '@types/d3-color@3.1.3': {}

    '@types/d3-ease@3.0.2': {}

    '@types/d3-interpolate@3.0.4':
        dependencies:
            '@types/d3-color': 3.1.3

    '@types/d3-path@3.1.1': {}

    '@types/d3-scale@4.0.9':
        dependencies:
            '@types/d3-time': 3.0.4

    '@types/d3-shape@3.1.7':
        dependencies:
            '@types/d3-path': 3.1.1

    '@types/d3-time@3.0.4': {}

    '@types/d3-timer@3.0.2': {}

    '@types/draco3d@1.4.10': {}

    '@types/estree@1.0.8': {}

    '@types/js-cookie@2.2.7': {}

    '@types/json-schema@7.0.15': {}

    '@types/node@20.19.24':
        dependencies:
            undici-types: 6.21.0

    '@types/offscreencanvas@2019.7.3': {}

    '@types/react-dom@19.1.11(@types/react@19.1.17)':
        dependencies:
            '@types/react': 19.1.17

    '@types/react-reconciler@0.28.9(@types/react@19.1.17)':
        dependencies:
            '@types/react': 19.1.17

    '@types/react@19.1.17':
        dependencies:
            csstype: 3.1.3

    '@types/stats.js@0.17.4': {}

    '@types/three@0.176.0':
        dependencies:
            '@dimforge/rapier3d-compat': 0.12.0
            '@tweenjs/tween.js': 23.1.3
            '@types/stats.js': 0.17.4
            '@types/webxr': 0.5.24
            '@webgpu/types': 0.1.66
            fflate: 0.8.2
            meshoptimizer: 0.18.1

    '@types/webxr@0.5.24': {}

    '@typescript-eslint/eslint-plugin@8.46.2(@typescript-eslint/parser@8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3))(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)':
        dependencies:
            '@eslint-community/regexpp': 4.12.2
            '@typescript-eslint/parser': 8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)
            '@typescript-eslint/scope-manager': 8.46.2
            '@typescript-eslint/type-utils': 8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)
            '@typescript-eslint/utils': 8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)
            '@typescript-eslint/visitor-keys': 8.46.2
            eslint: 9.27.0(jiti@1.21.7)
            graphemer: 1.4.0
            ignore: 7.0.5
            natural-compare: 1.4.0
            ts-api-utils: 2.1.0(typescript@5.9.3)
            typescript: 5.9.3
        transitivePeerDependencies:
            - supports-color

    '@typescript-eslint/parser@8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)':
        dependencies:
            '@typescript-eslint/scope-manager': 8.46.2
            '@typescript-eslint/types': 8.46.2
            '@typescript-eslint/typescript-estree': 8.46.2(typescript@5.9.3)
            '@typescript-eslint/visitor-keys': 8.46.2
            debug: 4.4.3
            eslint: 9.27.0(jiti@1.21.7)
            typescript: 5.9.3
        transitivePeerDependencies:
            - supports-color

    '@typescript-eslint/project-service@8.46.2(typescript@5.9.3)':
        dependencies:
            '@typescript-eslint/tsconfig-utils': 8.46.2(typescript@5.9.3)
            '@typescript-eslint/types': 8.46.2
            debug: 4.4.3
            typescript: 5.9.3
        transitivePeerDependencies:
            - supports-color

    '@typescript-eslint/scope-manager@8.46.2':
        dependencies:
            '@typescript-eslint/types': 8.46.2
            '@typescript-eslint/visitor-keys': 8.46.2

    '@typescript-eslint/tsconfig-utils@8.46.2(typescript@5.9.3)':
        dependencies:
            typescript: 5.9.3

    '@typescript-eslint/type-utils@8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)':
        dependencies:
            '@typescript-eslint/types': 8.46.2
            '@typescript-eslint/typescript-estree': 8.46.2(typescript@5.9.3)
            '@typescript-eslint/utils': 8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)
            debug: 4.4.3
            eslint: 9.27.0(jiti@1.21.7)
            ts-api-utils: 2.1.0(typescript@5.9.3)
            typescript: 5.9.3
        transitivePeerDependencies:
            - supports-color

    '@typescript-eslint/types@8.46.2': {}

    '@typescript-eslint/typescript-estree@8.46.2(typescript@5.9.3)':
        dependencies:
            '@typescript-eslint/project-service': 8.46.2(typescript@5.9.3)
            '@typescript-eslint/tsconfig-utils': 8.46.2(typescript@5.9.3)
            '@typescript-eslint/types': 8.46.2
            '@typescript-eslint/visitor-keys': 8.46.2
            debug: 4.4.3
            fast-glob: 3.3.3
            is-glob: 4.0.3
            minimatch: 9.0.5
            semver: 7.7.3
            ts-api-utils: 2.1.0(typescript@5.9.3)
            typescript: 5.9.3
        transitivePeerDependencies:
            - supports-color

    '@typescript-eslint/utils@8.46.2(eslint@9.27.0(jiti@1.21.7))(typescript@5.9.3)':
        dependencies:
            '@eslint-community/eslint-utils': 4.9.0(eslint@9.27.0(jiti@1.21.7))
            '@typescript-eslint/scope-manager': 8.46.2
            '@typescript-eslint/types': 8.46.2
            '@typescript-eslint/typescript-estree': 8.46.2(typescript@5.9.3)
            eslint: 9.27.0(jiti@1.21.7)
            typescript: 5.9.3
        transitivePeerDependencies:
            - supports-color

    '@typescript-eslint/visitor-keys@8.46.2':
        dependencies:
            '@typescript-eslint/types': 8.46.2
            eslint-visitor-keys: 4.2.1

    '@ungap/structured-clone@1.3.0': {}

    '@use-gesture/core@10.3.1': {}

    '@use-gesture/react@10.3.1(react@19.1.1)':
        dependencies:
            '@use-gesture/core': 10.3.1
            react: 19.1.1

    '@vitejs/plugin-react@4.7.0(vite@5.4.21(@types/node@20.19.24))':
        dependencies:
            '@babel/core': 7.28.5
            '@babel/plugin-transform-react-jsx-self': 7.27.1(@babel/core@7.28.5)
            '@babel/plugin-transform-react-jsx-source': 7.27.1(@babel/core@7.28.5)
            '@rolldown/pluginutils': 1.0.0-beta.27
            '@types/babel__core': 7.20.5
            react-refresh: 0.17.0
            vite: 5.4.21(@types/node@20.19.24)
        transitivePeerDependencies:
            - supports-color

    '@webgpu/types@0.1.66': {}

    '@xobotyi/scrollbar-width@1.9.5': {}

    acorn-jsx@5.3.2(acorn@8.15.0):
        dependencies:
            acorn: 8.15.0

    acorn@8.15.0: {}

    ajv@6.12.6:
        dependencies:
            fast-deep-equal: 3.1.3
            fast-json-stable-stringify: 2.1.0
            json-schema-traverse: 0.4.1
            uri-js: 4.4.1

    ansi-regex@5.0.1: {}

    ansi-regex@6.2.2: {}

    ansi-styles@4.3.0:
        dependencies:
            color-convert: 2.0.1

    ansi-styles@6.2.3: {}

    any-promise@1.3.0: {}

    anymatch@3.1.3:
        dependencies:
            normalize-path: 3.0.0
            picomatch: 2.3.1

    arg@5.0.2: {}

    argparse@2.0.1: {}

    aria-hidden@1.2.6:
        dependencies:
            tslib: 2.8.1

    array-buffer-byte-length@1.0.2:
        dependencies:
            call-bound: 1.0.4
            is-array-buffer: 3.0.5

    array-includes@3.1.9:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-object-atoms: 1.1.1
            get-intrinsic: 1.3.0
            is-string: 1.1.1
            math-intrinsics: 1.1.0

    array.prototype.findlast@1.2.5:
        dependencies:
            call-bind: 1.0.8
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-errors: 1.3.0
            es-object-atoms: 1.1.1
            es-shim-unscopables: 1.1.0

    array.prototype.flat@1.3.3:
        dependencies:
            call-bind: 1.0.8
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-shim-unscopables: 1.1.0

    array.prototype.flatmap@1.3.3:
        dependencies:
            call-bind: 1.0.8
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-shim-unscopables: 1.1.0

    array.prototype.tosorted@1.1.4:
        dependencies:
            call-bind: 1.0.8
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-errors: 1.3.0
            es-shim-unscopables: 1.1.0

    arraybuffer.prototype.slice@1.0.4:
        dependencies:
            array-buffer-byte-length: 1.0.2
            call-bind: 1.0.8
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-errors: 1.3.0
            get-intrinsic: 1.3.0
            is-array-buffer: 3.0.5

    asn1js@3.0.6:
        dependencies:
            pvtsutils: 1.3.6
            pvutils: 1.1.5
            tslib: 2.8.1

    async-function@1.0.0: {}

    autoprefixer@10.4.21(postcss@8.5.6):
        dependencies:
            browserslist: 4.27.0
            caniuse-lite: 1.0.30001752
            fraction.js: 4.3.7
            normalize-range: 0.1.2
            picocolors: 1.1.1
            postcss: 8.5.6
            postcss-value-parser: 4.2.0

    available-typed-arrays@1.0.7:
        dependencies:
            possible-typed-array-names: 1.1.0

    balanced-match@1.0.2: {}

    base64-js@1.5.1: {}

    baseline-browser-mapping@2.8.22: {}

    bidi-js@1.0.3:
        dependencies:
            require-from-string: 2.0.2

    binary-extensions@2.3.0: {}

    brace-expansion@1.1.12:
        dependencies:
            balanced-match: 1.0.2
            concat-map: 0.0.1

    brace-expansion@2.0.2:
        dependencies:
            balanced-match: 1.0.2

    braces@3.0.3:
        dependencies:
            fill-range: 7.1.1

    browserslist@4.27.0:
        dependencies:
            baseline-browser-mapping: 2.8.22
            caniuse-lite: 1.0.30001752
            electron-to-chromium: 1.5.244
            node-releases: 2.0.27
            update-browserslist-db: 1.1.4(browserslist@4.27.0)

    buffer@6.0.3:
        dependencies:
            base64-js: 1.5.1
            ieee754: 1.2.1

    call-bind-apply-helpers@1.0.2:
        dependencies:
            es-errors: 1.3.0
            function-bind: 1.1.2

    call-bind@1.0.8:
        dependencies:
            call-bind-apply-helpers: 1.0.2
            es-define-property: 1.0.1
            get-intrinsic: 1.3.0
            set-function-length: 1.2.2

    call-bound@1.0.4:
        dependencies:
            call-bind-apply-helpers: 1.0.2
            get-intrinsic: 1.3.0

    callsites@3.1.0: {}

    camelcase-css@2.0.1: {}

    camera-controls@2.10.1(three@0.176.0):
        dependencies:
            three: 0.176.0

    caniuse-lite@1.0.30001752: {}

    cannon-es-debugger@1.0.0(cannon-es@0.20.0)(three@0.176.0)(typescript@5.9.3):
        dependencies:
            cannon-es: 0.20.0
            three: 0.176.0
        optionalDependencies:
            typescript: 5.9.3

    cannon-es@0.20.0: {}

    chalk@4.1.2:
        dependencies:
            ansi-styles: 4.3.0
            supports-color: 7.2.0

    chokidar@3.6.0:
        dependencies:
            anymatch: 3.1.3
            braces: 3.0.3
            glob-parent: 5.1.2
            is-binary-path: 2.1.0
            is-glob: 4.0.3
            normalize-path: 3.0.0
            readdirp: 3.6.0
        optionalDependencies:
            fsevents: 2.3.3

    class-variance-authority@0.7.1:
        dependencies:
            clsx: 2.1.1

    clsx@2.1.1: {}

    cmdk@1.1.1(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            '@radix-ui/react-compose-refs': 1.1.2(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-dialog': 1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            '@radix-ui/react-id': 1.1.1(@types/react@19.1.17)(react@19.1.1)
            '@radix-ui/react-primitive': 2.1.3(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        transitivePeerDependencies:
            - '@types/react'
            - '@types/react-dom'

    color-convert@2.0.1:
        dependencies:
            color-name: 1.1.4

    color-name@1.1.4: {}

    commander@4.1.1: {}

    concat-map@0.0.1: {}

    convert-source-map@2.0.0: {}

    cookie-es@1.2.2: {}

    copy-to-clipboard@3.3.3:
        dependencies:
            toggle-selection: 1.0.6

    cross-env@7.0.3:
        dependencies:
            cross-spawn: 7.0.6

    cross-spawn@7.0.6:
        dependencies:
            path-key: 3.1.1
            shebang-command: 2.0.0
            which: 2.0.2

    css-in-js-utils@3.1.0:
        dependencies:
            hyphenate-style-name: 1.1.0

    css-tree@1.1.3:
        dependencies:
            mdn-data: 2.0.14
            source-map: 0.6.1

    cssesc@3.0.0: {}

    csstype@3.1.3: {}

    d3-array@3.2.4:
        dependencies:
            internmap: 2.0.3

    d3-color@3.1.0: {}

    d3-ease@3.0.1: {}

    d3-format@3.1.0: {}

    d3-interpolate@3.0.1:
        dependencies:
            d3-color: 3.1.0

    d3-path@3.1.0: {}

    d3-scale@4.0.2:
        dependencies:
            d3-array: 3.2.4
            d3-format: 3.1.0
            d3-interpolate: 3.0.1
            d3-time: 3.1.0
            d3-time-format: 4.1.0

    d3-shape@3.2.0:
        dependencies:
            d3-path: 3.1.0

    d3-time-format@4.1.0:
        dependencies:
            d3-time: 3.1.0

    d3-time@3.1.0:
        dependencies:
            d3-array: 3.2.4

    d3-timer@3.0.1: {}

    data-view-buffer@1.0.2:
        dependencies:
            call-bound: 1.0.4
            es-errors: 1.3.0
            is-data-view: 1.0.2

    data-view-byte-length@1.0.2:
        dependencies:
            call-bound: 1.0.4
            es-errors: 1.3.0
            is-data-view: 1.0.2

    data-view-byte-offset@1.0.1:
        dependencies:
            call-bound: 1.0.4
            es-errors: 1.3.0
            is-data-view: 1.0.2

    date-fns-jalali@4.1.0-0: {}

    date-fns@3.6.0: {}

    date-fns@4.1.0: {}

    debug@4.4.3:
        dependencies:
            ms: 2.1.3

    decimal.js-light@2.5.1: {}

    deep-is@0.1.4: {}

    define-data-property@1.1.4:
        dependencies:
            es-define-property: 1.0.1
            es-errors: 1.3.0
            gopd: 1.2.0

    define-properties@1.2.1:
        dependencies:
            define-data-property: 1.1.4
            has-property-descriptors: 1.0.2
            object-keys: 1.1.1

    detect-gpu@5.0.70:
        dependencies:
            webgl-constants: 1.1.1

    detect-libc@2.1.2: {}

    detect-node-es@1.1.0: {}

    didyoumean@1.2.2: {}

    dlv@1.1.3: {}

    doctrine@2.1.0:
        dependencies:
            esutils: 2.0.3

    doctrine@3.0.0:
        dependencies:
            esutils: 2.0.3

    dom-helpers@5.2.1:
        dependencies:
            '@babel/runtime': 7.28.4
            csstype: 3.1.3

    dotenv-cli@8.0.0:
        dependencies:
            cross-spawn: 7.0.6
            dotenv: 16.6.1
            dotenv-expand: 10.0.0
            minimist: 1.2.8

    dotenv-expand@10.0.0: {}

    dotenv@16.6.1: {}

    draco3d@1.5.7: {}

    dunder-proto@1.0.1:
        dependencies:
            call-bind-apply-helpers: 1.0.2
            es-errors: 1.3.0
            gopd: 1.2.0

    eastasianwidth@0.2.0: {}

    electron-to-chromium@1.5.244: {}

    embla-carousel-react@8.6.0(react@19.1.1):
        dependencies:
            embla-carousel: 8.6.0
            embla-carousel-reactive-utils: 8.6.0(embla-carousel@8.6.0)
            react: 19.1.1

    embla-carousel-reactive-utils@8.6.0(embla-carousel@8.6.0):
        dependencies:
            embla-carousel: 8.6.0

    embla-carousel@8.6.0: {}

    emoji-regex@8.0.0: {}

    emoji-regex@9.2.2: {}

    error-stack-parser@2.1.4:
        dependencies:
            stackframe: 1.3.4

    es-abstract@1.24.0:
        dependencies:
            array-buffer-byte-length: 1.0.2
            arraybuffer.prototype.slice: 1.0.4
            available-typed-arrays: 1.0.7
            call-bind: 1.0.8
            call-bound: 1.0.4
            data-view-buffer: 1.0.2
            data-view-byte-length: 1.0.2
            data-view-byte-offset: 1.0.1
            es-define-property: 1.0.1
            es-errors: 1.3.0
            es-object-atoms: 1.1.1
            es-set-tostringtag: 2.1.0
            es-to-primitive: 1.3.0
            function.prototype.name: 1.1.8
            get-intrinsic: 1.3.0
            get-proto: 1.0.1
            get-symbol-description: 1.1.0
            globalthis: 1.0.4
            gopd: 1.2.0
            has-property-descriptors: 1.0.2
            has-proto: 1.2.0
            has-symbols: 1.1.0
            hasown: 2.0.2
            internal-slot: 1.1.0
            is-array-buffer: 3.0.5
            is-callable: 1.2.7
            is-data-view: 1.0.2
            is-negative-zero: 2.0.3
            is-regex: 1.2.1
            is-set: 2.0.3
            is-shared-array-buffer: 1.0.4
            is-string: 1.1.1
            is-typed-array: 1.1.15
            is-weakref: 1.1.1
            math-intrinsics: 1.1.0
            object-inspect: 1.13.4
            object-keys: 1.1.1
            object.assign: 4.1.7
            own-keys: 1.0.1
            regexp.prototype.flags: 1.5.4
            safe-array-concat: 1.1.3
            safe-push-apply: 1.0.0
            safe-regex-test: 1.1.0
            set-proto: 1.0.0
            stop-iteration-iterator: 1.1.0
            string.prototype.trim: 1.2.10
            string.prototype.trimend: 1.0.9
            string.prototype.trimstart: 1.0.8
            typed-array-buffer: 1.0.3
            typed-array-byte-length: 1.0.3
            typed-array-byte-offset: 1.0.4
            typed-array-length: 1.0.7
            unbox-primitive: 1.1.0
            which-typed-array: 1.1.19

    es-define-property@1.0.1: {}

    es-errors@1.3.0: {}

    es-iterator-helpers@1.2.1:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-errors: 1.3.0
            es-set-tostringtag: 2.1.0
            function-bind: 1.1.2
            get-intrinsic: 1.3.0
            globalthis: 1.0.4
            gopd: 1.2.0
            has-property-descriptors: 1.0.2
            has-proto: 1.2.0
            has-symbols: 1.1.0
            internal-slot: 1.1.0
            iterator.prototype: 1.1.5
            safe-array-concat: 1.1.3

    es-object-atoms@1.1.1:
        dependencies:
            es-errors: 1.3.0

    es-set-tostringtag@2.1.0:
        dependencies:
            es-errors: 1.3.0
            get-intrinsic: 1.3.0
            has-tostringtag: 1.0.2
            hasown: 2.0.2

    es-shim-unscopables@1.1.0:
        dependencies:
            hasown: 2.0.2

    es-to-primitive@1.3.0:
        dependencies:
            is-callable: 1.2.7
            is-date-object: 1.1.0
            is-symbol: 1.1.1

    esbuild@0.21.5:
        optionalDependencies:
            '@esbuild/aix-ppc64': 0.21.5
            '@esbuild/android-arm': 0.21.5
            '@esbuild/android-arm64': 0.21.5
            '@esbuild/android-x64': 0.21.5
            '@esbuild/darwin-arm64': 0.21.5
            '@esbuild/darwin-x64': 0.21.5
            '@esbuild/freebsd-arm64': 0.21.5
            '@esbuild/freebsd-x64': 0.21.5
            '@esbuild/linux-arm': 0.21.5
            '@esbuild/linux-arm64': 0.21.5
            '@esbuild/linux-ia32': 0.21.5
            '@esbuild/linux-loong64': 0.21.5
            '@esbuild/linux-mips64el': 0.21.5
            '@esbuild/linux-ppc64': 0.21.5
            '@esbuild/linux-riscv64': 0.21.5
            '@esbuild/linux-s390x': 0.21.5
            '@esbuild/linux-x64': 0.21.5
            '@esbuild/netbsd-x64': 0.21.5
            '@esbuild/openbsd-x64': 0.21.5
            '@esbuild/sunos-x64': 0.21.5
            '@esbuild/win32-arm64': 0.21.5
            '@esbuild/win32-ia32': 0.21.5
            '@esbuild/win32-x64': 0.21.5

    escalade@3.2.0: {}

    escape-string-regexp@4.0.0: {}

    eslint-plugin-react-hooks@5.2.0(eslint@9.27.0(jiti@1.21.7)):
        dependencies:
            eslint: 9.27.0(jiti@1.21.7)

    eslint-plugin-react@7.37.5(eslint@9.27.0(jiti@1.21.7)):
        dependencies:
            array-includes: 3.1.9
            array.prototype.findlast: 1.2.5
            array.prototype.flatmap: 1.3.3
            array.prototype.tosorted: 1.1.4
            doctrine: 2.1.0
            es-iterator-helpers: 1.2.1
            eslint: 9.27.0(jiti@1.21.7)
            estraverse: 5.3.0
            hasown: 2.0.2
            jsx-ast-utils: 3.3.5
            minimatch: 3.1.2
            object.entries: 1.1.9
            object.fromentries: 2.0.8
            object.values: 1.2.1
            prop-types: 15.8.1
            resolve: 2.0.0-next.5
            semver: 6.3.1
            string.prototype.matchall: 4.0.12
            string.prototype.repeat: 1.0.0

    eslint-plugin-tailwindcss@3.18.2(tailwindcss@3.4.18):
        dependencies:
            fast-glob: 3.3.3
            postcss: 8.5.6
            tailwindcss: 3.4.18

    eslint-scope@7.2.2:
        dependencies:
            esrecurse: 4.3.0
            estraverse: 5.3.0

    eslint-scope@8.4.0:
        dependencies:
            esrecurse: 4.3.0
            estraverse: 5.3.0

    eslint-visitor-keys@3.4.3: {}

    eslint-visitor-keys@4.2.1: {}

    eslint@8.57.1:
        dependencies:
            '@eslint-community/eslint-utils': 4.9.0(eslint@8.57.1)
            '@eslint-community/regexpp': 4.12.2
            '@eslint/eslintrc': 2.1.4
            '@eslint/js': 8.57.1
            '@humanwhocodes/config-array': 0.13.0
            '@humanwhocodes/module-importer': 1.0.1
            '@nodelib/fs.walk': 1.2.8
            '@ungap/structured-clone': 1.3.0
            ajv: 6.12.6
            chalk: 4.1.2
            cross-spawn: 7.0.6
            debug: 4.4.3
            doctrine: 3.0.0
            escape-string-regexp: 4.0.0
            eslint-scope: 7.2.2
            eslint-visitor-keys: 3.4.3
            espree: 9.6.1
            esquery: 1.6.0
            esutils: 2.0.3
            fast-deep-equal: 3.1.3
            file-entry-cache: 6.0.1
            find-up: 5.0.0
            glob-parent: 6.0.2
            globals: 13.24.0
            graphemer: 1.4.0
            ignore: 5.3.2
            imurmurhash: 0.1.4
            is-glob: 4.0.3
            is-path-inside: 3.0.3
            js-yaml: 4.1.0
            json-stable-stringify-without-jsonify: 1.0.1
            levn: 0.4.1
            lodash.merge: 4.6.2
            minimatch: 3.1.2
            natural-compare: 1.4.0
            optionator: 0.9.4
            strip-ansi: 6.0.1
            text-table: 0.2.0
        transitivePeerDependencies:
            - supports-color

    eslint@9.27.0(jiti@1.21.7):
        dependencies:
            '@eslint-community/eslint-utils': 4.9.0(eslint@9.27.0(jiti@1.21.7))
            '@eslint-community/regexpp': 4.12.2
            '@eslint/config-array': 0.20.1
            '@eslint/config-helpers': 0.2.3
            '@eslint/core': 0.14.0
            '@eslint/eslintrc': 3.3.1
            '@eslint/js': 9.27.0
            '@eslint/plugin-kit': 0.3.5
            '@humanfs/node': 0.16.7
            '@humanwhocodes/module-importer': 1.0.1
            '@humanwhocodes/retry': 0.4.3
            '@types/estree': 1.0.8
            '@types/json-schema': 7.0.15
            ajv: 6.12.6
            chalk: 4.1.2
            cross-spawn: 7.0.6
            debug: 4.4.3
            escape-string-regexp: 4.0.0
            eslint-scope: 8.4.0
            eslint-visitor-keys: 4.2.1
            espree: 10.4.0
            esquery: 1.6.0
            esutils: 2.0.3
            fast-deep-equal: 3.1.3
            file-entry-cache: 8.0.0
            find-up: 5.0.0
            glob-parent: 6.0.2
            ignore: 5.3.2
            imurmurhash: 0.1.4
            is-glob: 4.0.3
            json-stable-stringify-without-jsonify: 1.0.1
            lodash.merge: 4.6.2
            minimatch: 3.1.2
            natural-compare: 1.4.0
            optionator: 0.9.4
        optionalDependencies:
            jiti: 1.21.7
        transitivePeerDependencies:
            - supports-color

    espree@10.4.0:
        dependencies:
            acorn: 8.15.0
            acorn-jsx: 5.3.2(acorn@8.15.0)
            eslint-visitor-keys: 4.2.1

    espree@9.6.1:
        dependencies:
            acorn: 8.15.0
            acorn-jsx: 5.3.2(acorn@8.15.0)
            eslint-visitor-keys: 3.4.3

    esquery@1.6.0:
        dependencies:
            estraverse: 5.3.0

    esrecurse@4.3.0:
        dependencies:
            estraverse: 5.3.0

    estraverse@5.3.0: {}

    esutils@2.0.3: {}

    eventemitter3@4.0.7: {}

    eventemitter3@5.0.1: {}

    fast-deep-equal@3.1.3: {}

    fast-diff@1.3.0: {}

    fast-equals@5.3.2: {}

    fast-glob@3.3.3:
        dependencies:
            '@nodelib/fs.stat': 2.0.5
            '@nodelib/fs.walk': 1.2.8
            glob-parent: 5.1.2
            merge2: 1.4.1
            micromatch: 4.0.8

    fast-json-stable-stringify@2.1.0: {}

    fast-levenshtein@2.0.6: {}

    fast-shallow-equal@1.0.0: {}

    fastest-stable-stringify@2.0.2: {}

    fastq@1.19.1:
        dependencies:
            reusify: 1.1.0

    fflate@0.6.10: {}

    fflate@0.8.2: {}

    file-entry-cache@6.0.1:
        dependencies:
            flat-cache: 3.2.0

    file-entry-cache@8.0.0:
        dependencies:
            flat-cache: 4.0.1

    fill-range@7.1.1:
        dependencies:
            to-regex-range: 5.0.1

    find-up@5.0.0:
        dependencies:
            locate-path: 6.0.0
            path-exists: 4.0.0

    flat-cache@3.2.0:
        dependencies:
            flatted: 3.3.3
            keyv: 4.5.4
            rimraf: 3.0.2

    flat-cache@4.0.1:
        dependencies:
            flatted: 3.3.3
            keyv: 4.5.4

    flatted@3.3.3: {}

    for-each@0.3.5:
        dependencies:
            is-callable: 1.2.7

    foreground-child@3.3.1:
        dependencies:
            cross-spawn: 7.0.6
            signal-exit: 4.1.0

    fraction.js@4.3.7: {}

    fs.realpath@1.0.0: {}

    fsevents@2.3.3:
        optional: true

    function-bind@1.1.2: {}

    function.prototype.name@1.1.8:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            define-properties: 1.2.1
            functions-have-names: 1.2.3
            hasown: 2.0.2
            is-callable: 1.2.7

    functions-have-names@1.2.3: {}

    generator-function@2.0.1: {}

    gensync@1.0.0-beta.2: {}

    get-intrinsic@1.3.0:
        dependencies:
            call-bind-apply-helpers: 1.0.2
            es-define-property: 1.0.1
            es-errors: 1.3.0
            es-object-atoms: 1.1.1
            function-bind: 1.1.2
            get-proto: 1.0.1
            gopd: 1.2.0
            has-symbols: 1.1.0
            hasown: 2.0.2
            math-intrinsics: 1.1.0

    get-nonce@1.0.1: {}

    get-proto@1.0.1:
        dependencies:
            dunder-proto: 1.0.1
            es-object-atoms: 1.1.1

    get-symbol-description@1.1.0:
        dependencies:
            call-bound: 1.0.4
            es-errors: 1.3.0
            get-intrinsic: 1.3.0

    glob-parent@5.1.2:
        dependencies:
            is-glob: 4.0.3

    glob-parent@6.0.2:
        dependencies:
            is-glob: 4.0.3

    glob@10.4.5:
        dependencies:
            foreground-child: 3.3.1
            jackspeak: 3.4.3
            minimatch: 9.0.5
            minipass: 7.1.2
            package-json-from-dist: 1.0.1
            path-scurry: 1.11.1

    glob@7.2.3:
        dependencies:
            fs.realpath: 1.0.0
            inflight: 1.0.6
            inherits: 2.0.4
            minimatch: 3.1.2
            once: 1.4.0
            path-is-absolute: 1.0.1

    globals@13.24.0:
        dependencies:
            type-fest: 0.20.2

    globals@14.0.0: {}

    globals@16.2.0: {}

    globalthis@1.0.4:
        dependencies:
            define-properties: 1.2.1
            gopd: 1.2.0

    glsl-noise@0.0.0: {}

    gopd@1.2.0: {}

    graphemer@1.4.0: {}

    has-bigints@1.1.0: {}

    has-flag@4.0.0: {}

    has-property-descriptors@1.0.2:
        dependencies:
            es-define-property: 1.0.1

    has-proto@1.2.0:
        dependencies:
            dunder-proto: 1.0.1

    has-symbols@1.1.0: {}

    has-tostringtag@1.0.2:
        dependencies:
            has-symbols: 1.1.0

    hasown@2.0.2:
        dependencies:
            function-bind: 1.1.2

    hls.js@1.6.13: {}

    hyphenate-style-name@1.1.0: {}

    idb@7.1.1: {}

    ieee754@1.2.1: {}

    ignore@5.3.2: {}

    ignore@7.0.5: {}

    immediate@3.0.6: {}

    import-fresh@3.3.1:
        dependencies:
            parent-module: 1.0.1
            resolve-from: 4.0.0

    imurmurhash@0.1.4: {}

    inflight@1.0.6:
        dependencies:
            once: 1.4.0
            wrappy: 1.0.2

    inherits@2.0.4: {}

    inline-style-prefixer@7.0.1:
        dependencies:
            css-in-js-utils: 3.1.0

    input-otp@1.4.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)

    internal-slot@1.1.0:
        dependencies:
            es-errors: 1.3.0
            hasown: 2.0.2
            side-channel: 1.1.0

    internmap@2.0.3: {}

    is-array-buffer@3.0.5:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            get-intrinsic: 1.3.0

    is-async-function@2.1.1:
        dependencies:
            async-function: 1.0.0
            call-bound: 1.0.4
            get-proto: 1.0.1
            has-tostringtag: 1.0.2
            safe-regex-test: 1.1.0

    is-bigint@1.1.0:
        dependencies:
            has-bigints: 1.1.0

    is-binary-path@2.1.0:
        dependencies:
            binary-extensions: 2.3.0

    is-boolean-object@1.2.2:
        dependencies:
            call-bound: 1.0.4
            has-tostringtag: 1.0.2

    is-callable@1.2.7: {}

    is-core-module@2.16.1:
        dependencies:
            hasown: 2.0.2

    is-data-view@1.0.2:
        dependencies:
            call-bound: 1.0.4
            get-intrinsic: 1.3.0
            is-typed-array: 1.1.15

    is-date-object@1.1.0:
        dependencies:
            call-bound: 1.0.4
            has-tostringtag: 1.0.2

    is-extglob@2.1.1: {}

    is-finalizationregistry@1.1.1:
        dependencies:
            call-bound: 1.0.4

    is-fullwidth-code-point@3.0.0: {}

    is-generator-function@1.1.2:
        dependencies:
            call-bound: 1.0.4
            generator-function: 2.0.1
            get-proto: 1.0.1
            has-tostringtag: 1.0.2
            safe-regex-test: 1.1.0

    is-glob@4.0.3:
        dependencies:
            is-extglob: 2.1.1

    is-map@2.0.3: {}

    is-negative-zero@2.0.3: {}

    is-number-object@1.1.1:
        dependencies:
            call-bound: 1.0.4
            has-tostringtag: 1.0.2

    is-number@7.0.0: {}

    is-path-inside@3.0.3: {}

    is-promise@2.2.2: {}

    is-regex@1.2.1:
        dependencies:
            call-bound: 1.0.4
            gopd: 1.2.0
            has-tostringtag: 1.0.2
            hasown: 2.0.2

    is-set@2.0.3: {}

    is-shared-array-buffer@1.0.4:
        dependencies:
            call-bound: 1.0.4

    is-string@1.1.1:
        dependencies:
            call-bound: 1.0.4
            has-tostringtag: 1.0.2

    is-symbol@1.1.1:
        dependencies:
            call-bound: 1.0.4
            has-symbols: 1.1.0
            safe-regex-test: 1.1.0

    is-typed-array@1.1.15:
        dependencies:
            which-typed-array: 1.1.19

    is-weakmap@2.0.2: {}

    is-weakref@1.1.1:
        dependencies:
            call-bound: 1.0.4

    is-weakset@2.0.4:
        dependencies:
            call-bound: 1.0.4
            get-intrinsic: 1.3.0

    isarray@2.0.5: {}

    isbot@5.1.31: {}

    isexe@2.0.0: {}

    iterator.prototype@1.1.5:
        dependencies:
            define-data-property: 1.1.4
            es-object-atoms: 1.1.1
            get-intrinsic: 1.3.0
            get-proto: 1.0.1
            has-symbols: 1.1.0
            set-function-name: 2.0.2

    its-fine@2.0.0(@types/react@19.1.17)(react@19.1.1):
        dependencies:
            '@types/react-reconciler': 0.28.9(@types/react@19.1.17)
            react: 19.1.1
        transitivePeerDependencies:
            - '@types/react'

    jackspeak@3.4.3:
        dependencies:
            '@isaacs/cliui': 8.0.2
        optionalDependencies:
            '@pkgjs/parseargs': 0.11.0

    jiti@1.21.7: {}

    js-cookie@2.2.1: {}

    js-tokens@4.0.0: {}

    js-yaml@4.1.0:
        dependencies:
            argparse: 2.0.1

    jsesc@3.1.0: {}

    json-buffer@3.0.1: {}

    json-schema-traverse@0.4.1: {}

    json-stable-stringify-without-jsonify@1.0.1: {}

    json5@2.2.3: {}

    jsx-ast-utils@3.3.5:
        dependencies:
            array-includes: 3.1.9
            array.prototype.flat: 1.3.3
            object.assign: 4.1.7
            object.values: 1.2.1

    keyv@4.5.4:
        dependencies:
            json-buffer: 3.0.1

    levn@0.4.1:
        dependencies:
            prelude-ls: 1.2.1
            type-check: 0.4.0

    lie@3.3.0:
        dependencies:
            immediate: 3.0.6

    lilconfig@3.1.3: {}

    lines-and-columns@1.2.4: {}

    locate-path@6.0.0:
        dependencies:
            p-locate: 5.0.0

    lodash-es@4.17.21: {}

    lodash.castarray@4.4.0: {}

    lodash.clonedeep@4.5.0: {}

    lodash.isequal@4.5.0: {}

    lodash.isplainobject@4.0.6: {}

    lodash.merge@4.6.2: {}

    lodash@4.17.21: {}

    loose-envify@1.4.0:
        dependencies:
            js-tokens: 4.0.0

    lru-cache@10.4.3: {}

    lru-cache@5.1.1:
        dependencies:
            yallist: 3.1.1

    lucide-react@0.511.0(react@19.1.1):
        dependencies:
            react: 19.1.1

    maath@0.10.8(@types/three@0.176.0)(three@0.176.0):
        dependencies:
            '@types/three': 0.176.0
            three: 0.176.0

    math-intrinsics@1.1.0: {}

    mdn-data@2.0.14: {}

    merge2@1.4.1: {}

    meshline@3.3.1(three@0.176.0):
        dependencies:
            three: 0.176.0

    meshoptimizer@0.18.1: {}

    micromatch@4.0.8:
        dependencies:
            braces: 3.0.3
            picomatch: 2.3.1

    minimatch@3.1.2:
        dependencies:
            brace-expansion: 1.1.12

    minimatch@9.0.5:
        dependencies:
            brace-expansion: 2.0.2

    minimist@1.2.8: {}

    minipass@7.1.2: {}

    ms@2.1.3: {}

    mz@2.7.0:
        dependencies:
            any-promise: 1.3.0
            object-assign: 4.1.1
            thenify-all: 1.6.0

    nano-css@5.6.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            '@jridgewell/sourcemap-codec': 1.5.5
            css-tree: 1.1.3
            csstype: 3.1.3
            fastest-stable-stringify: 2.0.2
            inline-style-prefixer: 7.0.1
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            rtl-css-js: 1.16.1
            stacktrace-js: 2.0.2
            stylis: 4.3.6

    nanoid@3.3.11: {}

    natural-compare@1.4.0: {}

    next-themes@0.4.6(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)

    node-releases@2.0.27: {}

    normalize-path@3.0.0: {}

    normalize-range@0.1.2: {}

    object-assign@4.1.1: {}

    object-hash@3.0.0: {}

    object-inspect@1.13.4: {}

    object-keys@1.1.1: {}

    object.assign@4.1.7:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            define-properties: 1.2.1
            es-object-atoms: 1.1.1
            has-symbols: 1.1.0
            object-keys: 1.1.1

    object.entries@1.1.9:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            define-properties: 1.2.1
            es-object-atoms: 1.1.1

    object.fromentries@2.0.8:
        dependencies:
            call-bind: 1.0.8
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-object-atoms: 1.1.1

    object.values@1.2.1:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            define-properties: 1.2.1
            es-object-atoms: 1.1.1

    once@1.4.0:
        dependencies:
            wrappy: 1.0.2

    optionator@0.9.4:
        dependencies:
            deep-is: 0.1.4
            fast-levenshtein: 2.0.6
            levn: 0.4.1
            prelude-ls: 1.2.1
            type-check: 0.4.0
            word-wrap: 1.2.5

    own-keys@1.0.1:
        dependencies:
            get-intrinsic: 1.3.0
            object-keys: 1.1.1
            safe-push-apply: 1.0.0

    p-limit@3.1.0:
        dependencies:
            yocto-queue: 0.1.0

    p-locate@5.0.0:
        dependencies:
            p-limit: 3.1.0

    package-json-from-dist@1.0.1: {}

    parchment@3.0.0: {}

    parent-module@1.0.1:
        dependencies:
            callsites: 3.1.0

    path-exists@4.0.0: {}

    path-is-absolute@1.0.1: {}

    path-key@3.1.1: {}

    path-parse@1.0.7: {}

    path-scurry@1.11.1:
        dependencies:
            lru-cache: 10.4.3
            minipass: 7.1.2

    picocolors@1.1.1: {}

    picomatch@2.3.1: {}

    pify@2.3.0: {}

    pirates@4.0.7: {}

    possible-typed-array-names@1.1.0: {}

    postcss-import@15.1.0(postcss@8.5.6):
        dependencies:
            postcss: 8.5.6
            postcss-value-parser: 4.2.0
            read-cache: 1.0.0
            resolve: 1.22.11

    postcss-js@4.1.0(postcss@8.5.6):
        dependencies:
            camelcase-css: 2.0.1
            postcss: 8.5.6

    postcss-load-config@6.0.1(jiti@1.21.7)(postcss@8.5.6):
        dependencies:
            lilconfig: 3.1.3
        optionalDependencies:
            jiti: 1.21.7
            postcss: 8.5.6

    postcss-nested@6.2.0(postcss@8.5.6):
        dependencies:
            postcss: 8.5.6
            postcss-selector-parser: 6.1.2

    postcss-selector-parser@6.0.10:
        dependencies:
            cssesc: 3.0.0
            util-deprecate: 1.0.2

    postcss-selector-parser@6.1.2:
        dependencies:
            cssesc: 3.0.0
            util-deprecate: 1.0.2

    postcss-value-parser@4.2.0: {}

    postcss@8.5.6:
        dependencies:
            nanoid: 3.3.11
            picocolors: 1.1.1
            source-map-js: 1.2.1

    potpack@1.0.2: {}

    prelude-ls@1.2.1: {}

    promise-worker-transferable@1.0.4:
        dependencies:
            is-promise: 2.2.2
            lie: 3.3.0

    prop-types@15.8.1:
        dependencies:
            loose-envify: 1.4.0
            object-assign: 4.1.1
            react-is: 16.13.1

    punycode@2.3.1: {}

    pvtsutils@1.3.6:
        dependencies:
            tslib: 2.8.1

    pvutils@1.1.5: {}

    queue-microtask@1.2.3: {}

    quill-delta@5.1.0:
        dependencies:
            fast-diff: 1.3.0
            lodash.clonedeep: 4.5.0
            lodash.isequal: 4.5.0

    quill@2.0.3:
        dependencies:
            eventemitter3: 5.0.1
            lodash-es: 4.17.21
            parchment: 3.0.0
            quill-delta: 5.1.0

    react-day-picker@9.11.1(react@19.1.1):
        dependencies:
            '@date-fns/tz': 1.4.1
            date-fns: 4.1.0
            date-fns-jalali: 4.1.0-0
            react: 19.1.1

    react-dom@19.1.1(react@19.1.1):
        dependencies:
            react: 19.1.1
            scheduler: 0.26.0

    react-hook-form@7.65.0(react@19.1.1):
        dependencies:
            react: 19.1.1

    react-icons@5.5.0(react@19.1.1):
        dependencies:
            react: 19.1.1

    react-is@16.13.1: {}

    react-is@18.3.1: {}

    react-quill-new@3.4.6(quill-delta@5.1.0)(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            lodash-es: 4.17.21
            quill: 2.0.3
            quill-delta: 5.1.0
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)

    react-reconciler@0.31.0(react@19.1.1):
        dependencies:
            react: 19.1.1
            scheduler: 0.25.0

    react-refresh@0.17.0: {}

    react-remove-scroll-bar@2.3.8(@types/react@19.1.17)(react@19.1.1):
        dependencies:
            react: 19.1.1
            react-style-singleton: 2.2.3(@types/react@19.1.17)(react@19.1.1)
            tslib: 2.8.1
        optionalDependencies:
            '@types/react': 19.1.17

    react-remove-scroll@2.7.1(@types/react@19.1.17)(react@19.1.1):
        dependencies:
            react: 19.1.1
            react-remove-scroll-bar: 2.3.8(@types/react@19.1.17)(react@19.1.1)
            react-style-singleton: 2.2.3(@types/react@19.1.17)(react@19.1.1)
            tslib: 2.8.1
            use-callback-ref: 1.3.3(@types/react@19.1.17)(react@19.1.1)
            use-sidecar: 1.1.3(@types/react@19.1.17)(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17

    react-resizable-panels@2.1.9(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)

    react-smooth@4.0.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            fast-equals: 5.3.2
            prop-types: 15.8.1
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            react-transition-group: 4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1)

    react-style-singleton@2.2.3(@types/react@19.1.17)(react@19.1.1):
        dependencies:
            get-nonce: 1.0.1
            react: 19.1.1
            tslib: 2.8.1
        optionalDependencies:
            '@types/react': 19.1.17

    react-transition-group@4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            '@babel/runtime': 7.28.4
            dom-helpers: 5.2.1
            loose-envify: 1.4.0
            prop-types: 15.8.1
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)

    react-universal-interface@0.6.2(react@19.1.1)(tslib@2.8.1):
        dependencies:
            react: 19.1.1
            tslib: 2.8.1

    react-use-measure@2.1.7(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            react: 19.1.1
        optionalDependencies:
            react-dom: 19.1.1(react@19.1.1)

    react-use@17.6.0(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            '@types/js-cookie': 2.2.7
            '@xobotyi/scrollbar-width': 1.9.5
            copy-to-clipboard: 3.3.3
            fast-deep-equal: 3.1.3
            fast-shallow-equal: 1.0.0
            js-cookie: 2.2.1
            nano-css: 5.6.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            react-universal-interface: 0.6.2(react@19.1.1)(tslib@2.8.1)
            resize-observer-polyfill: 1.5.1
            screenfull: 5.2.0
            set-harmonic-interval: 1.0.1
            throttle-debounce: 3.0.1
            ts-easing: 0.2.0
            tslib: 2.8.1

    react@19.1.1: {}

    read-cache@1.0.0:
        dependencies:
            pify: 2.3.0

    readdirp@3.6.0:
        dependencies:
            picomatch: 2.3.1

    recharts-scale@0.4.5:
        dependencies:
            decimal.js-light: 2.5.1

    recharts@2.15.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            clsx: 2.1.1
            eventemitter3: 4.0.7
            lodash: 4.17.21
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
            react-is: 18.3.1
            react-smooth: 4.0.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            recharts-scale: 0.4.5
            tiny-invariant: 1.3.3
            victory-vendor: 36.9.2

    reflect.getprototypeof@1.0.10:
        dependencies:
            call-bind: 1.0.8
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-errors: 1.3.0
            es-object-atoms: 1.1.1
            get-intrinsic: 1.3.0
            get-proto: 1.0.1
            which-builtin-type: 1.2.1

    regexp.prototype.flags@1.5.4:
        dependencies:
            call-bind: 1.0.8
            define-properties: 1.2.1
            es-errors: 1.3.0
            get-proto: 1.0.1
            gopd: 1.2.0
            set-function-name: 2.0.2

    require-from-string@2.0.2: {}

    resize-observer-polyfill@1.5.1: {}

    resolve-from@4.0.0: {}

    resolve@1.22.11:
        dependencies:
            is-core-module: 2.16.1
            path-parse: 1.0.7
            supports-preserve-symlinks-flag: 1.0.0

    resolve@2.0.0-next.5:
        dependencies:
            is-core-module: 2.16.1
            path-parse: 1.0.7
            supports-preserve-symlinks-flag: 1.0.0

    reusify@1.1.0: {}

    rimraf@3.0.2:
        dependencies:
            glob: 7.2.3

    rollup@4.52.5:
        dependencies:
            '@types/estree': 1.0.8
        optionalDependencies:
            '@rollup/rollup-android-arm-eabi': 4.52.5
            '@rollup/rollup-android-arm64': 4.52.5
            '@rollup/rollup-darwin-arm64': 4.52.5
            '@rollup/rollup-darwin-x64': 4.52.5
            '@rollup/rollup-freebsd-arm64': 4.52.5
            '@rollup/rollup-freebsd-x64': 4.52.5
            '@rollup/rollup-linux-arm-gnueabihf': 4.52.5
            '@rollup/rollup-linux-arm-musleabihf': 4.52.5
            '@rollup/rollup-linux-arm64-gnu': 4.52.5
            '@rollup/rollup-linux-arm64-musl': 4.52.5
            '@rollup/rollup-linux-loong64-gnu': 4.52.5
            '@rollup/rollup-linux-ppc64-gnu': 4.52.5
            '@rollup/rollup-linux-riscv64-gnu': 4.52.5
            '@rollup/rollup-linux-riscv64-musl': 4.52.5
            '@rollup/rollup-linux-s390x-gnu': 4.52.5
            '@rollup/rollup-linux-x64-gnu': 4.52.5
            '@rollup/rollup-linux-x64-musl': 4.52.5
            '@rollup/rollup-openharmony-arm64': 4.52.5
            '@rollup/rollup-win32-arm64-msvc': 4.52.5
            '@rollup/rollup-win32-ia32-msvc': 4.52.5
            '@rollup/rollup-win32-x64-gnu': 4.52.5
            '@rollup/rollup-win32-x64-msvc': 4.52.5
            fsevents: 2.3.3

    rtl-css-js@1.16.1:
        dependencies:
            '@babel/runtime': 7.28.4

    run-parallel@1.2.0:
        dependencies:
            queue-microtask: 1.2.3

    safe-array-concat@1.1.3:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            get-intrinsic: 1.3.0
            has-symbols: 1.1.0
            isarray: 2.0.5

    safe-push-apply@1.0.0:
        dependencies:
            es-errors: 1.3.0
            isarray: 2.0.5

    safe-regex-test@1.1.0:
        dependencies:
            call-bound: 1.0.4
            es-errors: 1.3.0
            is-regex: 1.2.1

    scheduler@0.25.0: {}

    scheduler@0.26.0: {}

    screenfull@5.2.0: {}

    semver@6.3.1: {}

    semver@7.7.3: {}

    seroval-plugins@1.3.3(seroval@1.3.2):
        dependencies:
            seroval: 1.3.2

    seroval@1.3.2: {}

    set-function-length@1.2.2:
        dependencies:
            define-data-property: 1.1.4
            es-errors: 1.3.0
            function-bind: 1.1.2
            get-intrinsic: 1.3.0
            gopd: 1.2.0
            has-property-descriptors: 1.0.2

    set-function-name@2.0.2:
        dependencies:
            define-data-property: 1.1.4
            es-errors: 1.3.0
            functions-have-names: 1.2.3
            has-property-descriptors: 1.0.2

    set-harmonic-interval@1.0.1: {}

    set-proto@1.0.0:
        dependencies:
            dunder-proto: 1.0.1
            es-errors: 1.3.0
            es-object-atoms: 1.1.1

    sharp@0.34.4:
        dependencies:
            '@img/colour': 1.0.0
            detect-libc: 2.1.2
            semver: 7.7.3
        optionalDependencies:
            '@img/sharp-darwin-arm64': 0.34.4
            '@img/sharp-darwin-x64': 0.34.4
            '@img/sharp-libvips-darwin-arm64': 1.2.3
            '@img/sharp-libvips-darwin-x64': 1.2.3
            '@img/sharp-libvips-linux-arm': 1.2.3
            '@img/sharp-libvips-linux-arm64': 1.2.3
            '@img/sharp-libvips-linux-ppc64': 1.2.3
            '@img/sharp-libvips-linux-s390x': 1.2.3
            '@img/sharp-libvips-linux-x64': 1.2.3
            '@img/sharp-libvips-linuxmusl-arm64': 1.2.3
            '@img/sharp-libvips-linuxmusl-x64': 1.2.3
            '@img/sharp-linux-arm': 0.34.4
            '@img/sharp-linux-arm64': 0.34.4
            '@img/sharp-linux-ppc64': 0.34.4
            '@img/sharp-linux-s390x': 0.34.4
            '@img/sharp-linux-x64': 0.34.4
            '@img/sharp-linuxmusl-arm64': 0.34.4
            '@img/sharp-linuxmusl-x64': 0.34.4
            '@img/sharp-wasm32': 0.34.4
            '@img/sharp-win32-arm64': 0.34.4
            '@img/sharp-win32-ia32': 0.34.4
            '@img/sharp-win32-x64': 0.34.4

    shebang-command@2.0.0:
        dependencies:
            shebang-regex: 3.0.0

    shebang-regex@3.0.0: {}

    side-channel-list@1.0.0:
        dependencies:
            es-errors: 1.3.0
            object-inspect: 1.13.4

    side-channel-map@1.0.1:
        dependencies:
            call-bound: 1.0.4
            es-errors: 1.3.0
            get-intrinsic: 1.3.0
            object-inspect: 1.13.4

    side-channel-weakmap@1.0.2:
        dependencies:
            call-bound: 1.0.4
            es-errors: 1.3.0
            get-intrinsic: 1.3.0
            object-inspect: 1.13.4
            side-channel-map: 1.0.1

    side-channel@1.1.0:
        dependencies:
            es-errors: 1.3.0
            object-inspect: 1.13.4
            side-channel-list: 1.0.0
            side-channel-map: 1.0.1
            side-channel-weakmap: 1.0.2

    signal-exit@4.1.0: {}

    sonner@1.7.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)

    source-map-js@1.2.1: {}

    source-map@0.5.6: {}

    source-map@0.6.1: {}

    stack-generator@2.0.10:
        dependencies:
            stackframe: 1.3.4

    stackframe@1.3.4: {}

    stacktrace-gps@3.1.2:
        dependencies:
            source-map: 0.5.6
            stackframe: 1.3.4

    stacktrace-js@2.0.2:
        dependencies:
            error-stack-parser: 2.1.4
            stack-generator: 2.0.10
            stacktrace-gps: 3.1.2

    stats-gl@2.4.2(@types/three@0.176.0)(three@0.176.0):
        dependencies:
            '@types/three': 0.176.0
            three: 0.176.0

    stats.js@0.17.0: {}

    stop-iteration-iterator@1.1.0:
        dependencies:
            es-errors: 1.3.0
            internal-slot: 1.1.0

    string-width@4.2.3:
        dependencies:
            emoji-regex: 8.0.0
            is-fullwidth-code-point: 3.0.0
            strip-ansi: 6.0.1

    string-width@5.1.2:
        dependencies:
            eastasianwidth: 0.2.0
            emoji-regex: 9.2.2
            strip-ansi: 7.1.2

    string.prototype.matchall@4.0.12:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-errors: 1.3.0
            es-object-atoms: 1.1.1
            get-intrinsic: 1.3.0
            gopd: 1.2.0
            has-symbols: 1.1.0
            internal-slot: 1.1.0
            regexp.prototype.flags: 1.5.4
            set-function-name: 2.0.2
            side-channel: 1.1.0

    string.prototype.repeat@1.0.0:
        dependencies:
            define-properties: 1.2.1
            es-abstract: 1.24.0

    string.prototype.trim@1.2.10:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            define-data-property: 1.1.4
            define-properties: 1.2.1
            es-abstract: 1.24.0
            es-object-atoms: 1.1.1
            has-property-descriptors: 1.0.2

    string.prototype.trimend@1.0.9:
        dependencies:
            call-bind: 1.0.8
            call-bound: 1.0.4
            define-properties: 1.2.1
            es-object-atoms: 1.1.1

    string.prototype.trimstart@1.0.8:
        dependencies:
            call-bind: 1.0.8
            define-properties: 1.2.1
            es-object-atoms: 1.1.1

    strip-ansi@6.0.1:
        dependencies:
            ansi-regex: 5.0.1

    strip-ansi@7.1.2:
        dependencies:
            ansi-regex: 6.2.2

    strip-json-comments@3.1.1: {}

    stylis@4.3.6: {}

    sucrase@3.35.0:
        dependencies:
            '@jridgewell/gen-mapping': 0.3.13
            commander: 4.1.1
            glob: 10.4.5
            lines-and-columns: 1.2.4
            mz: 2.7.0
            pirates: 4.0.7
            ts-interface-checker: 0.1.13

    supports-color@7.2.0:
        dependencies:
            has-flag: 4.0.0

    supports-preserve-symlinks-flag@1.0.0: {}

    suspend-react@0.1.3(react@19.1.1):
        dependencies:
            react: 19.1.1

    tailwind-merge@2.6.0: {}

    tailwindcss-animate@1.0.7(tailwindcss@3.4.18):
        dependencies:
            tailwindcss: 3.4.18

    tailwindcss@3.4.18:
        dependencies:
            '@alloc/quick-lru': 5.2.0
            arg: 5.0.2
            chokidar: 3.6.0
            didyoumean: 1.2.2
            dlv: 1.1.3
            fast-glob: 3.3.3
            glob-parent: 6.0.2
            is-glob: 4.0.3
            jiti: 1.21.7
            lilconfig: 3.1.3
            micromatch: 4.0.8
            normalize-path: 3.0.0
            object-hash: 3.0.0
            picocolors: 1.1.1
            postcss: 8.5.6
            postcss-import: 15.1.0(postcss@8.5.6)
            postcss-js: 4.1.0(postcss@8.5.6)
            postcss-load-config: 6.0.1(jiti@1.21.7)(postcss@8.5.6)
            postcss-nested: 6.2.0(postcss@8.5.6)
            postcss-selector-parser: 6.1.2
            resolve: 1.22.11
            sucrase: 3.35.0
        transitivePeerDependencies:
            - tsx
            - yaml

    text-table@0.2.0: {}

    thenify-all@1.6.0:
        dependencies:
            thenify: 3.3.1

    thenify@3.3.1:
        dependencies:
            any-promise: 1.3.0

    three-mesh-bvh@0.8.3(three@0.176.0):
        dependencies:
            three: 0.176.0

    three-stdlib@2.36.0(three@0.176.0):
        dependencies:
            '@types/draco3d': 1.4.10
            '@types/offscreencanvas': 2019.7.3
            '@types/webxr': 0.5.24
            draco3d: 1.5.7
            fflate: 0.6.10
            potpack: 1.0.2
            three: 0.176.0

    three@0.176.0: {}

    throttle-debounce@3.0.1: {}

    tiny-invariant@1.3.3: {}

    tiny-warning@1.0.3: {}

    to-regex-range@5.0.1:
        dependencies:
            is-number: 7.0.0

    toggle-selection@1.0.6: {}

    troika-three-text@0.52.4(three@0.176.0):
        dependencies:
            bidi-js: 1.0.3
            three: 0.176.0
            troika-three-utils: 0.52.4(three@0.176.0)
            troika-worker-utils: 0.52.0
            webgl-sdf-generator: 1.1.1

    troika-three-utils@0.52.4(three@0.176.0):
        dependencies:
            three: 0.176.0

    troika-worker-utils@0.52.0: {}

    ts-api-utils@2.1.0(typescript@5.9.3):
        dependencies:
            typescript: 5.9.3

    ts-easing@0.2.0: {}

    ts-interface-checker@0.1.13: {}

    tslib@2.8.1: {}

    tunnel-rat@0.1.2(@types/react@19.1.17)(react@19.1.1):
        dependencies:
            zustand: 4.5.7(@types/react@19.1.17)(react@19.1.1)
        transitivePeerDependencies:
            - '@types/react'
            - immer
            - react

    type-check@0.4.0:
        dependencies:
            prelude-ls: 1.2.1

    type-fest@0.20.2: {}

    typed-array-buffer@1.0.3:
        dependencies:
            call-bound: 1.0.4
            es-errors: 1.3.0
            is-typed-array: 1.1.15

    typed-array-byte-length@1.0.3:
        dependencies:
            call-bind: 1.0.8
            for-each: 0.3.5
            gopd: 1.2.0
            has-proto: 1.2.0
            is-typed-array: 1.1.15

    typed-array-byte-offset@1.0.4:
        dependencies:
            available-typed-arrays: 1.0.7
            call-bind: 1.0.8
            for-each: 0.3.5
            gopd: 1.2.0
            has-proto: 1.2.0
            is-typed-array: 1.1.15
            reflect.getprototypeof: 1.0.10

    typed-array-length@1.0.7:
        dependencies:
            call-bind: 1.0.8
            for-each: 0.3.5
            gopd: 1.2.0
            is-typed-array: 1.1.15
            possible-typed-array-names: 1.1.0
            reflect.getprototypeof: 1.0.10

    typescript@5.9.3: {}

    unbox-primitive@1.1.0:
        dependencies:
            call-bound: 1.0.4
            has-bigints: 1.1.0
            has-symbols: 1.1.0
            which-boxed-primitive: 1.1.1

    undici-types@6.21.0: {}

    update-browserslist-db@1.1.4(browserslist@4.27.0):
        dependencies:
            browserslist: 4.27.0
            escalade: 3.2.0
            picocolors: 1.1.1

    uri-js@4.4.1:
        dependencies:
            punycode: 2.3.1

    use-callback-ref@1.3.3(@types/react@19.1.17)(react@19.1.1):
        dependencies:
            react: 19.1.1
            tslib: 2.8.1
        optionalDependencies:
            '@types/react': 19.1.17

    use-sidecar@1.1.3(@types/react@19.1.17)(react@19.1.1):
        dependencies:
            detect-node-es: 1.1.0
            react: 19.1.1
            tslib: 2.8.1
        optionalDependencies:
            '@types/react': 19.1.17

    use-sync-external-store@1.6.0(react@19.1.1):
        dependencies:
            react: 19.1.1

    util-deprecate@1.0.2: {}

    utility-types@3.11.0: {}

    vaul@1.1.2(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1):
        dependencies:
            '@radix-ui/react-dialog': 1.1.15(@types/react-dom@19.1.11(@types/react@19.1.17))(@types/react@19.1.17)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)
            react: 19.1.1
            react-dom: 19.1.1(react@19.1.1)
        transitivePeerDependencies:
            - '@types/react'
            - '@types/react-dom'

    victory-vendor@36.9.2:
        dependencies:
            '@types/d3-array': 3.2.2
            '@types/d3-ease': 3.0.2
            '@types/d3-interpolate': 3.0.4
            '@types/d3-scale': 4.0.9
            '@types/d3-shape': 3.1.7
            '@types/d3-time': 3.0.4
            '@types/d3-timer': 3.0.2
            d3-array: 3.2.4
            d3-ease: 3.0.1
            d3-interpolate: 3.0.1
            d3-scale: 4.0.2
            d3-shape: 3.2.0
            d3-time: 3.1.0
            d3-timer: 3.0.1

    vite-plugin-environment@1.1.3(vite@5.4.21(@types/node@20.19.24)):
        dependencies:
            vite: 5.4.21(@types/node@20.19.24)

    vite@5.4.21(@types/node@20.19.24):
        dependencies:
            esbuild: 0.21.5
            postcss: 8.5.6
            rollup: 4.52.5
        optionalDependencies:
            '@types/node': 20.19.24
            fsevents: 2.3.3

    webgl-constants@1.1.1: {}

    webgl-sdf-generator@1.1.1: {}

    which-boxed-primitive@1.1.1:
        dependencies:
            is-bigint: 1.1.0
            is-boolean-object: 1.2.2
            is-number-object: 1.1.1
            is-string: 1.1.1
            is-symbol: 1.1.1

    which-builtin-type@1.2.1:
        dependencies:
            call-bound: 1.0.4
            function.prototype.name: 1.1.8
            has-tostringtag: 1.0.2
            is-async-function: 2.1.1
            is-date-object: 1.1.0
            is-finalizationregistry: 1.1.1
            is-generator-function: 1.1.2
            is-regex: 1.2.1
            is-weakref: 1.1.1
            isarray: 2.0.5
            which-boxed-primitive: 1.1.1
            which-collection: 1.0.2
            which-typed-array: 1.1.19

    which-collection@1.0.2:
        dependencies:
            is-map: 2.0.3
            is-set: 2.0.3
            is-weakmap: 2.0.2
            is-weakset: 2.0.4

    which-typed-array@1.1.19:
        dependencies:
            available-typed-arrays: 1.0.7
            call-bind: 1.0.8
            call-bound: 1.0.4
            for-each: 0.3.5
            get-proto: 1.0.1
            gopd: 1.2.0
            has-tostringtag: 1.0.2

    which@2.0.2:
        dependencies:
            isexe: 2.0.0

    word-wrap@1.2.5: {}

    wrap-ansi@7.0.0:
        dependencies:
            ansi-styles: 4.3.0
            string-width: 4.2.3
            strip-ansi: 6.0.1

    wrap-ansi@8.1.0:
        dependencies:
            ansi-styles: 6.2.3
            string-width: 5.1.2
            strip-ansi: 7.1.2

    wrappy@1.0.2: {}

    yallist@3.1.1: {}

    yocto-queue@0.1.0: {}

    zustand@4.5.7(@types/react@19.1.17)(react@19.1.1):
        dependencies:
            use-sync-external-store: 1.6.0(react@19.1.1)
        optionalDependencies:
            '@types/react': 19.1.17
            react: 19.1.1

    zustand@5.0.8(@types/react@19.1.17)(react@19.1.1)(use-sync-external-store@1.6.0(react@19.1.1)):
        optionalDependencies:
            '@types/react': 19.1.17
            react: 19.1.1
            use-sync-external-store: 1.6.0(react@19.1.1)
PK
build-template/PK
build-template/tsconfig.jsonPK
build-template/src/PK
build-template/src/frontend/PK
build-template/src/frontend/components.jsonPK
build-template/package.jsonPK
build-template/pnpm-workspace.yamlPK
build-template/src/frontend/package.jsonPK
backend/PK
backend/stripe/PK
backend/stripe/stripe.moPK
build-template/src/frontend/env.jsonPK
backend/authorization/PK
backend/authorization/access-control.moPK
build-template/src/backend/PK
build-template/src/backend/system-idl/PK
build-template/src/backend/system-idl/aaaaa-aa.didPK
build-template/src/frontend/eslint-rules/PK
build-template/src/frontend/eslint-rules/no-bigint-in-query-keys.jsPK
build-template/src/frontend/src/PK
build-template/src/frontend/src/components/PK
build-template/src/frontend/src/components/ui/PK
build-template/src/frontend/src/components/ui/button.tsxPK
build-template/src/frontend/src/components/ui/calendar.tsxPK
build-template/src/frontend/src/components/ui/chart.tsxPK
build-template/src/frontend/src/components/ui/accordion.tsxPK
build-template/src/frontend/src/components/ui/checkbox.tsxPK
build-template/src/frontend/src/components/ui/command.tsxPK
build-template/src/frontend/src/components/ui/collapsible.tsxPK
build-template/src/frontend/src/components/ui/avatar.tsxPK
build-template/src/frontend/src/components/ui/alert-dialog.tsxPK
build-template/src/frontend/tsconfig.jsonPK
build-template/src/frontend/src/components/ui/breadcrumb.tsxPK
build-template/src/frontend/src/components/ui/label.tsxPK
build-template/src/frontend/src/components/ui/progress.tsxPK
build-template/src/frontend/src/components/ui/drawer.tsxPK
build-template/src/frontend/src/components/ui/radio-group.tsxPK
build-template/src/frontend/src/components/ui/badge.tsxPK
build-template/src/frontend/src/components/ui/pagination.tsxPK
build-template/src/frontend/src/components/ui/menubar.tsxPK
build-template/src/frontend/src/components/ui/popover.tsxPK
build-template/src/frontend/src/components/ui/hover-card.tsxPK
build-template/src/frontend/src/components/ui/input.tsxPK
build-template/src/frontend/src/components/ui/slider.tsxPK
build-template/src/frontend/src/components/ui/context-menu.tsxPK
build-template/src/frontend/src/components/ui/card.tsxPK
build-template/src/frontend/src/components/ui/dialog.tsxPK
build-template/src/frontend/src/components/ui/input-otp.tsxPK
build-template/src/frontend/src/components/ui/form.tsxPK
build-template/src/frontend/src/components/ui/resizable.tsxPK
build-template/src/frontend/src/lib/PK
build-template/src/frontend/src/lib/utils.tsPK
build-template/src/frontend/src/components/ui/scroll-area.tsxPK
build-template/src/frontend/src/components/ui/toggle.tsxPK
build-template/src/frontend/src/components/ui/switch.tsxPK
build-template/src/frontend/src/components/ui/aspect-ratio.tsxPK
build-template/src/frontend/src/components/ui/skeleton.tsxPK
build-template/src/frontend/src/components/ui/carousel.tsxPK
build-template/src/frontend/src/components/ui/navigation-menu.tsxPK
build-template/src/frontend/src/hooks/PK
build-template/src/frontend/src/hooks/use-mobile.tsxPK
build-template/src/frontend/src/components/ui/textarea.tsxPK
frontend/PK
frontend/src/PK
frontend/src/lib/PK
frontend/src/lib/universeEnergyConnector.tsPK
build-template/src/frontend/src/components/ui/toggle-group.tsxPK
frontend/src/components/PK
frontend/src/components/EnergyCoinBalanceTracker.tsxPK
frontend/src/components/EnergyCoinActions.tsxPK
frontend/src/components/AccessDeniedScreen.tsxPK
frontend/src/components/EnergyTransactionHistory.tsxPK
build-template/src/frontend/src/components/ui/tabs.tsxPK
build-template/src/frontend/src/components/ui/sonner.tsxPK
build-template/src/frontend/src/components/ui/dropdown-menu.tsxPK
frontend/src/lib/icpPaymentModule.tsPK
build-template/src/frontend/src/components/ui/table.tsxPK
frontend/src/App.tsxPK
build-template/src/frontend/src/components/ui/select.tsxPK
build-template/src/frontend/src/components/ui/separator.tsxPK
frontend/src/components/EnergyParticleFlow.tsxPK
frontend/src/pages/PK
frontend/src/pages/ArtifactCultivationPage.tsxPK
build-template/src/frontend/src/components/ui/tooltip.tsxPK
frontend/src/lib/externalEnergyConnector.tsPK
frontend/src/components/PaymentProgressTracker.tsxPK
frontend/src/components/Header.tsxPK
frontend/index.htmlPK
build-template/src/frontend/src/components/ui/sheet.tsxPK
frontend/src/pages/DaoFaPage.tsxPK
frontend/src/lib/externalBackendConnector.tsPK
frontend/src/pages/ArtifactPathPage.tsxPK
build-template/scripts/PK
build-template/scripts/resize-images.jsPK
frontend/src/components/PaymentConsoleViewer.tsxPK
frontend/src/components/SecurePaymentInterface.tsxPK
frontend/src/components/PaymentVerificationBadge.tsxPK
frontend/src/components/Footer.tsxPK
frontend/src/lib/nftMarketplaceConnector.tsPK
build-template/src/frontend/src/components/ui/sidebar.tsxPK
build-template/src/frontend/src/components/ui/alert.tsxPK
frontend/src/components/ExternalEnergyDisplay.tsxPK
frontend/src/components/UnifiedErrorBoundary.tsxPK
build-template/src/frontend/eslint-rules/require-internet-identity-provider.jsPK
frontend/src/main.tsxPK
frontend/src/pages/WuDaoPage.tsxPK
frontend/src/hooks/PK
frontend/src/hooks/useQueries.tsPK
frontend/src/utils/PK
frontend/src/utils/urlParams.tsPK
build-template/src/frontend/postcss.config.jsPK
backend/main.moPK
frontend/src/lib/martialQiAnimations.tsPK
build-template/src/frontend/vite.config.jsPK
frontend/src/pages/WuDianPage.tsxPK
frontend/src/pages/EnergyCoinPage.tsxPK
build-template/scripts/prune-unused-images.jsPK
frontend/src/pages/EasternCultivationPage.tsxPK
frontend/src/components/LFLCModuleConnectionMonitor.tsxPK
frontend/src/hooks/useEditor.tsPK
frontend/src/components/ProfileSetupModal.tsxPK
frontend/src/pages/InvocationPage.tsxPK
frontend/src/components/UnifiedLoadingState.tsxPK
frontend/src/pages/MartialQiPage.tsxPK
frontend/src/lib/lflcModuleConnector.tsPK
spec.mdPK
frontend/src/pages/ModuleConnectionPage.tsxPK
frontend/src/components/UniverseEnergyDisplay.tsxPK
frontend/src/components/MultiWalletDistributionVisualizer.tsxPK
frontend/src/pages/AwakeningPage.tsxPK
build-template/src/frontend/eslint.config.jsPK
frontend/src/pages/UnifiedDashboardPage.tsxPK
frontend/src/pages/DeploymentStatusPage.tsxPK
frontend/tailwind.config.jsPK
frontend/src/index.cssPK
frontend/src/pages/ClickerGamePage.tsxPK
frontend/src/pages/LuckyDrawPage.tsxPK
frontend/src/pages/SubscriptionDashboardPage.tsxPK
frontend/src/lib/unifiedArchitecture.tsPK
frontend/src/pages/IntegrationDashboardPage.tsxPK
build-template/pnpm-lock.yamlPK